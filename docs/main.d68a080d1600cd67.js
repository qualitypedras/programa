"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[179],{6217:(Gt,qe,U)=>{U.d(qe,{nm:()=>hi});var _=U(2122);U(4650),U(259);var Ve=U(5861),k=U(9681),ye=U(4859),be=U(2090),Me=U(1877);const Ce=new Map,Re={activated:!1,tokenObservers:[]},pt={initialized:!1,enabled:!1};function bt(Ue){return Ce.get(Ue)||Object.assign({},Re)}function Ht(){return pt}const rt="https://content-firebaseappcheck.googleapis.com/v1",ut="exchangeDebugToken",wt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ot{constructor(je,lt,At,$t,mn){if(this.operation=je,this.retryPolicy=lt,this.getWaitDuration=At,this.lowerBound=$t,this.upperBound=mn,this.pending=null,this.nextErrorWaitInterval=$t,$t>mn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var lt=this;return(0,Ve.Z)(function*(){lt.stop();try{lt.pending=new be.BH,yield function Rt(Ue){return new Promise(je=>{setTimeout(je,Ue)})}(lt.getNextRun(je)),lt.pending.resolve(),yield lt.pending.promise,lt.pending=new be.BH,yield lt.operation(),lt.pending.resolve(),yield lt.pending.promise,lt.process(!0).catch(()=>{})}catch(At){lt.retryPolicy(At)?lt.process(!1).catch(()=>{}):lt.stop()}})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const lt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),lt}}}const Ft=new be.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ir(Ue,je){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,Ve.Z)(function*({url:Ue,body:je},lt){const At={"Content-Type":"application/json"},$t=lt.getImmediate({optional:!0});if($t){const Ji=yield $t.getHeartbeatsHeader();Ji&&(At["X-Firebase-Client"]=Ji)}const mn={method:"POST",body:JSON.stringify(je),headers:At};let Mn,kn;try{Mn=yield fetch(Ue,mn)}catch(Ji){throw Ft.create("fetch-network-error",{originalErrorMessage:Ji?.message})}if(200!==Mn.status)throw Ft.create("fetch-status-error",{httpStatus:Mn.status});try{kn=yield Mn.json()}catch(Ji){throw Ft.create("fetch-parse-error",{originalErrorMessage:Ji?.message})}const gr=kn.ttl.match(/^([\d.]+)(s)$/);if(!gr||!gr[2]||isNaN(Number(gr[1])))throw Ft.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${kn.ttl}`});const Wr=1e3*Number(gr[1]),Pi=Date.now();return{token:kn.token,expireTimeMillis:Pi+Wr,issuedAtTimeMillis:Pi}})).apply(this,arguments)}const qn="firebase-app-check-database",zr=1,Dr="firebase-app-check-store";let qt=null;function Sn(Ue,je){return zn.apply(this,arguments)}function zn(){return(zn=(0,Ve.Z)(function*(Ue,je){const At=(yield function Dn(){return qt||(qt=new Promise((Ue,je)=>{try{const lt=indexedDB.open(qn,zr);lt.onsuccess=At=>{Ue(At.target.result)},lt.onerror=At=>{var $t;je(Ft.create("storage-open",{originalErrorMessage:null===($t=At.target.error)||void 0===$t?void 0:$t.message}))},lt.onupgradeneeded=At=>{0===At.oldVersion&&At.target.result.createObjectStore(Dr,{keyPath:"compositeKey"})}}catch(lt){je(Ft.create("storage-open",{originalErrorMessage:lt?.message}))}}),qt)}()).transaction(Dr,"readwrite"),mn=At.objectStore(Dr).put({compositeKey:Ue,value:je});return new Promise((Mn,kn)=>{mn.onsuccess=gr=>{Mn()},At.onerror=gr=>{var Wr;kn(Ft.create("storage-set",{originalErrorMessage:null===(Wr=gr.target.error)||void 0===Wr?void 0:Wr.message}))}})})).apply(this,arguments)}const Vr=new Me.Yd("@firebase/app-check");function ui(Ue,je){return(0,be.hl)()?function Or(Ue,je){return Sn(function Yr(Ue){return`${Ue.options.appId}-${Ue.name}`}(Ue),je)}(Ue,je).catch(lt=>{Vr.warn(`Failed to write token to IndexedDB. Error: ${lt}`)}):Promise.resolve()}function Bn(){return On.apply(this,arguments)}function On(){return(On=(0,Ve.Z)(function*(){const Ue=Ht();if(Ue.enabled&&Ue.token)return Ue.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nn={error:"UNKNOWN_ERROR"};function Tt(Ue){return be.US.encodeString(JSON.stringify(Ue),!1)}function We(Ue){return Se.apply(this,arguments)}function Se(){return(Se=(0,Ve.Z)(function*(Ue,je=!1){const lt=Ue.app;!function _n(Ue){if(!bt(Ue).activated)throw Ft.create("use-before-activation",{appName:Ue.name})}(lt);const At=bt(lt);let mn,$t=At.token;if($t&&!Oe($t)&&(At.token=void 0,$t=void 0),!$t){const gr=yield At.cachedTokenPromise;gr&&(Oe(gr)?$t=gr:yield ui(lt,void 0))}if(!je&&$t&&Oe($t))return{token:$t.token};let kn,Mn=!1;if(function ci(){return Ht().enabled}()){At.exchangeTokenPromise||(At.exchangeTokenPromise=ir(function gn(Ue,je){const{projectId:lt,appId:At,apiKey:$t}=Ue.options;return{url:`${rt}/projects/${lt}/apps/${At}:${ut}?key=${$t}`,body:{debug_token:je}}}(lt,yield Bn()),Ue.heartbeatServiceProvider).finally(()=>{At.exchangeTokenPromise=void 0}),Mn=!0);const gr=yield At.exchangeTokenPromise;return yield ui(lt,gr),At.token=gr,{token:gr.token}}try{At.exchangeTokenPromise||(At.exchangeTokenPromise=At.provider.getToken().finally(()=>{At.exchangeTokenPromise=void 0}),Mn=!0),$t=yield bt(lt).exchangeTokenPromise}catch(gr){"appCheck/throttled"===gr.code?Vr.warn(gr.message):Vr.error(gr),mn=gr}return $t?mn?kn=Oe($t)?{token:$t.token,internalError:mn}:at(mn):(kn={token:$t.token},At.token=$t,yield ui(lt,$t)):kn=at(mn),Mn&&function Ee(Ue,je){const lt=bt(Ue).tokenObservers;for(const At of lt)try{"EXTERNAL"===At.type&&null!=je.error?At.error(je.error):At.next(je)}catch{}}(lt,kn),kn})).apply(this,arguments)}function St(Ue,je){const lt=bt(Ue),At=lt.tokenObservers.filter($t=>$t.next!==je);0===At.length&&lt.tokenRefresher&&lt.tokenRefresher.isRunning()&&lt.tokenRefresher.stop(),lt.tokenObservers=At}function Et(Ue){const{app:je}=Ue,lt=bt(je);let At=lt.tokenRefresher;At||(At=function ve(Ue){const{app:je}=Ue;return new Ot((0,Ve.Z)(function*(){let At;if(At=bt(je).token?yield We(Ue,!0):yield We(Ue),At.error)throw At.error;if(At.internalError)throw At.internalError}),()=>!0,()=>{const lt=bt(je);if(lt.token){let At=lt.token.issuedAtTimeMillis+.5*(lt.token.expireTimeMillis-lt.token.issuedAtTimeMillis)+3e5;return At=Math.min(At,lt.token.expireTimeMillis-3e5),Math.max(0,At-Date.now())}return 0},wt.RETRIAL_MIN_WAIT,wt.RETRIAL_MAX_WAIT)}(Ue),lt.tokenRefresher=At),!At.isRunning()&&lt.isTokenAutoRefreshEnabled&&At.start()}function Oe(Ue){return Ue.expireTimeMillis-Date.now()>0}function at(Ue){return{token:Tt(nn),error:Ue}}class Je{constructor(je,lt){this.app=je,this.heartbeatServiceProvider=lt}_delete(){const{tokenObservers:je}=bt(this.app);for(const lt of je)St(this.app,lt.next);return Promise.resolve()}}const An="app-check-internal";!function Hr(){(0,k._registerComponent)(new ye.wA("app-check",Ue=>function Vt(Ue,je){return new Je(Ue,je)}(Ue.getProvider("app").getImmediate(),Ue.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ue,je,lt)=>{Ue.getProvider(An).initialize()})),(0,k._registerComponent)(new ye.wA(An,Ue=>function Le(Ue){return{getToken:je=>We(Ue,je),addTokenListener:je=>function Pe(Ue,je,lt,At){const{app:$t}=Ue,mn=bt($t);if(mn.tokenObservers=[...mn.tokenObservers,{next:lt,error:At,type:je}],mn.token&&Oe(mn.token)){const kn=mn.token;Promise.resolve().then(()=>{lt({token:kn.token}),Et(Ue)}).catch(()=>{})}mn.cachedTokenPromise.then(()=>Et(Ue))}(Ue,"INTERNAL",je),removeTokenListener:je=>St(Ue.app,je)}}(Ue.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)("@firebase/app-check","0.6.5")}();class hi{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},1205:(Gt,qe,U)=>{U.d(qe,{zQ:()=>rt,ww:()=>vt,rT:()=>pt,f7:()=>Bt,L6:()=>Ce,_Q:()=>Re,lh:()=>bt,Qv:()=>Me,nw:()=>Ht});var _=U(4650),E=U(7579),Z=U(9646),_e=U(9751),K=U(8996),Y=U(6451),ie=U(5363),he=U(3900),pe=U(4004),ee=U(6063);class se extends E.x{constructor(ut=1/0,wt=1/0,yt=ee.l){super(),this._bufferSize=ut,this._windowTime=wt,this._timestampProvider=yt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=wt===1/0,this._bufferSize=Math.max(1,ut),this._windowTime=Math.max(1,wt)}next(ut){const{isStopped:wt,_buffer:yt,_infiniteTimeWindow:Ot,_timestampProvider:Rt,_windowTime:Zt}=this;wt||(yt.push(ut),!Ot&&yt.push(Rt.now()+Zt)),this._trimBuffer(),super.next(ut)}_subscribe(ut){this._throwIfClosed(),this._trimBuffer();const wt=this._innerSubscribe(ut),{_infiniteTimeWindow:yt,_buffer:Ot}=this,Rt=Ot.slice();for(let Zt=0;Zt<Rt.length&&!ut.closed;Zt+=yt?1:2)ut.next(Rt[Zt]);return this._checkFinalizedStatuses(ut),wt}_trimBuffer(){const{_bufferSize:ut,_timestampProvider:wt,_buffer:yt,_infiniteTimeWindow:Ot}=this,Rt=(Ot?1:2)*ut;if(ut<1/0&&Rt<yt.length&&yt.splice(0,yt.length-Rt),!Ot){const Zt=wt.now();let Ft=0;for(let Tn=1;Tn<yt.length&&yt[Tn]<=Zt;Tn+=2)Ft=Tn;Ft&&yt.splice(0,Ft+1)}}}var me=U(3099);function ke(ot,ut,wt){let yt,Ot=!1;return ot&&"object"==typeof ot?({bufferSize:yt=1/0,windowTime:ut=1/0,refCount:Ot=!1,scheduler:wt}=ot):yt=ot??1/0,(0,me.B)({connector:()=>new se(yt,ut,wt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ot})}var Ge=U(590),ze=U(576);function _t(ot,ut){return(0,ze.m)(ut)?(0,he.w)(()=>ot,ut):(0,he.w)(()=>ot)}var tt=U(9468),Xe=U(9300),Te=U(2122),Ye=U(2011),Ve=U(6895),k=U(6217),ye=U(9260);const Me=new _.OlP("angularfire2.auth.use-emulator"),Ce=new _.OlP("angularfire2.auth.settings"),Re=new _.OlP("angularfire2.auth.tenant-id"),pt=new _.OlP("angularfire2.auth.langugage-code"),bt=new _.OlP("angularfire2.auth.use-device-language"),Bt=new _.OlP("angularfire.auth.persistence"),Ht=(ot,ut,wt,yt,Ot,Rt,Zt,Ft)=>(0,Ye.cc)(`${ot.name}.auth`,"AngularFireAuth",ot.name,()=>{const Tn=ut.runOutsideAngular(()=>ot.auth());if(wt&&Tn.useEmulator(...wt),yt&&(Tn.tenantId=yt),Tn.languageCode=Ot,Rt&&Tn.useDeviceLanguage(),Zt)for(const[_n,Un]of Object.entries(Zt))Tn.settings[_n]=Un;return Ft&&Tn.setPersistence(Ft),Tn},[wt,yt,Ot,Rt,Zt,Ft]);let rt=(()=>{class ot{constructor(wt,yt,Ot,Rt,Zt,Ft,Tn,_n,Un,xn,ir,Yn){const Ur=new E.x,mr=(0,Z.of)(void 0).pipe((0,ie.Q)(Zt.outsideAngular),(0,he.w)(()=>Rt.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,6689)))),(0,pe.U)(()=>(0,Ye.on)(wt,Rt,yt)),(0,pe.U)(gn=>Ht(gn,Rt,Ft,_n,Un,xn,Tn,ir)),ke({bufferSize:1,refCount:!1}));if((0,Ve.PM)(Ot))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Z.of)(null);else{mr.pipe((0,Ge.P)()).subscribe();const qn=mr.pipe((0,he.w)(Nn=>Nn.getRedirectResult().then(qt=>qt,()=>null)),Te.iC,ke({bufferSize:1,refCount:!1})),zr=mr.pipe((0,he.w)(Nn=>new _e.y(qt=>({unsubscribe:Rt.runOutsideAngular(()=>Nn.onAuthStateChanged(Dn=>qt.next(Dn),Dn=>qt.error(Dn),()=>qt.complete()))})))),Dr=mr.pipe((0,he.w)(Nn=>new _e.y(qt=>({unsubscribe:Rt.runOutsideAngular(()=>Nn.onIdTokenChanged(Dn=>qt.next(Dn),Dn=>qt.error(Dn),()=>qt.complete()))}))));this.authState=qn.pipe(_t(zr),(0,tt.R)(Zt.outsideAngular),(0,ie.Q)(Zt.insideAngular)),this.user=qn.pipe(_t(Dr),(0,tt.R)(Zt.outsideAngular),(0,ie.Q)(Zt.insideAngular)),this.idToken=this.user.pipe((0,he.w)(Nn=>Nn?(0,K.D)(Nn.getIdToken()):(0,Z.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(Nn=>Nn?(0,K.D)(Nn.getIdTokenResult()):(0,Z.of)(null))),this.credential=(0,Y.T)(qn,Ur,this.authState.pipe((0,Xe.h)(Nn=>!Nn))).pipe((0,pe.U)(Nn=>Nn?.user?Nn:null),(0,tt.R)(Zt.outsideAngular),(0,ie.Q)(Zt.insideAngular))}return(0,Ye.pX)(this,mr,Rt,{spy:{apply:(gn,qn,zr)=>{(gn.startsWith("signIn")||gn.startsWith("createUser"))&&zr.then(Dr=>Ur.next(Dr))}}})}}return ot.\u0275fac=function(wt){return new(wt||ot)(_.LFG(Ye.Dh),_.LFG(Ye.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Te.HU),_.LFG(Me,8),_.LFG(Ce,8),_.LFG(Re,8),_.LFG(pt,8),_.LFG(bt,8),_.LFG(Bt,8),_.LFG(k.nm,8))},ot.\u0275prov=_.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"any"}),ot})(),vt=(()=>{class ot{constructor(){ye.Z.registerVersion("angularfire",Te.q4.full,"auth-compat")}}return ot.\u0275fac=function(wt){return new(wt||ot)},ot.\u0275mod=_.oAB({type:ot}),ot.\u0275inj=_.cJS({providers:[rt]}),ot})()},3101:(Gt,qe,U)=>{U.d(qe,{ST:()=>Nr,yb:()=>Pl});var _=U(4650),E=U(4986),Z=U(9751),_e=U(8996),K=U(9646),Y=U(2122),ie=U(8675),he=U(4482),pe=U(5403);function ee(){return(0,he.e)((s,e)=>{let t,a=!1;s.subscribe((0,pe.x)(e,h=>{const m=t;t=h,a&&e.next([m,h]),a=!0}))})}var Ce,se=U(4004),me=U(5026),ke=U(1884),Ge=U(9300),ze=U(2011),_t=U(6895),Xe=(U(6689),U(3942)),Te=U(5861),Ye=U(9681),Ve=U(4859),k=U(1877),ye=U(2090),be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={},Re=Re||{},pt=be||self;function bt(){}function Bt(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Ht(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var vt="closure_uid_"+(1e9*Math.random()>>>0),ot=0;function ut(s,e,t){return s.call.apply(s.bind,arguments)}function wt(s,e,t){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,a),s.apply(e,h)}}return function(){return s.apply(e,arguments)}}function yt(s,e,t){return(yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ut:wt).apply(null,arguments)}function Ot(s,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function Rt(s,e){function t(){}t.prototype=e.prototype,s.X=e.prototype,s.prototype=new t,s.prototype.constructor=s,s.Wb=function(a,h,m){for(var C=Array(arguments.length-2),R=2;R<arguments.length;R++)C[R-2]=arguments[R];return e.prototype[h].apply(a,C)}}function Zt(){this.s=this.s,this.o=this.o}Zt.prototype.s=!1,Zt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function rt(s){Object.prototype.hasOwnProperty.call(s,vt)&&s[vt]||(s[vt]=++ot)}(this)},Zt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tn=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let t=0;t<s.length;t++)if(t in s&&s[t]===e)return t;return-1};function _n(s){const e=s.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=s[a];return t}return[]}function Un(s,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(Bt(a)){const h=s.length||0,m=a.length||0;s.length=h+m;for(let C=0;C<m;C++)s[h+C]=a[C]}else s.push(a)}}function xn(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}xn.prototype.h=function(){this.defaultPrevented=!0};var ir=function(){if(!pt.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{pt.addEventListener("test",bt,e),pt.removeEventListener("test",bt,e)}catch{}return s}();function Yn(s){return/^[\s\xa0]*$/.test(s)}var Ur=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function mr(s,e){return s<e?-1:s>e?1:0}function gn(){var s=pt.navigator;return s&&(s=s.userAgent)?s:""}function qn(s){return-1!=gn().indexOf(s)}function zr(s){return zr[" "](s),s}zr[" "]=bt;var Sn,s,Nn=qn("Opera"),qt=qn("Trident")||qn("MSIE"),Dn=qn("Edge"),li=Dn||qt,Or=qn("Gecko")&&!(-1!=gn().toLowerCase().indexOf("webkit")&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),qi=-1!=gn().toLowerCase().indexOf("webkit")&&!qn("Edge");function wi(){var s=pt.document;return s?s.documentMode:void 0}e:{var zn="",ln=(s=gn(),Or?/rv:([^\);]+)(\)|;)/.exec(s):Dn?/Edge\/([\d\.]+)/.exec(s):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):qi?/WebKit\/(\S+)/.exec(s):Nn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(ln&&(zn=ln?ln[1]:""),qt){var Yt=wi();if(null!=Yt&&Yt>parseFloat(zn)){Sn=String(Yt);break e}}Sn=zn}var Yr={};var ui=pt.document&&qt&&(wi()||parseInt(Sn,10))||void 0;function Cs(s,e){if(xn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var t=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Or){e:{try{zr(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=s.fromElement:"mouseout"==t&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:ur[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Cs.X.h.call(this)}}Rt(Cs,xn);var ur={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.X.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var ci="closure_listenable_"+(1e6*Math.random()|0),Bn=0;function On(s,e,t,a,h){this.listener=s,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ha=h,this.key=++Bn,this.ba=this.ea=!1}function $n(s){s.ba=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function nn(s,e,t){for(const a in s)e.call(t,s[a],a,s)}function Tt(s){const e={};for(const t in s)e[t]=s[t];return e}const We="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(s,e){let t,a;for(let h=1;h<arguments.length;h++){for(t in a=arguments[h],a)s[t]=a[t];for(let m=0;m<We.length;m++)t=We[m],Object.prototype.hasOwnProperty.call(a,t)&&(s[t]=a[t])}}function Pe(s){this.src=s,this.g={},this.h=0}function St(s,e){var t=e.type;if(t in s.g){var m,a=s.g[t],h=Tn(a,e);(m=0<=h)&&Array.prototype.splice.call(a,h,1),m&&($n(e),0==s.g[t].length&&(delete s.g[t],s.h--))}}function Et(s,e,t,a){for(var h=0;h<s.length;++h){var m=s[h];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==a)return h}return-1}Pe.prototype.add=function(s,e,t,a,h){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var C=Et(s,e,a,h);return-1<C?(e=s[C],t||(e.ea=!1)):((e=new On(e,this.src,m,!!a,h)).ea=t,s.push(e)),e};var ve="closure_lm_"+(1e6*Math.random()|0),Ee={};function Oe(s,e,t,a,h){if(a&&a.once)return Vt(s,e,t,a,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Oe(s,e[m],t,a,h);return null}return t=fn(t),s&&s[ci]?s.N(e,t,Ht(a)?!!a.capture:!!a,h):at(s,e,t,!1,a,h)}function at(s,e,t,a,h,m){if(!e)throw Error("Invalid event type");var C=Ht(h)?!!h.capture:!!h,R=gt(s);if(R||(s[ve]=R=new Pe(s)),(t=R.add(e,t,a,C,m)).proxy)return t;if(a=function Je(){const e=He;return function s(t){return e.call(s.src,s.listener,t)}}(),t.proxy=a,a.src=s,a.listener=t,s.addEventListener)ir||(h=C),void 0===h&&(h=!1),s.addEventListener(e.toString(),a,h);else if(s.attachEvent)s.attachEvent(fe(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return t}function Vt(s,e,t,a,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Vt(s,e[m],t,a,h);return null}return t=fn(t),s&&s[ci]?s.O(e,t,Ht(a)?!!a.capture:!!a,h):at(s,e,t,!0,a,h)}function Le(s,e,t,a,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)Le(s,e[m],t,a,h);else a=Ht(a)?!!a.capture:!!a,t=fn(t),s&&s[ci]?(s=s.i,(e=String(e).toString())in s.g&&-1<(t=Et(m=s.g[e],t,a,h))&&($n(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete s.g[e],s.h--))):s&&(s=gt(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Et(e,t,a,h)),(t=-1<s?e[s]:null)&&Ne(t))}function Ne(s){if("number"!=typeof s&&s&&!s.ba){var e=s.src;if(e&&e[ci])St(e.i,s);else{var t=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(t,a,s.capture):e.detachEvent?e.detachEvent(fe(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=gt(e))?(St(t,s),0==t.h&&(t.src=null,e[ve]=null)):$n(s)}}}function fe(s){return s in Ee?Ee[s]:Ee[s]="on"+s}function He(s,e){if(s.ba)s=!0;else{e=new Cs(e,this);var t=s.listener,a=s.ha||s.src;s.ea&&Ne(s),s=t.call(a,e)}return s}function gt(s){return(s=s[ve])instanceof Pe?s:null}var Lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(s){return"function"==typeof s?s:(s[Lt]||(s[Lt]=function(e){return s.handleEvent(e)}),s[Lt])}function hn(){Zt.call(this),this.i=new Pe(this),this.P=this,this.I=null}function Kn(s,e){var t,a=s.I;if(a)for(t=[];a;a=a.I)t.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new xn(e,s);else if(e instanceof xn)e.target=e.target||s;else{var h=e;Se(e=new xn(a,s),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var C=e.g=t[m];h=Ai(C,a,!0,e)&&h}if(h=Ai(C=e.g=s,a,!0,e)&&h,h=Ai(C,a,!1,e)&&h,t)for(m=0;m<t.length;m++)h=Ai(C=e.g=t[m],a,!1,e)&&h}function Ai(s,e,t,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var C=e[m];if(C&&!C.ba&&C.capture==t){var R=C.listener,G=C.ha||C.src;C.ea&&St(s.i,C),h=!1!==R.call(G,a)&&h}}return h&&!a.defaultPrevented}Rt(hn,Zt),hn.prototype[ci]=!0,hn.prototype.removeEventListener=function(s,e,t,a){Le(this,s,e,t,a)},hn.prototype.M=function(){if(hn.X.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var t=s.g[e],a=0;a<t.length;a++)$n(t[a]);delete s.g[e],s.h--}}this.I=null},hn.prototype.N=function(s,e,t,a){return this.i.add(String(s),e,!1,t,a)},hn.prototype.O=function(s,e,t,a){return this.i.add(String(s),e,!0,t,a)};var Li=pt.JSON.stringify;function bs(){var s=Qr;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var kr,Po=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Fi,s=>s.reset());class Fi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gs(s){pt.setTimeout(()=>{throw s},0)}function Xn(s,e){kr||function Si(){var s=pt.Promise.resolve(void 0);kr=function(){s.then(No)}}(),Is||(kr(),Is=!0),Qr.add(s,e)}var Is=!1,Qr=new class is{constructor(){this.h=this.g=null}add(e,t){const a=Po.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function No(){for(var s;s=bs();){try{s.h.call(s.g)}catch(t){gs(t)}var e=Po;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}Is=!1}function ei(s,e){hn.call(this),this.h=s||1,this.g=e||pt,this.j=yt(this.lb,this),this.l=Date.now()}function Ts(s){s.ca=!1,s.R&&(s.g.clearTimeout(s.R),s.R=null)}function di(s,e,t){if("function"==typeof s)t&&(s=yt(s,t));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=yt(s.handleEvent,s)}return 2147483647<Number(e)?-1:pt.setTimeout(s,e||0)}function rn(s){s.g=di(()=>{s.g=null,s.i&&(s.i=!1,rn(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Rt(ei,hn),(Ce=ei.prototype).ca=!1,Ce.R=null,Ce.lb=function(){if(this.ca){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-s):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Kn(this,"tick"),this.ca&&(Ts(this),this.start()))}},Ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.M=function(){ei.X.M.call(this),Ts(this),delete this.g};class An extends Zt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rn(this)}M(){super.M(),this.g&&(pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(s){Zt.call(this),this.h=s,this.g={}}Rt(Hr,Zt);var Zn=[];function Mi(s,e,t,a){Array.isArray(t)||(t&&(Zn[0]=t.toString()),t=Zn);for(var h=0;h<t.length;h++){var m=Oe(e,t[h],a||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function hi(s){nn(s.g,function(e,t){this.g.hasOwnProperty(t)&&Ne(e)},s),s.g={}}function Ri(){this.g=!0}function fi(s,e,t,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ss(s,e){if(!s.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(s=0;s<t.length;s++)if(Array.isArray(t[s])){var a=t[s];if(!(2>a.length)){var h=a[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var C=1;C<h.length;C++)h[C]=""}}}return Li(t)}catch{return e}}(s,t)+(a?" "+a:"")})}Hr.prototype.M=function(){Hr.X.M.call(this),hi(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ri.prototype.Aa=function(){this.g=!1},Ri.prototype.info=function(){};var mi={},Qi=null;function jr(){return Qi=Qi||new hn}function Jr(s){xn.call(this,mi.Pa,s)}function Ui(s){const e=jr();Kn(e,new Jr(e))}function xi(s,e){xn.call(this,mi.STAT_EVENT,s),this.stat=e}function pr(s){const e=jr();Kn(e,new xi(e,s))}function Fs(s,e){xn.call(this,mi.Qa,s),this.size=e}function Vi(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return pt.setTimeout(function(){s()},e)}mi.Pa="serverreachability",Rt(Jr,xn),mi.STAT_EVENT="statevent",Rt(xi,xn),mi.Qa="timingevent",Rt(Fs,xn);var Ue={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},je={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lt(){}function $t(){}lt.prototype.h=null;var gr,mn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Mn(){xn.call(this,"d")}function kn(){xn.call(this,"c")}function Wr(){}function Pi(s,e,t,a){this.l=s,this.j=e,this.m=t,this.U=a||1,this.S=new Hr(this),this.O=Bi,this.T=new ei(s=li?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ji}function Ji(){this.i=null,this.g="",this.h=!1}Rt(Mn,xn),Rt(kn,xn),Rt(Wr,lt),Wr.prototype.g=function(){return new XMLHttpRequest},Wr.prototype.i=function(){return{}},gr=new Wr;var Bi=45e3,ko={},Xr={};function ms(s,e,t){s.K=1,s.v=Ks(As(e)),s.s=t,s.P=!0,Jo(s,null)}function Jo(s,e){s.F=Date.now(),io(s),s.A=As(s.v);var t=s.A,a=s.U;Array.isArray(a)||(a=[String(a)]),ti(t.i,"t",a),s.C=0,t=s.l.H,s.h=new Ji,s.g=ba(s.l,t?e:null,!s.s),0<s.N&&(s.L=new An(yt(s.La,s,s.g),s.N)),Mi(s.S,s.g,"readystatechange",s.ib),e=s.H?Tt(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.da(s.A,s.u,s.s,e)):(s.u="GET",s.g.da(s.A,s.u,null,e)),Ui(),function sr(s,e,t,a,h,m){s.info(function(){if(s.g)if(m)for(var C="",R=m.split("&"),G=0;G<R.length;G++){var X=R[G].split("=");if(1<X.length){var re=X[0];X=X[1];var we=re.split("_");C=2<=we.length&&"type"==we[1]?C+(re+"=")+X+"&":C+(re+"=redacted&")}}else C=null;else C=m;return"XMLHTTP REQ ("+a+") [attempt "+h+"]: "+e+"\n"+t+"\n"+C})}(s.j,s.u,s.A,s.m,s.U,s.s)}function _a(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Da}function Ds(s,e,t){let h,a=!0;for(;!s.I&&s.C<t.length;){if(h=vo(s,t),h==Xr){4==e&&(s.o=4,pr(14),a=!1),fi(s.j,s.m,null,"[Incomplete Response]");break}if(h==ko){s.o=4,pr(15),fi(s.j,s.m,t,"[Invalid Chunk]"),a=!1;break}fi(s.j,s.m,h,null),oo(s,h)}_a(s)&&h!=Xr&&h!=ko&&(s.h.g="",s.C=0),4!=e||0!=t.length||s.h.h||(s.o=1,pr(16),a=!1),s.i=s.i&&a,a?0<t.length&&!s.$&&(s.$=!0,(e=s.l).g==s&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Nl(e),e.K=!0,pr(11))):(fi(s.j,s.m,t,"[Invalid Chunked Response]"),ss(s),Xo(s))}function vo(s,e){var t=s.C,a=e.indexOf("\n",t);return-1==a?Xr:(t=Number(e.substring(t,a)),isNaN(t)?ko:(a+=1)+t>e.length?Xr:(e=e.substr(a,t),s.C=a+t,e))}function io(s){s.V=Date.now()+s.O,so(s,s.O)}function so(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Vi(yt(s.gb,s),e)}function ya(s){s.B&&(pt.clearTimeout(s.B),s.B=null)}function Xo(s){0==s.l.G||s.I||nl(s.l,s)}function ss(s){ya(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,Ts(s.T),hi(s.S),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function oo(s,e){try{var t=s.l;if(0!=t.G&&(t.g==s||ho(t.h,s)))if(!s.J&&ho(t.h,s)&&3==t.G){try{var a=t.Fa.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var h=a;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<s.F))break e;El(t),wa(t)}oa(t),pr(18)}}else t.Ba=h[1],0<t.Ba-t.T&&37500>h[2]&&t.L&&0==t.A&&!t.v&&(t.v=Vi(yt(t.cb,t),6e3));if(1>=$i(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else go(t,11)}else if((s.J||t.g==s)&&El(t),!Yn(e))for(h=t.Fa.g.parse(e),e=0;e<h.length;e++){let X=h[e];if(t.T=X[0],X=X[1],2==t.G)if("c"==X[0]){t.I=X[1],t.ka=X[2];const re=X[3];null!=re&&(t.ma=re,t.j.info("VER="+t.ma));const we=X[4];null!=we&&(t.Ca=we,t.j.info("SVER="+t.Ca));const $e=X[5];null!=$e&&"number"==typeof $e&&0<$e&&(t.J=a=1.5*$e,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const dt=s.g;if(dt){const Ut=dt.g?dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var m=a.h;m.g||-1==Ut.indexOf("spdy")&&-1==Ut.indexOf("quic")&&-1==Ut.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(Gi(m,m.h),m.h=null))}if(a.D){const an=dt.g?dt.g.getResponseHeader("X-HTTP-Session-Id"):null;an&&(a.za=an,cr(a.F,a.D,an))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-s.F,t.j.info("Handshake RTT: "+t.P+"ms"));var C=s;if((a=t).sa=rl(a,a.H?a.ka:null,a.V),C.J){el(a.h,C);var R=C,G=a.J;G&&R.setTimeout(G),R.B&&(ya(R),io(R)),a.g=C}else tl(a);0<t.i.length&&vl(t)}else"stop"!=X[0]&&"close"!=X[0]||go(t,7);else 3==t.G&&("stop"==X[0]||"close"==X[0]?"stop"==X[0]?go(t,7):Vo(t):"noop"!=X[0]&&t.l&&t.l.wa(X),t.A=0)}Ui()}catch{}}function ao(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Bt(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var t=function os(s){if(s.oa&&"function"==typeof s.oa)return s.oa();if(!s.W||"function"!=typeof s.W){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Bt(s)||"string"==typeof s){var e=[];s=s.length;for(var t=0;t<s;t++)e.push(t);return e}e=[],t=0;for(const a in s)e[t++]=a;return e}}}(s),a=function Ws(s){if(s.W&&"function"==typeof s.W)return s.W();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Bt(s)){for(var e=[],t=s.length,a=0;a<t;a++)e.push(s[a]);return e}for(a in e=[],t=0,s)e[t++]=s[a];return e}(s),h=a.length,m=0;m<h;m++)e.call(void 0,a[m],t&&t[m],s)}(Ce=Pi.prototype).setTimeout=function(s){this.O=s},Ce.ib=function(s){s=s.target;const e=this.L;e&&3==Ci(s)?e.l():this.La(s)},Ce.La=function(s){try{if(s==this.g)e:{const re=Ci(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>re)&&(3!=re||li||this.g&&(this.h.h||this.g.fa()||Io(this.g)))){this.I||4!=re||7==e||Ui(),ya(this);var t=this.g.aa();this.Y=t;t:if(_a(this)){var a=Io(this.g);s="";var h=a.length,m=4==Ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),Xo(this);var C="";break t}this.h.i=new pt.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:m&&e==h-1});a.splice(0,h),this.h.g+=s,this.C=0,C=this.h.g}else C=this.g.fa();if(this.i=200==t,function Oo(s,e,t,a,h,m,C){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+C})}(this.j,this.u,this.A,this.m,this.U,re,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yn(R)){var X=R;break t}}X=null}if(!(t=X)){this.i=!1,this.o=3,pr(12),ss(this),Xo(this);break e}fi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,oo(this,t)}this.P?(Ds(this,re,C),li&&this.i&&3==re&&(Mi(this.S,this.T,"tick",this.hb),this.T.start())):(fi(this.j,this.m,C,null),oo(this,C)),4==re&&ss(this),this.i&&!this.I&&(4==re?nl(this.l,this):(this.i=!1,io(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,pr(12)):(this.o=0,pr(13)),ss(this),Xo(this)}}}catch{}},Ce.hb=function(){if(this.g){var s=Ci(this.g),e=this.g.fa();this.C<e.length&&(ya(this),Ds(this,s,e),this.i&&4!=s&&io(this))}},Ce.cancel=function(){this.I=!0,ss(this)},Ce.gb=function(){this.B=null;const s=Date.now();0<=s-this.V?(function Gn(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ui(),pr(17)),ss(this),this.o=2,Xo(this)):so(this,this.V-s)};var Oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xi(s,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof Xi){this.h=void 0!==e?e:s.h,ea(this,s.j),this.s=s.s,this.g=s.g,as(this,s.m),this.l=s.l,e=s.i;var t=new Ms;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ta(this,t),this.o=s.o}else s&&(t=String(s).match(Oa))?(this.h=!!e,ea(this,t[1]||"",!0),this.s=Hi(t[2]||""),this.g=Hi(t[3]||"",!0),as(this,t[4]),this.l=Hi(t[5]||"",!0),ta(this,t[6]||"",!0),this.o=Hi(t[7]||"")):(this.h=!!e,this.i=new Ms(null,this.h))}function As(s){return new Xi(s)}function ea(s,e,t){s.j=t?Hi(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function as(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function ta(s,e,t){e instanceof Ms?(s.i=e,function na(s,e){e&&!s.j&&(_r(s),s.i=null,s.g.forEach(function(t,a){var h=a.toLowerCase();a!=h&&(_i(this,a),ti(this,h,t))},s)),s.j=e}(s.i,s.h)):(t||(e=Us(e,Ea)),s.i=new Ms(e,s.h))}function cr(s,e,t){s.i.set(e,t)}function Ks(s){return cr(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Hi(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Us(s,e,t){return"string"==typeof s?(s=encodeURI(s).replace(e,va),t&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function va(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Xi.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Us(e,ls,!0),":");var t=this.g;return(t||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Us(e,ls,!0),"@"),s.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&s.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&s.push("/"),s.push(Us(t,"/"==t.charAt(0)?uo:lo,!0))),(t=this.i.toString())&&s.push("?",t),(t=this.o)&&s.push("#",Us(t,Eo)),s.join("")};var ls=/[#\/\?@]/g,lo=/[#\?:]/g,uo=/[#\?]/g,Ea=/[#\?@]/g,Eo=/#/g;function Ms(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function _r(s){s.g||(s.g=new Map,s.h=0,s.i&&function ka(s,e){if(s){s=s.split("&");for(var t=0;t<s.length;t++){var a=s[t].indexOf("="),h=null;if(0<=a){var m=s[t].substring(0,a);h=s[t].substring(a+1)}else m=s[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(s.i,function(e,t){s.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _i(s,e){_r(s),e=_s(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function co(s,e){return _r(s),e=_s(s,e),s.g.has(e)}function ti(s,e,t){_i(s,e),0<t.length&&(s.i=null,s.g.set(_s(s,e),_n(t)),s.h+=t.length)}function _s(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function ra(s){this.l=s||La,s=pt.PerformanceNavigationTiming?0<(s=pt.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(pt.g&&pt.g.Ga&&pt.g.Ga()&&pt.g.Ga().$b),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=Ms.prototype).add=function(s,e){_r(this),this.i=null,s=_s(this,s);var t=this.g.get(s);return t||this.g.set(s,t=[]),t.push(e),this.h+=1,this},Ce.forEach=function(s,e){_r(this),this.g.forEach(function(t,a){t.forEach(function(h){s.call(e,h,a,this)},this)},this)},Ce.oa=function(){_r(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const h=s[a];for(let m=0;m<h.length;m++)t.push(e[a])}return t},Ce.W=function(s){_r(this);let e=[];if("string"==typeof s)co(this,s)&&(e=e.concat(this.g.get(_s(this,s))));else{s=Array.from(this.g.values());for(let t=0;t<s.length;t++)e=e.concat(s[t])}return e},Ce.set=function(s,e){return _r(this),this.i=null,co(this,s=_s(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},Ce.get=function(s,e){return s&&0<(s=this.W(s)).length?String(s[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const m=encodeURIComponent(String(a)),C=this.W(a);for(a=0;a<C.length;a++){var h=m;""!==C[a]&&(h+="="+encodeURIComponent(String(C[a]))),s.push(h)}}return this.i=s.join("&")};var La=10;function ys(s){return!!s.h||!!s.g&&s.g.size>=s.j}function $i(s){return s.h?1:s.g?s.g.size:0}function ho(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function Gi(s,e){s.g?s.g.add(e):s.h=e}function el(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Zi(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const t of s.g.values())e=e.concat(t.D);return e}return _n(s.i)}function Lo(){}function ia(){this.g=new Lo}function Vn(s,e,t){const a=t||"";try{ao(s,function(h,m){let C=h;Ht(h)&&(C=Li(h)),e.push(a+m+"="+encodeURIComponent(C))})}catch(h){throw e.push(a+"type="+encodeURIComponent("_badmap")),h}}function Fa(s,e,t,a,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(a)}catch{}}function wo(s){this.l=s.ac||null,this.j=s.jb||!1}function Co(s,e){hn.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=fo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ra.prototype.cancel=function(){if(this.i=Zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},Lo.prototype.stringify=function(s){return pt.JSON.stringify(s,void 0)},Lo.prototype.parse=function(s){return pt.JSON.parse(s,void 0)},Rt(wo,lt),wo.prototype.g=function(){return new Co(this.l,this.j)},wo.prototype.i=function(s){return function(){return s}}({}),Rt(Co,hn);var fo=0;function yl(s){s.j.read().then(s.Ta.bind(s)).catch(s.ga.bind(s))}function sa(s){s.readyState=4,s.l=null,s.j=null,s.A=null,bo(s)}function bo(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ce=Co.prototype).open=function(s,e){if(this.readyState!=fo)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,bo(this)},Ce.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||pt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sa(this)),this.readyState=fo},Ce.Wa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof pt.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yl(this)}else s.text().then(this.Va.bind(this),this.ga.bind(this))},Ce.Ta=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?sa(this):bo(this),3==this.readyState&&yl(this)}},Ce.Va=function(s){this.g&&(this.response=this.responseText=s,sa(this))},Ce.Ua=function(s){this.g&&(this.response=s,sa(this))},Ce.ga=function(){this.g&&sa(this)},Ce.setRequestHeader=function(s,e){this.v.append(s,e)},Ce.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var t=e.next();!t.done;)s.push((t=t.value)[0]+": "+t[1]),t=e.next();return s.join("\r\n")},Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var O=pt.JSON.parse;function B(s){hn.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=F,this.K=this.L=!1}Rt(B,hn);var F="",ue=/^https?$/i,st=["POST","PUT"];function yr(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,ni(s),pi(s)}function ni(s){s.D||(s.D=!0,Kn(s,"complete"),Kn(s,"error"))}function Rs(s){if(s.h&&typeof Re<"u"&&(!s.C[1]||4!=Ci(s)||2!=s.aa()))if(s.v&&4==Ci(s))di(s.Ha,0,s);else if(Kn(s,"readystatechange"),4==Ci(s)){s.h=!1;try{const R=s.aa();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===R){var h=String(s.H).match(Oa)[1]||null;if(!h&&pt.self&&pt.self.location){var m=pt.self.location.protocol;h=m.substr(0,m.length-1)}a=!ue.test(h?h.toLowerCase():"")}t=a}if(t)Kn(s,"complete"),Kn(s,"success");else{s.m=6;try{var C=2<Ci(s)?s.g.statusText:""}catch{C=""}s.j=C+" ["+s.aa()+"]",ni(s)}}finally{pi(s)}}}function pi(s,e){if(s.g){xs(s);const t=s.g,a=s.C[0]?bt:null;s.g=null,s.C=null,e||Kn(s,"ready");try{t.onreadystatechange=a}catch{}}}function xs(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(pt.clearTimeout(s.A),s.A=null)}function Ci(s){return s.g?s.g.readyState:0}function Io(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case F:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function us(s){let e="";return nn(s,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function cs(s,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=us(t),"string"==typeof s?null!=t&&encodeURIComponent(String(t)):cr(s,e,t))}function po(s,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[s]||e}function Uo(s){this.Ca=0,this.i=[],this.j=new Ri,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=po("failFast",!1,s),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=po("baseRetryDelayMs",5e3,s),this.bb=po("retryDelaySeedMs",1e4,s),this.$a=po("forwardChannelMaxRetries",2,s),this.ta=po("forwardChannelRequestTimeoutMs",2e4,s),this.ra=s&&s.xmlHttpFactory||void 0,this.Da=s&&s.Zb||!1,this.J=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.I="",this.h=new ra(s&&s.concurrentRequestLimit),this.Fa=new ia,this.O=s&&s.fastHandshake||!1,this.N=s&&s.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=s&&s.Xb||!1,s&&s.Aa&&this.j.Aa(),s&&s.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&s&&s.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Vo(s){if(Ca(s),3==s.G){var e=s.U++,t=As(s.F);cr(t,"SID",s.I),cr(t,"RID",e),cr(t,"TYPE","terminate"),Ni(s,t),(e=new Pi(s,s.j,e,void 0)).K=2,e.v=Ks(As(t)),t=!1,pt.navigator&&pt.navigator.sendBeacon&&(t=pt.navigator.sendBeacon(e.v.toString(),"")),!t&&pt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ba(e.l,null),e.g.da(e.v)),e.F=Date.now(),io(e)}wl(s)}function wa(s){s.g&&(Nl(s),s.g.cancel(),s.g=null)}function Ca(s){wa(s),s.u&&(pt.clearTimeout(s.u),s.u=null),El(s),s.h.cancel(),s.m&&("number"==typeof s.m&&pt.clearTimeout(s.m),s.m=null)}function vl(s){ys(s.h)||s.m||(s.m=!0,Xn(s.Ja,s),s.C=0)}function Ua(s,e){var t;t=e?e.m:s.U++;const a=As(s.F);cr(a,"SID",s.I),cr(a,"RID",t),cr(a,"AID",s.T),Ni(s,a),s.o&&s.s&&cs(a,s.o,s.s),t=new Pi(s,s.j,t,s.C+1),null===s.o&&(t.H=s.s),e&&(s.i=e.D.concat(s.i)),e=Bo(s,t,1e3),t.setTimeout(Math.round(.5*s.ta)+Math.round(.5*s.ta*Math.random())),Gi(s.h,t),ms(t,a,e)}function Ni(s,e){s.ia&&nn(s.ia,function(t,a){cr(e,a,t)}),s.l&&ao({},function(t,a){cr(e,a,t)})}function Bo(s,e,t){t=Math.min(s.i.length,t);var a=s.l?yt(s.l.Ra,s.l,s):null;e:{var h=s.i;let m=-1;for(;;){const C=["count="+t];-1==m?0<t?(m=h[0].h,C.push("ofs="+m)):m=0:C.push("ofs="+m);let R=!0;for(let G=0;G<t;G++){let X=h[G].h;const re=h[G].g;if(X-=m,0>X)m=Math.max(0,h[G].h-100),R=!1;else try{Vn(re,C,"req"+X+"_")}catch{a&&a(re)}}if(R){a=C.join("&");break e}}}return s=s.i.splice(0,t),e.D=s,a}function tl(s){s.g||s.u||(s.Z=1,Xn(s.Ia,s),s.A=0)}function oa(s){return!(s.g||s.u||3<=s.A||(s.Z++,s.u=Vi(yt(s.Ia,s),Ol(s,s.A)),s.A++,0))}function Nl(s){null!=s.B&&(pt.clearTimeout(s.B),s.B=null)}function Va(s){s.g=new Pi(s,s.j,"rpc",s.Z),null===s.o&&(s.g.H=s.s),s.g.N=0;var e=As(s.sa);cr(e,"RID","rpc"),cr(e,"SID",s.I),cr(e,"CI",s.L?"0":"1"),cr(e,"AID",s.T),cr(e,"TYPE","xmlhttp"),Ni(s,e),s.o&&s.s&&cs(e,s.o,s.s),s.J&&s.g.setTimeout(s.J);var t=s.g;s=s.ka,t.K=1,t.v=Ks(As(e)),t.s=null,t.P=!0,Jo(t,s)}function El(s){null!=s.v&&(pt.clearTimeout(s.v),s.v=null)}function nl(s,e){var t=null;if(s.g==e){El(s),Nl(s),s.g=null;var a=2}else{if(!ho(s.h,e))return;t=e.D,el(s.h,e),a=1}if(0!=s.G)if(s.pa=e.Y,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=s.C;Kn(a=jr(),new Fs(a,t)),vl(s)}else tl(s);else if(3==(h=e.o)||0==h&&0<s.pa||!(1==a&&function iu(s,e){return!($i(s.h)>=s.h.j-(s.m?1:0)||(s.m?(s.i=e.D.concat(s.i),0):1==s.G||2==s.G||s.C>=(s.Za?0:s.$a)||(s.m=Vi(yt(s.Ja,s,e),Ol(s,s.C)),s.C++,0)))}(s,e)||2==a&&oa(s)))switch(t&&0<t.length&&(e=s.h,e.i=e.i.concat(t)),h){case 1:go(s,5);break;case 4:go(s,10);break;case 3:go(s,6);break;default:go(s,2)}}function Ol(s,e){let t=s.Xa+Math.floor(Math.random()*s.bb);return s.l||(t*=2),t*e}function go(s,e){if(s.j.info("Error code "+e),2==e){var t=null;s.l&&(t=null);var a=yt(s.kb,s);t||(t=new Xi("//www.google.com/images/cleardot.gif"),pt.location&&"http"==pt.location.protocol||ea(t,"https"),Ks(t)),function Fo(s,e){const t=new Ri;if(pt.Image){const a=new Image;a.onload=Ot(Fa,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Ot(Fa,t,a,"TestLoadImage: error",!1,e),a.onabort=Ot(Fa,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Ot(Fa,t,a,"TestLoadImage: timeout",!1,e),pt.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(t.toString(),a)}else pr(2);s.G=0,s.l&&s.l.va(e),wl(s),Ca(s)}function wl(s){if(s.G=0,s.la=[],s.l){const e=Zi(s.h);(0!=e.length||0!=s.i.length)&&(Un(s.la,e),Un(s.la,s.i),s.h.i.length=0,_n(s.i),s.i.length=0),s.l.ua()}}function rl(s,e,t){var a=t instanceof Xi?As(t):new Xi(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),as(a,a.m);else{var h=pt.location;a=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new Xi(null,void 0);a&&ea(m,a),e&&(m.g=e),h&&as(m,h),t&&(m.l=t),a=m}return e=s.za,(t=s.D)&&e&&cr(a,t,e),cr(a,"VER",s.ma),Ni(s,a),a}function ba(s,e,t){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new B(t&&s.Da&&!s.ra?new wo({jb:!0}):s.ra)).Ka(s.H),e}function ds(){}function Ps(){if(qt&&!(10<=Number(ui)))throw Error("Environmental error: no available transport.")}function or(s,e){hn.call(this),this.g=new Uo(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.S=s,(s=e&&e.Yb)&&!Yn(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yn(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new ri(this)}function xu(s){Mn.call(this);var e=s.__sm__;if(e){e:{for(const t in e){s=t;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function aa(){kn.call(this),this.status=1}function ri(s){this.g=s}(Ce=B.prototype).Ka=function(s){this.L=s},Ce.da=function(s,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gr.g(),this.C=function At(s){return s.h||(s.h=s.i())}(this.u?this.u:gr),this.g.onreadystatechange=yt(this.Ha,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(m){return void yr(this,m)}if(s=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var h in a)t.set(h,a[h]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const m of a.keys())t.set(m,a.get(m))}a=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),h=pt.FormData&&s instanceof pt.FormData,!(0<=Tn(st,e))||a||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,C]of t)this.g.setRequestHeader(m,C);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xs(this),0<this.B&&((this.K=function cn(s){return qt&&function Vr(){return function Dr(s){var e=Yr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=s(9)}(function(){let s=0;const e=Ur(String(Sn)).split("."),t=Ur("9").split("."),a=Math.max(e.length,t.length);for(let C=0;0==s&&C<a;C++){var h=e[C]||"",m=t[C]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;s=mr(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||mr(0==h[2].length,0==m[2].length)||mr(h[2],m[2]),h=h[3],m=m[3]}while(0==s)}return 0<=s})}()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yt(this.qa,this)):this.A=di(this.qa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){yr(this,m)}},Ce.qa=function(){typeof Re<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kn(this,"timeout"),this.abort(8))},Ce.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Kn(this,"complete"),Kn(this,"abort"),pi(this))},Ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pi(this,!0)),B.X.M.call(this)},Ce.Ha=function(){this.s||(this.F||this.v||this.l?Rs(this):this.fb())},Ce.fb=function(){Rs(this)},Ce.aa=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},Ce.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Sa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),O(e)}},Ce.Ea=function(){return this.m},Ce.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=Uo.prototype).ma=8,Ce.G=1,Ce.Ja=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const h=new Pi(this,this.j,s,void 0);let m=this.s;if(this.S&&(m?(m=Tt(m),Se(m,this.S)):m=this.S),null!==this.o||this.N||(h.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Bo(this,h,e),cr(t=As(this.F),"RID",s),cr(t,"CVER",22),this.D&&cr(t,"X-HTTP-Session-Id",this.D),Ni(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(us(m)))+"&"+e:this.o&&cs(t,this.o,m)),Gi(this.h,h),this.Ya&&cr(t,"TYPE","init"),this.O?(cr(t,"$req",e),cr(t,"SID","null"),h.Z=!0,ms(h,t,null)):ms(h,t,e),this.G=2}}else 3==this.G&&(s?Ua(this,s):0==this.i.length||ys(this.h)||Ua(this))},Ce.Ia=function(){if(this.u=null,Va(this),this.$&&!(this.K||null==this.g||0>=this.P)){var s=2*this.P;this.j.info("BP detection timer enabled: "+s),this.B=Vi(yt(this.eb,this),s)}},Ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,pr(10),wa(this),Va(this))},Ce.cb=function(){null!=this.v&&(this.v=null,wa(this),oa(this),pr(19))},Ce.kb=function(s){s?(this.j.info("Successfully pinged google.com"),pr(2)):(this.j.info("Failed to ping google.com"),pr(1))},(Ce=ds.prototype).xa=function(){},Ce.wa=function(){},Ce.va=function(){},Ce.ua=function(){},Ce.Ra=function(){},Ps.prototype.g=function(s,e){return new or(s,e)},Rt(or,hn),or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,t=this.h||void 0;pr(0),s.V=e,s.ia=t||{},s.L=s.Y,s.F=rl(s,null,s.V),vl(s)},or.prototype.close=function(){Vo(this.g)},or.prototype.u=function(s){var e=this.g;if("string"==typeof s){var t={};t.__data__=s,s=t}else this.v&&((t={}).__data__=Li(s),s=t);e.i.push(new class{constructor(s,e){this.h=s,this.g=e}}(e.ab++,s)),3==e.G&&vl(e)},or.prototype.M=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,or.X.M.call(this)},Rt(xu,Mn),Rt(aa,kn),Rt(ri,ds),ri.prototype.xa=function(){Kn(this.g,"a")},ri.prototype.wa=function(s){Kn(this.g,new xu(s))},ri.prototype.va=function(s){Kn(this.g,new aa)},ri.prototype.ua=function(){Kn(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,je.COMPLETE="complete",$t.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",hn.prototype.listen=hn.prototype.N,B.prototype.listenOnce=B.prototype.O,B.prototype.getLastError=B.prototype.Oa,B.prototype.getLastErrorCode=B.prototype.Ea,B.prototype.getStatus=B.prototype.aa,B.prototype.getResponseJson=B.prototype.Sa,B.prototype.getResponseText=B.prototype.fa,B.prototype.send=B.prototype.da,B.prototype.setWithCredentials=B.prototype.Ka;var oc=Me.createWebChannelTransport=function(){return new Ps},qs=Me.getStatEventTarget=function(){return jr()},kl=Me.ErrorCode=Ue,Ll=Me.EventType=je,su=Me.Event=mi,ou=Me.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},N=Me.FetchXmlHttpFactory=wo,Q=Me.WebChannel=$t,j=Me.XhrIo=B;const le="@firebase/firestore";class Ie{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ie.UNAUTHENTICATED=new Ie(null),Ie.GOOGLE_CREDENTIALS=new Ie("google-credentials-uid"),Ie.FIRST_PARTY=new Ie("first-party-uid"),Ie.MOCK_USER=new Ie("mock-user");let mt="9.20.0";const xt=new k.Yd("@firebase/firestore");function yn(){return xt.logLevel}function Ct(s,...e){if(xt.logLevel<=k.in.DEBUG){const t=e.map(Oi);xt.debug(`Firestore (${mt}): ${s}`,...t)}}function Ln(s,...e){if(xt.logLevel<=k.in.ERROR){const t=e.map(Oi);xt.error(`Firestore (${mt}): ${s}`,...t)}}function Wn(s,...e){if(xt.logLevel<=k.in.WARN){const t=e.map(Oi);xt.warn(`Firestore (${mt}): ${s}`,...t)}}function Oi(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function zt(s="Unexpected state"){const e=`FIRESTORE (${mt}) INTERNAL ASSERTION FAILED: `+s;throw Ln(e),new Error(e)}function sn(s,e){s||zt()}function Wt(s,e){return s}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends ye.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class mo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ta{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ie.UNAUTHENTICATED))}shutdown(){}}class To{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class So{constructor(e){this.t=e,this.currentUser=Ie.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let h=this.i;const m=X=>this.i!==h?(h=this.i,t(X)):Promise.resolve();let C=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new ii,e.enqueueRetryable(()=>m(this.currentUser))};const R=()=>{const X=C;e.enqueueRetryable((0,Te.Z)(function*(){yield X.promise,yield m(a.currentUser)}))},G=X=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(X=>G(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?G(X):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new ii)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(sn("string"==typeof a.accessToken),new mo(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return sn(null===e||"string"==typeof e),new Ie(e)}}class Fl{constructor(e,t,a){this.h=e,this.l=t,this.m=a,this.type="FirstParty",this.user=Ie.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ul{constructor(e,t,a){this.h=e,this.l=t,this.m=a}getToken(){return Promise.resolve(new Fl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ie.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ho{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const a=m=>{null!=m.error&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const C=m.token!==this.T;return this.T=m.token,Ct("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>a(m))};const h=m=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?h(m):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(sn("string"==typeof t.token),this.T=t.token,new Ho(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pu(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<s;a++)t[a]=Math.floor(256*Math.random());return t}class Cl{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const h=Pu(40);for(let m=0;m<h.length;++m)a.length<20&&h[m]<t&&(a+=e.charAt(h[m]%e.length))}return a}}function Rn(s,e){return s<e?-1:s>e?1:0}function la(s,e,t){return s.length===e.length&&s.every((a,h)=>t(a,e[h]))}function er(s){return s+"\0"}class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Mt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Mt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Mt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new si(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rn(this.nanoseconds,e.nanoseconds):Rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bn(e)}static min(){return new bn(new si(0,0))}static max(){return new bn(new si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zs{constructor(e,t,a){void 0===t?t=0:t>e.length&&zt(),void 0===a?a=e.length-t:a>e.length-t&&zt(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===Zs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let h=0;h<a;h++){const m=e.get(h),C=t.get(h);if(m<C)return-1;if(m>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ge extends Zs{construct(e,t,a){return new ge(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Mt(ct.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(h=>h.length>0))}return new ge(t)}static emptyPath(){return new ge([])}}const il=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends Zs{construct(e,t,a){return new yi(e,t,a)}static isValidIdentifier(e){return il.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(e){const t=[];let a="",h=0;const m=()=>{if(0===a.length)throw new Mt(ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let C=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new Mt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[h+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new Mt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=G,h+=2}else"`"===R?(C=!C,h++):"."!==R||C?(a+=R,h++):(m(),h++)}if(m(),C)throw new Mt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yi(t)}static emptyPath(){return new yi([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(ge.fromString(e))}static fromName(e){return new tn(ge.fromString(e).popFirst(5))}static empty(){return new tn(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new ge(e.slice()))}}class oi{constructor(e,t,a,h){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=h}}function Do(s){return s.fields.find(e=>2===e.kind)}function jo(s){return s.fields.filter(e=>2!==e.kind)}oi.UNKNOWN_ID=-1;class Cr{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vs{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vs(0,Ys.min())}}function au(s,e){const t=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,h=bn.fromTimestamp(1e9===a?new si(t+1,0):new si(t,a));return new Ys(h,tn.empty(),e)}function lu(s){return new Ys(s.readTime,s.key,-1)}class Ys{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Ys(bn.min(),tn.empty(),-1)}static max(){return new Ys(bn.max(),tn.empty(),-1)}}function bl(s,e){let t=s.readTime.compareTo(e.readTime);return 0!==t?t:(t=tn.comparator(s.documentKey,e.documentKey),0!==t?t:Rn(s.largestBatchId,e.largestBatchId))}const Bs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hs(s){return ol.apply(this,arguments)}function ol(){return ol=(0,Te.Z)(function*(s){if(s.code!==ct.FAILED_PRECONDITION||s.message!==Bs)throw s;Ct("LocalStore","Unexpectedly lost primary lease")}),ol.apply(this,arguments)}class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ht((a,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(a,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(a,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ht?t:ht.resolve(t)}catch(t){return ht.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ht.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ht.reject(t)}static resolve(e){return new ht((t,a)=>{t(e)})}static reject(e){return new ht((t,a)=>{a(e)})}static waitFor(e){return new ht((t,a)=>{let h=0,m=0,C=!1;e.forEach(R=>{++h,R.next(()=>{++m,C&&m===h&&t()},G=>a(G))}),C=!0,m===h&&t()})}static or(e){let t=ht.resolve(!1);for(const a of e)t=t.next(h=>h?ht.resolve(h):a());return t}static forEach(e,t){const a=[];return e.forEach((h,m)=>{a.push(t.call(this,h,m))}),this.waitFor(a)}static mapArray(e,t){return new ht((a,h)=>{const m=e.length,C=new Array(m);let R=0;for(let G=0;G<m;G++){const X=G;t(e[X]).next(re=>{C[X]=re,++R,R===m&&a(C)},re=>h(re))}})}static doWhile(e,t){return new ht((a,h)=>{const m=()=>{!0===e()?t().next(()=>{m()},h):a()};m()})}}class $o{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new ii,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new ac(e,t.error)):this.R.resolve()},this.transaction.onerror=a=>{const h=Vl(a.target.error);this.R.reject(new ac(e,h))}}static open(e,t,a,h){try{return new $o(t,e.transaction(h,a))}catch(m){throw new ac(t,m)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Ct("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new al(t)}}class vs{constructor(e,t,a){this.name=e,this.version=t,this.V=a,12.2===vs.S((0,ye.z$)())&&Ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ct("SimpleDb","Removing database:",e),Ba(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ye.hl)())return!1;if(vs.C())return!0;const e=(0,ye.z$)(),t=vs.S(e),a=0<t&&t<10,h=vs.N(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static N(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}$(e){var t=this;return(0,Te.Z)(function*(){return t.db||(Ct("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=C=>{a(C.target.result)},m.onblocked=()=>{h(new ac(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=C=>{const R=C.target.error;h("VersionError"===R.name?new Mt(ct.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new Mt(ct.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new ac(e,R))},m.onupgradeneeded=C=>{Ct("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.V.M(C.target.result,m.transaction,C.oldVersion,t.version).next(()=>{Ct("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=a=>t.F(a)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,h){var m=this;return(0,Te.Z)(function*(){const C="readonly"===t;let R=0;for(;;){++R;try{m.db=yield m.$(e);const G=$o.open(m.db,e,C?"readonly":"readwrite",a),X=h(G).next(re=>(G.P(),re)).catch(re=>(G.abort(re),ht.reject(re))).toPromise();return X.catch(()=>{}),yield G.v,X}catch(G){const X=G,re="FirebaseError"!==X.name&&R<3;if(Ct("SimpleDb","Transaction failed with error:",X.message,"Retrying:",re),m.close(),!re)return Promise.reject(X)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Xf{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ba(this.L.delete())}}class ac extends Mt{constructor(e,t){super(ct.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fr(s){return"IndexedDbTransactionError"===s.name}class al{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(Ct("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(Ct("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Ba(a)}add(e){return Ct("SimpleDb","ADD",this.store.name,e,e),Ba(this.store.add(e))}get(e){return Ba(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ct("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ct("SimpleDb","DELETE",this.store.name,e),Ba(this.store.delete(e))}count(){return Ct("SimpleDb","COUNT",this.store.name),Ba(this.store.count())}j(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const h=this.cursor(a),m=[];return this.W(h,(C,R)=>{m.push(R)}).next(()=>m)}{const h=this.store.getAll(a.range);return new ht((m,C)=>{h.onerror=R=>{C(R.target.error)},h.onsuccess=R=>{m(R.target.result)}})}}H(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new ht((h,m)=>{a.onerror=C=>{m(C.target.error)},a.onsuccess=C=>{h(C.target.result)}})}J(e,t){Ct("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.Y=!1;const h=this.cursor(a);return this.W(h,(m,C,R)=>R.delete())}Z(e,t){let a;t?a=e:(a={},t=e);const h=this.cursor(a);return this.W(h,t)}X(e){const t=this.cursor({});return new ht((a,h)=>{t.onerror=m=>{const C=Vl(m.target.error);h(C)},t.onsuccess=m=>{const C=m.target.result;C?e(C.primaryKey,C.value).next(R=>{R?C.continue():a()}):a()}})}W(e,t){const a=[];return new ht((h,m)=>{e.onerror=C=>{m(C.target.error)},e.onsuccess=C=>{const R=C.target.result;if(!R)return void h();const G=new Xf(R),X=t(R.primaryKey,R.value,G);if(X instanceof ht){const re=X.catch(we=>(G.done(),ht.reject(we)));a.push(re)}G.isDone?h():null===G.K?R.continue():R.continue(G.K)}}).next(()=>ht.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.Y?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ba(s){return new ht((e,t)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const h=Vl(a.target.error);t(h)}})}let uu=!1;function Vl(s){const e=vs.S((0,ye.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const a=new Mt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uu||(uu=!0,setTimeout(()=>{throw a},0)),a}}return s}class Bl{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ct("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Te.Z)(function*(){t.task=null;try{Ct("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(a){Fr(a)?Ct("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield hs(a)}yield t.et(6e4)}))}}class Qs{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.st(a,e))})()}st(e,t){const a=new Set;let h=t,m=!0;return ht.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!a.has(C))return Ct("IndexBackiller",`Processing collection: ${C}`),this.it(e,C,h).next(R=>{h-=R,a.add(C)});m=!1})).next(()=>t-h)}it(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,a).next(m=>{const C=m.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.rt(h,m)).next(R=>(Ct("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>C.size)}))}rt(e,t){let a=e;return t.changes.forEach((h,m)=>{const C=lu(m);bl(C,a)>0&&(a=C)}),new Ys(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ao=(()=>{class s{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>a.writeSequenceNumber(h))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return s.ct=-1,s})();function Ha(s){return null==s}function lc(s){return 0===s&&1/s==-1/0}function ep(s){return"number"==typeof s&&Number.isInteger(s)&&!lc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function Mr(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=ja(e)),e=Il(s.get(t),e);return ja(e)}function Il(s,e){let t=e;const a=s.length;for(let h=0;h<a;h++){const m=s.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function ja(s){return s+"\x01\x01"}function Go(s){const e=s.length;if(sn(e>=2),2===e)return sn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),ge.emptyPath();const t=e-2,a=[];let h="";for(let m=0;m<e;){const C=s.indexOf("\x01",m);switch((C<0||C>t)&&zt(),s.charAt(C+1)){case"\x01":const R=s.substring(m,C);let G;0===h.length?G=R:(h+=R,G=h,h=""),a.push(G);break;case"\x10":h+=s.substring(m,C),h+="\0";break;case"\x11":h+=s.substring(m,C+1);break;default:zt()}m=C+2}return new ge(a)}const Ns=["userId","batchId"];function _o(s,e){return[s,Mr(e)]}function Js(s,e,t){return[s,Mr(e),t]}const Tl={},Hs=["prefixPath","collectionGroup","readTime","documentId"],Nu=["prefixPath","collectionGroup","documentId"],Ou=["collectionGroup","readTime","prefixPath","documentId"],$a=["canonicalId","targetId"],Wc=["targetId","path"],zo=["path","targetId"],uc=["collectionId","parent"],S=["indexId","uid"],M=["uid","sequenceNumber"],b=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],P=["indexId","uid","orderedDocumentKey"],z=["userId","collectionPath","documentId"],oe=["userId","collectionPath","largestBatchId"],ce=["userId","collectionGroup","largestBatchId"],Qe=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dt=[...Qe,"documentOverlays"],on=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],un=on,dr=[...un,"indexConfiguration","indexState","indexEntries"];class gi extends sl{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function vi(s,e){const t=Wt(s);return vs.O(t.at,e)}function Xs(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function V(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function $(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ne{constructor(e,t){this.comparator=e,this.root=t||Ke.EMPTY}insert(e,t){return new ne(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return t+a.left.size;h<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ae(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ae(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ae(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ae(this.root,e,this.comparator,!0)}}class Ae{constructor(e,t,a,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?a(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ke{constructor(e,t,a,h,m){this.key=e,this.value=t,this.color=a??Ke.RED,this.left=h??Ke.EMPTY,this.right=m??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,h,m){return new Ke(e??this.key,t??this.value,a??this.color,h??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let h=this;const m=a(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,a),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Ke.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const e=this.left.check();if(e!==this.right.check())throw zt();return e+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1,Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(s,e,t,a,h){return this}insert(s,e,t){return new Ke(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class et{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jt(this.data.getIterator())}getIteratorFrom(e){return new jt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new et(this.comparator);return t.data=e,t}}class jt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qt(s){return s.hasNext()?s.getNext():void 0}class dn{constructor(e){this.fields=e,e.sort(yi.comparator)}static empty(){return new dn([])}unionWith(e){let t=new et(yi.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class Fn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class In{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Fn("Invalid base64 string: "+h):h}}(e);return new In(t)}static fromUint8Array(e){const t=function(a){let h="";for(let m=0;m<a.length;++m)h+=String.fromCharCode(a[m]);return h}(e);return new In(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const Da=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(s){if(sn(!!s),"string"==typeof s){let e=0;const t=Da.exec(s);if(sn(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:bi(s.seconds),nanos:bi(s.nanos)}}function bi(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Ga(s){return"string"==typeof s?In.fromBase64String(s):In.fromUint8Array(s)}function Hl(s){var e,t;return"server_timestamp"===(null===(t=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function js(s){const e=s.mapValue.fields.__previous_value__;return Hl(e)?js(e):e}function ua(s){const e=zi(s.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}class jh{constructor(e,t,a,h,m,C,R,G){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=h,this.ssl=m,this.forceLongPolling=C,this.autoDetectLongPolling=R,this.useFetchStreams=G}}class $s{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}const Wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jl={nullValue:"NULL_VALUE"};function cu(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hl(s)?4:ku(s)?9007199254740991:10:zt()}function ll(s,e){if(s===e)return!0;const t=cu(s);if(t!==cu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ua(s).isEqual(ua(e));case 3:return function(a,h){if("string"==typeof a.timestampValue&&"string"==typeof h.timestampValue&&a.timestampValue.length===h.timestampValue.length)return a.timestampValue===h.timestampValue;const m=zi(a.timestampValue),C=zi(h.timestampValue);return m.seconds===C.seconds&&m.nanos===C.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return h=e,Ga(s.bytesValue).isEqual(Ga(h.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,h){return bi(a.geoPointValue.latitude)===bi(h.geoPointValue.latitude)&&bi(a.geoPointValue.longitude)===bi(h.geoPointValue.longitude)}(s,e);case 2:return function(a,h){if("integerValue"in a&&"integerValue"in h)return bi(a.integerValue)===bi(h.integerValue);if("doubleValue"in a&&"doubleValue"in h){const m=bi(a.doubleValue),C=bi(h.doubleValue);return m===C?lc(m)===lc(C):isNaN(m)&&isNaN(C)}return!1}(s,e);case 9:return la(s.arrayValue.values||[],e.arrayValue.values||[],ll);case 10:return function(a,h){const m=a.mapValue.fields||{},C=h.mapValue.fields||{};if(Xs(m)!==Xs(C))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===C[R]||!ll(m[R],C[R])))return!1;return!0}(s,e);default:return zt()}var h}function Sl(s,e){return void 0!==(s.values||[]).find(t=>ll(t,e))}function Ko(s,e){if(s===e)return 0;const t=cu(s),a=cu(e);if(t!==a)return Rn(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Rn(s.booleanValue,e.booleanValue);case 2:return function(h,m){const C=bi(h.integerValue||h.doubleValue),R=bi(m.integerValue||m.doubleValue);return C<R?-1:C>R?1:C===R?0:isNaN(C)?isNaN(R)?0:-1:1}(s,e);case 3:return dg(s.timestampValue,e.timestampValue);case 4:return dg(ua(s),ua(e));case 5:return Rn(s.stringValue,e.stringValue);case 6:return function(h,m){const C=Ga(h),R=Ga(m);return C.compareTo(R)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const C=h.split("/"),R=m.split("/");for(let G=0;G<C.length&&G<R.length;G++){const X=Rn(C[G],R[G]);if(0!==X)return X}return Rn(C.length,R.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const C=Rn(bi(h.latitude),bi(m.latitude));return 0!==C?C:Rn(bi(h.longitude),bi(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(h,m){const C=h.values||[],R=m.values||[];for(let G=0;G<C.length&&G<R.length;++G){const X=Ko(C[G],R[G]);if(X)return X}return Rn(C.length,R.length)}(s.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===Wo.mapValue&&m===Wo.mapValue)return 0;if(h===Wo.mapValue)return 1;if(m===Wo.mapValue)return-1;const C=h.fields||{},R=Object.keys(C),G=m.fields||{},X=Object.keys(G);R.sort(),X.sort();for(let re=0;re<R.length&&re<X.length;++re){const we=Rn(R[re],X[re]);if(0!==we)return we;const $e=Ko(C[R[re]],G[X[re]]);if(0!==$e)return $e}return Rn(R.length,X.length)}(s.mapValue,e.mapValue);default:throw zt()}}function dg(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Rn(s,e);const t=zi(s),a=zi(e),h=Rn(t.seconds,a.seconds);return 0!==h?h:Rn(t.nanos,a.nanos)}function Kc(s){return cc(s)}function cc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const h=zi(a);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Ga(s.bytesValue).toBase64():"referenceValue"in s?tn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let h="[",m=!0;for(const C of a.values||[])m?m=!1:h+=",",h+=cc(C);return h+"]"}(s.arrayValue):"mapValue"in s?function(a){const h=Object.keys(a.fields||{}).sort();let m="{",C=!0;for(const R of h)C?C=!1:m+=",",m+=`${R}:${cc(a.fields[R])}`;return m+"}"}(s.mapValue):zt();var e}function dc(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function hg(s){return!!s&&"integerValue"in s}function Vd(s){return!!s&&"arrayValue"in s}function tp(s){return!!s&&"nullValue"in s}function fg(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bd(s){return!!s&&"mapValue"in s}function du(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return V(s.mapValue.fields,(t,a)=>e.mapValue.fields[t]=du(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(s.arrayValue.values[t]);return e}return Object.assign({},s)}function ku(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function pg(s){return"nullValue"in s?jl:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?dc($s.empty(),tn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:zt()}function gg(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?dc($s.empty(),tn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Wo:zt()}function Hd(s,e){const t=Ko(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function Dl(s,e){const t=Ko(s.value,e.value);return 0!==t?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class Os{constructor(e){this.value=e}static empty(){return new Os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Bd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=yi.emptyPath(),a={},h=[];e.forEach((C,R)=>{if(!t.isImmediateParentOf(R)){const G=this.getFieldsMap(t);this.applyChanges(G,a,h),a={},h=[],t=R.popLast()}C?a[R.lastSegment()]=du(C):h.push(R.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,a,h)}delete(e){const t=this.field(e.popLast());Bd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ll(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=t.mapValue.fields[e.get(a)];Bd(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,a){V(t,(h,m)=>e[h]=m);for(const h of a)delete e[h]}clone(){return new Os(du(this.value))}}function qo(s){const e=[];return V(s.fields,(t,a)=>{const h=new yi([t]);if(Bd(a)){const m=qo(a.mapValue).fields;if(0===m.length)e.push(h);else for(const C of m)e.push(h.child(C))}else e.push(h)}),new dn(e)}class ki{constructor(e,t,a,h,m,C,R){this.key=e,this.documentType=t,this.version=a,this.readTime=h,this.createTime=m,this.data=C,this.documentState=R}static newInvalidDocument(e){return new ki(e,0,bn.min(),bn.min(),bn.min(),Os.empty(),0)}static newFoundDocument(e,t,a,h){return new ki(e,1,t,bn.min(),a,h,0)}static newNoDocument(e,t){return new ki(e,2,t,bn.min(),bn.min(),Os.empty(),0)}static newUnknownDocument(e,t){return new ki(e,3,t,bn.min(),bn.min(),Os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hu{constructor(e,t){this.position=e,this.inclusive=t}}function fu(s,e,t){let a=0;for(let h=0;h<s.position.length;h++){const m=e[h],C=s.position[h];if(a=m.field.isKeyField()?tn.comparator(tn.fromName(C.referenceValue),t.key):Ko(C,t.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return a}function np(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!ll(s.position[t],e.position[t]))return!1;return!0}class qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Um(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class za{}class br extends za{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,a):new Vm(e,t,a):"array-contains"===t?new _g(e,a):"in"===t?new Gd(e,a):"not-in"===t?new Bm(e,a):"array-contains-any"===t?new yg(e,a):new br(e,t,a)}static createKeyFieldInFilter(e,t,a){return"in"===t?new mg(e,a):new Gh(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ko(t,this.value)):null!==t&&cu(this.value)===cu(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ii extends za{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ii(e,t)}matches(e){return eo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function eo(s){return"and"===s.op}function jd(s){return"or"===s.op}function $d(s){return $l(s)&&eo(s)}function $l(s){for(const e of s.filters)if(e instanceof Ii)return!1;return!0}function to(s){if(s instanceof br)return s.field.canonicalString()+s.op.toString()+Kc(s.value);if($d(s))return s.filters.map(e=>to(e)).join(",");{const e=s.filters.map(t=>to(t)).join(",");return`${s.op}(${e})`}}function Zc(s,e){return s instanceof br?(t=s,(a=e)instanceof br&&t.op===a.op&&t.field.isEqual(a.field)&&ll(t.value,a.value)):s instanceof Ii?function(t,a){return a instanceof Ii&&t.op===a.op&&t.filters.length===a.filters.length&&t.filters.reduce((h,m,C)=>h&&Zc(m,a.filters[C]),!0)}(s,e):void zt();var t,a}function $h(s,e){const t=s.filters.concat(e);return Ii.create(t,s.op)}function rp(s){return s instanceof br?`${(e=s).field.canonicalString()} ${e.op} ${Kc(e.value)}`:s instanceof Ii?function(e){return e.op.toString()+" {"+e.getFilters().map(rp).join(" ,")+"}"}(s):"Filter";var e}class Vm extends br{constructor(e,t,a){super(e,t,a),this.key=tn.fromName(a.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class mg extends br{constructor(e,t){super(e,"in",t),this.keys=hc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gh extends br{constructor(e,t){super(e,"not-in",t),this.keys=hc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hc(s,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>tn.fromName(a.referenceValue))}class _g extends br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vd(t)&&Sl(t.arrayValue,this.value)}}class Gd extends br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sl(this.value.arrayValue,t)}}class Bm extends br{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sl(this.value.arrayValue,t)}}class yg extends br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Sl(this.value.arrayValue,a))}}class ip{constructor(e,t=null,a=[],h=[],m=null,C=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=h,this.limit=m,this.startAt=C,this.endAt=R,this.ft=null}}function Lu(s,e=null,t=[],a=[],h=null,m=null,C=null){return new ip(s,e,t,a,h,m,C)}function fc(s){const e=Wt(s);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>to(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(h=a).field.canonicalString()+h.dir;var h}).join(","),Ha(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Kc(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Kc(a)).join(",")),e.ft=t}return e.ft}function Fu(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!Um(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!Zc(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!np(s.startAt,e.startAt)&&np(s.endAt,e.endAt)}function pc(s){return tn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function zd(s,e){return s.filters.filter(t=>t instanceof br&&t.field.isEqual(e))}function Uu(s,e,t){let a=jl,h=!0;for(const m of zd(s,e)){let C=jl,R=!0;switch(m.op){case"<":case"<=":C=pg(m.value);break;case"==":case"in":case">=":C=m.value;break;case">":C=m.value,R=!1;break;case"!=":case"not-in":C=jl}Hd({value:a,inclusive:h},{value:C,inclusive:R})<0&&(a=C,h=R)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const C=t.position[m];Hd({value:a,inclusive:h},{value:C,inclusive:t.inclusive})<0&&(a=C,h=t.inclusive);break}return{value:a,inclusive:h}}function Wd(s,e,t){let a=Wo,h=!0;for(const m of zd(s,e)){let C=Wo,R=!0;switch(m.op){case">=":case">":C=gg(m.value),R=!1;break;case"==":case"in":case"<=":C=m.value;break;case"<":C=m.value,R=!1;break;case"!=":case"not-in":C=Wo}Dl({value:a,inclusive:h},{value:C,inclusive:R})>0&&(a=C,h=R)}if(null!==t)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const C=t.position[m];Dl({value:a,inclusive:h},{value:C,inclusive:t.inclusive})>0&&(a=C,h=t.inclusive);break}return{value:a,inclusive:h}}class Wa{constructor(e,t=null,a=[],h=[],m=null,C="F",R=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=h,this.limit=m,this.limitType=C,this.startAt=R,this.endAt=G,this.dt=null,this.wt=null}}function Vu(s,e,t,a,h,m,C,R){return new Wa(s,e,t,a,h,m,C,R)}function pu(s){return new Wa(s)}function zh(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function vg(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function Kd(s){for(const e of s.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function sp(s){return null!==s.collectionGroup}function gc(s){const e=Wt(s);if(null===e.dt){e.dt=[];const t=Kd(e),a=vg(e);if(null!==t&&null===a)t.isKeyField()||e.dt.push(new qc(t)),e.dt.push(new qc(yi.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.dt.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new qc(yi.keyField(),m))}}}return e.dt}function Aa(s){const e=Wt(s);if(!e.wt)if("F"===e.limitType)e.wt=Lu(e.path,e.collectionGroup,gc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of gc(e))t.push(new qc(m.field,"desc"===m.dir?"asc":"desc"));const a=e.endAt?new hu(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new hu(e.startAt.position,e.startAt.inclusive):null;e.wt=Lu(e.path,e.collectionGroup,t,e.filters,e.limit,a,h)}return e.wt}function gu(s,e){e.getFirstInequalityField(),Kd(s);const t=s.filters.concat([e]);return new Wa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Wh(s,e,t){return new Wa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function qd(s,e){return Fu(Aa(s),Aa(e))&&s.limitType===e.limitType}function Zd(s){return`${fc(Aa(s))}|lt:${s.limitType}`}function Yd(s){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(a=>rp(a)).join(", ")}]`),Ha(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(a=>{return`${(h=a).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Kc(a)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Kc(a)).join(",")),`Target(${t})`}(Aa(s))}; limitType=${s.limitType})`}function mu(s,e){return e.isFoundDocument()&&function(t,a){const h=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):tn.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(s,e)&&function(t,a){for(const h of gc(t))if(!h.field.isKeyField()&&null===a.data.field(h.field))return!1;return!0}(s,e)&&function(t,a){for(const h of t.filters)if(!h.matches(a))return!1;return!0}(s,e)&&(a=e,!((t=s).startAt&&!function(h,m,C){const R=fu(h,m,C);return h.inclusive?R<=0:R<0}(t.startAt,gc(t),a)||t.endAt&&!function(h,m,C){const R=fu(h,m,C);return h.inclusive?R>=0:R>0}(t.endAt,gc(t),a)));var t,a}function Kh(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Hm(s){return(e,t)=>{let a=!1;for(const h of gc(s)){const m=qh(h,e,t);if(0!==m)return m;a=a||h.field.isKeyField()}return 0}}function qh(s,e,t){const a=s.field.isKeyField()?tn.comparator(e.key,t.key):function(h,m,C){const R=m.data.field(h),G=C.data.field(h);return null!==R&&null!==G?Ko(R,G):zt()}(s.field,e,t);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return zt()}}class Bu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[h,m]of a)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[t]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){V(this.inner,(t,a)=>{for(const[h,m]of a)e(h,m)})}isEmpty(){return $(this.inner)}size(){return this.innerSize}}const jm=new ne(tn.comparator);function Es(){return jm}const op=new ne(tn.comparator);function _u(...s){let e=op;for(const t of s)e=e.insert(t.key,t);return e}function ap(s){let e=op;return s.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Gl(){return mc()}function Ka(){return mc()}function mc(){return new Bu(s=>s.toString(),(s,e)=>s.isEqual(e))}const Qd=new ne(tn.comparator),Eg=new et(tn.comparator);function ar(...s){let e=Eg;for(const t of s)e=e.add(t);return e}const Jd=new et(Rn);function _c(){return Jd}function Xd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function Yc(s){return{integerValue:""+s}}function yc(s,e){return ep(e)?Yc(e):Xd(s,e)}class Qc{constructor(){this._=void 0}}function Zh(s,e,t){return s instanceof Xc?function(a,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):s instanceof Hu?wg(s,e):s instanceof Ec?eh(s,e):function(a,h){const m=vc(a,h),C=Yh(m)+Yh(a._t);return hg(m)&&hg(a._t)?Yc(C):Xd(a.serializer,C)}(s,e)}function Jc(s,e,t){return s instanceof Hu?wg(s,e):s instanceof Ec?eh(s,e):t}function vc(s,e){return s instanceof wc?hg(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class Xc extends Qc{}class Hu extends Qc{constructor(e){super(),this.elements=e}}function wg(s,e){const t=th(e);for(const a of s.elements)t.some(h=>ll(h,a))||t.push(a);return{arrayValue:{values:t}}}class Ec extends Qc{constructor(e){super(),this.elements=e}}function eh(s,e){let t=th(e);for(const a of s.elements)t=t.filter(h=>!ll(h,a));return{arrayValue:{values:t}}}class wc extends Qc{constructor(e,t){super(),this.serializer=e,this._t=t}}function Yh(s){return bi(s.integerValue||s.doubleValue)}function th(s){return Vd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ju{constructor(e,t){this.field=e,this.transform=t}}class Cg{constructor(e,t){this.version=e,this.transformResults=t}}class Yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class td{}function rh(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new nd(s.key,Yi.none()):new qa(s.key,s.data,Yi.none());{const t=s.data,a=Os.empty();let h=new et(yi.comparator);for(let m of e.fields)if(!h.has(m)){let C=t.field(m);null===C&&m.length>1&&(m=m.popLast(),C=t.field(m)),null===C?a.delete(m):a.set(m,C),h=h.add(m)}return new ul(s.key,a,new dn(h.toArray()),Yi.none())}}function $m(s,e,t){s instanceof qa?function(a,h,m){const C=a.value.clone(),R=cl(a.fieldTransforms,h,m.transformResults);C.setAll(R),h.convertToFoundDocument(m.version,C).setHasCommittedMutations()}(s,e,t):s instanceof ul?function(a,h,m){if(!nh(a.precondition,h))return void h.convertToUnknownDocument(m.version);const C=cl(a.fieldTransforms,h,m.transformResults),R=h.data;R.setAll(Jh(a)),R.setAll(C),h.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(s,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $u(s,e,t,a){return s instanceof qa?function(h,m,C,R){if(!nh(h.precondition,m))return C;const G=h.value.clone(),X=ih(h.fieldTransforms,R,m);return G.setAll(X),m.convertToFoundDocument(m.version,G).setHasLocalMutations(),null}(s,e,t,a):s instanceof ul?function(h,m,C,R){if(!nh(h.precondition,m))return C;const G=ih(h.fieldTransforms,R,m),X=m.data;return X.setAll(Jh(h)),X.setAll(G),m.convertToFoundDocument(m.version,X).setHasLocalMutations(),null===C?null:C.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(re=>re.field))}(s,e,t,a):(C=t,nh(s.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):C);var m,C}function Qh(s,e){let t=null;for(const a of s.fieldTransforms){const h=e.data.field(a.field),m=vc(a.transform,h||null);null!=m&&(null===t&&(t=Os.empty()),t.set(a.field,m))}return t||null}function ca(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=s.fieldTransforms)&&void 0===a||t&&a&&la(t,a,(h,m)=>function ed(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(t=s.transform)instanceof Hu&&a instanceof Hu||t instanceof Ec&&a instanceof Ec?la(t.elements,a.elements,ll):t instanceof wc&&a instanceof wc?ll(t._t,a._t):t instanceof Xc&&a instanceof Xc);var t,a}(h,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var t,a}class qa extends td{constructor(e,t,a,h=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class ul extends td{constructor(e,t,a,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Jh(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=s.data.field(t);e.set(t,a)}}),e}function cl(s,e,t){const a=new Map;sn(s.length===t.length);for(let h=0;h<t.length;h++){const m=s[h],C=m.transform,R=e.data.field(m.field);a.set(m.field,Jc(C,R,t[h]))}return a}function ih(s,e,t){const a=new Map;for(const h of s){const m=h.transform,C=t.data.field(h.field);a.set(h.field,Zh(m,C,e))}return a}class nd extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xh extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ef{constructor(e,t,a,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&$m(m,e,a[h])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=$u(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=$u(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Ka();return this.mutations.forEach(h=>{const m=e.get(h.key),C=m.overlayedDocument;let R=this.applyToLocalView(C,m.mutatedFields);R=t.has(h.key)?null:R;const G=rh(C,R);null!==G&&a.set(h.key,G),C.isValidDocument()||C.convertToNoDocument(bn.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ar())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,a)=>ca(t,a))&&la(this.baseMutations,e.baseMutations,(t,a)=>ca(t,a))}}class Zo{constructor(e,t,a,h){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=h}static from(e,t,a){sn(e.mutations.length===a.length);let h=Qd;const m=e.mutations;for(let C=0;C<m.length;C++)h=h.insert(m[C].key,a[C].version);return new Zo(e,t,a,h)}}class Ma{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rd{constructor(e){this.count=e}}var vr,Rr;function sh(s){switch(s){default:return zt();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0}}function Gs(s){if(void 0===s)return Ln("GRPC error has no .code"),ct.UNKNOWN;switch(s){case vr.OK:return ct.OK;case vr.CANCELLED:return ct.CANCELLED;case vr.UNKNOWN:return ct.UNKNOWN;case vr.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case vr.INTERNAL:return ct.INTERNAL;case vr.UNAVAILABLE:return ct.UNAVAILABLE;case vr.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case vr.NOT_FOUND:return ct.NOT_FOUND;case vr.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case vr.ABORTED:return ct.ABORTED;case vr.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case vr.DATA_LOSS:return ct.DATA_LOSS;default:return zt()}}(Rr=vr||(vr={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";class da{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zl}static getOrCreateInstance(){return null===zl&&(zl=new da),zl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let zl=null;class ha{constructor(e,t,a,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const h=new Map;return h.set(e,ks.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new ha(bn.min(),h,_c(),Es(),ar())}}class ks{constructor(e,t,a,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new ks(a,t,ar(),ar(),ar())}}class Cc{constructor(e,t,a,h){this.It=e,this.removedTargetIds=t,this.key=a,this.Tt=h}}class fa{constructor(e,t){this.targetId=e,this.Et=t}}class id{constructor(e,t,a=In.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=h}}class Wl{constructor(){this.At=0,this.Rt=I(),this.vt=In.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=ar(),t=ar(),a=ar();return this.Rt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:a=a.add(h);break;default:zt()}}),new ks(this.vt,this.bt,e,t,a)}xt(){this.Pt=!1,this.Rt=I()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Kl{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Es(),this.qt=yu(),this.Ut=new et(Rn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const a=this.jt(t);switch(e.state){case 0:this.Wt(t)&&a.Dt(e.resumeToken);break;case 1:a.$t(),a.Vt||a.xt(),a.Dt(e.resumeToken);break;case 2:a.$t(),a.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(a.Mt(),a.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),a.Dt(e.resumeToken));break;default:zt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((a,h)=>{this.Wt(h)&&t(h)})}Jt(e){var t;const a=e.targetId,h=e.Et.count,m=this.Yt(a);if(m){const C=m.target;if(pc(C))if(0===h){const R=new tn(C.path);this.Qt(a,R,ki.newNoDocument(R,bn.min()))}else sn(1===h);else{const R=this.Zt(a);R!==h&&(this.Ht(a),this.Ut=this.Ut.add(a),null===(t=da.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:R,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((m,C)=>{const R=this.Yt(C);if(R){if(m.current&&pc(R.target)){const G=new tn(R.target.path);null!==this.Lt.get(G)||this.te(C,G)||this.Qt(C,G,ki.newNoDocument(G,e))}m.St&&(t.set(C,m.Ct()),m.xt())}});let a=ar();this.qt.forEach((m,C)=>{let R=!0;C.forEachWhile(G=>{const X=this.Yt(G);return!X||2===X.purpose||(R=!1,!1)}),R&&(a=a.add(m))}),this.Lt.forEach((m,C)=>C.setReadTime(e));const h=new ha(e,t,this.Ut,this.Lt,a);return this.Lt=Es(),this.qt=yu(),this.Ut=new et(Rn),h}Gt(e,t){if(!this.Wt(e))return;const a=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,a),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,a){if(!this.Wt(e))return;const h=this.jt(e);this.te(e,t)?h.Nt(t,1):h.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),a&&(this.Lt=this.Lt.insert(t,a))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Wl,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new et(Rn),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Ct("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Wl),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function yu(){return new ne(tn.comparator)}function I(){return new ne(tn.comparator)}const g={asc:"ASCENDING",desc:"DESCENDING"},y={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A={and:"AND",or:"OR"};class W{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ae(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Be(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function it(s,e){return ae(s,e.toTimestamp())}function Nt(s){return sn(!!s),bn.fromTimestamp(function(e){const t=zi(e);return new si(t.seconds,t.nanos)}(s))}function Jt(s,e){return(t=s,new ge(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function En(s){const e=ge.fromString(s);return sn(dp(e)),e}function pn(s,e){return Jt(s.databaseId,e.path)}function Kr(s,e){const t=En(e);if(t.get(1)!==s.databaseId.projectId)throw new Mt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Mt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new tn(nf(t))}function Ls(s,e){return Jt(s.databaseId,e)}function sd(s){const e=En(s);return 4===e.length?ge.emptyPath():nf(e)}function dl(s){return new ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function nf(s){return sn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function fs(s,e,t){return{name:pn(s,e),fields:t.value.mapValue.fields}}function Gu(s,e,t){const a=Kr(s,e.name),h=Nt(e.updateTime),m=e.createTime?Nt(e.createTime):bn.min(),C=new Os({mapValue:{fields:e.fields}}),R=ki.newFoundDocument(a,h,m,C);return t&&R.setHasCommittedMutations(),t?R.setHasCommittedMutations():R}function zu(s,e){let t;if(e instanceof qa)t={update:fs(s,e.key,e.value)};else if(e instanceof nd)t={delete:pn(s,e.key)};else if(e instanceof ul)t={update:fs(s,e.key,e.data),updateMask:Gm(e.fieldMask)};else{if(!(e instanceof Xh))return zt();t={verify:pn(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(h,m){const C=m.transform;if(C instanceof Xc)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Hu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Ec)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof wc)return{fieldPath:m.field.canonicalString(),increment:C._t};throw zt()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:it(s,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:zt()),t;var h}function ad(s,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Yi.updateTime(Nt(h.updateTime)):void 0!==h.exists?Yi.exists(h.exists):Yi.none():Yi.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(m,C){let R=null;"setToServerValue"in C?(sn("REQUEST_TIME"===C.setToServerValue),R=new Xc):"appendMissingElements"in C?R=new Hu(C.appendMissingElements.values||[]):"removeAllFromArray"in C?R=new Ec(C.removeAllFromArray.values||[]):"increment"in C?R=new wc(m,C.increment):zt();const G=yi.fromServerFormat(C.fieldPath);return new ju(G,R)}(s,h)):[];var h;if(e.update){const h=Kr(s,e.update.name),m=new Os({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new dn((e.updateMask.fieldPaths||[]).map(X=>yi.fromServerFormat(X)));return new ul(h,m,C,t,a)}return new qa(h,m,t,a)}if(e.delete){const h=Kr(s,e.delete);return new nd(h,t)}if(e.verify){const h=Kr(s,e.verify);return new Xh(h,t)}return zt()}function up(s,e){return{documents:[Ls(s,e.path)]}}function ld(s,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=Ls(s,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ls(s,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const h=function(G){if(0!==G.length)return Ig(Ii.create(G,"and"))}(e.filters);h&&(t.structuredQuery.where=h);const m=function(G){if(0!==G.length)return G.map(X=>{return{field:Wu((re=X).field),direction:sf(re.dir)};var re})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const C=(X=e.limit,s.useProto3Json||Ha(X)?X:{value:X});var X,R,G;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function rf(s){let e=sd(s.parent);const t=s.structuredQuery,a=t.from?t.from.length:0;let h=null;if(a>0){sn(1===a);const re=t.from[0];re.allDescendants?h=re.collectionId:e=e.child(re.collectionId)}let m=[];t.where&&(m=function(re){const we=J_(re);return we instanceof Ii&&$d(we)?we.getFilters():[we]}(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(re=>{return new qc(ah((we=re).field),function($e){switch($e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(we.direction));var we}));let R=null;t.limit&&(R=function(re){let we;return we="object"==typeof re?re.value:re,Ha(we)?null:we}(t.limit));let G=null;var re;t.startAt&&(G=new hu((re=t.startAt).values||[],!!re.before));let X=null;return t.endAt&&(X=function(re){return new hu(re.values||[],!re.before)}(t.endAt)),Vu(e,h,C,m,R,"F",G,X)}function J_(s){return void 0!==s.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ah(e.unaryFilter.field);return br.create(t,"==",{doubleValue:NaN});case"IS_NULL":const a=ah(e.unaryFilter.field);return br.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ah(e.unaryFilter.field);return br.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ah(e.unaryFilter.field);return br.create(m,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}(s):void 0!==s.fieldFilter?br.create(ah((e=s).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==s.compositeFilter?function(e){return Ii.create(e.compositeFilter.filters.map(t=>J_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return zt()}}(e.compositeFilter.op))}(s):zt();var e}function sf(s){return g[s]}function cp(s){return y[s]}function X_(s){return A[s]}function Wu(s){return{fieldPath:s.canonicalString()}}function ah(s){return yi.fromServerFormat(s.fieldPath)}function Ig(s){return s instanceof br?function(e){if("=="===e.op){if(fg(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NAN"}};if(tp(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fg(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NAN"}};if(tp(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(e.field),op:cp(e.op),value:e.value}}}(s):s instanceof Ii?function(e){const t=e.getFilters().map(a=>Ig(a));return 1===t.length?t[0]:{compositeFilter:{op:X_(e.op),filters:t}}}(s):zt()}function Gm(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dp(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class bc{constructor(e,t,a,h,m=bn.min(),C=bn.min(),R=In.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=R}withSequenceNumber(e){return new bc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Tg{constructor(e){this.se=e}}function Sg(s,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Dg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:pn(h=s.se,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:ae(h,m.version.toTimestamp()),createTime:ae(h,m.createTime.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:Ic(e.version)};else{if(!e.isUnknownDocument())return zt();a.unknownDocument={path:t.path.toArray(),version:Ic(e.version)}}var h,m;return a}function Dg(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Ic(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tc(s){const e=new si(s.seconds,s.nanoseconds);return bn.fromTimestamp(e)}function Sc(s,e){const t=(e.baseMutations||[]).map(m=>ad(s.se,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const a=e.mutations.map(m=>ad(s.se,m)),h=si.fromMillis(e.localWriteTimeMs);return new ef(e.batchId,h,t,a)}function ql(s){const e=Tc(s.readTime),t=void 0!==s.lastLimboFreeSnapshotVersion?Tc(s.lastLimboFreeSnapshotVersion):bn.min();let a;var h;return void 0!==s.query.documents?(sn(1===(h=s.query).documents.length),a=Aa(pu(sd(h.documents[0])))):a=Aa(rf(s.query)),new bc(a,s.targetId,0,s.lastListenSequenceNumber,e,t,In.fromBase64String(s.resumeToken))}function ey(s,e){const t=Ic(e.snapshotVersion),a=Ic(e.lastLimboFreeSnapshotVersion);let h;h=pc(e.target)?up(s.se,e.target):ld(s.se,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fc(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function hp(s){const e=rf({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Wh(e,e.limit,"L"):e}function af(s,e){return new Ma(e.largestBatchId,ad(s.se,e.overlayMutation))}function ty(s,e){const t=e.path.lastSegment();return[s,Mr(e.path.popLast()),t]}function Ag(s,e,t,a){return{indexId:s,uid:e.uid||"",sequenceNumber:t,readTime:Ic(a.readTime),documentKey:Mr(a.documentKey.path),largestBatchId:a.largestBatchId}}class fp{getBundleMetadata(e,t){return Dc(e).get(t).next(a=>{if(a)return{id:(h=a).bundleId,createTime:Tc(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return Dc(e).put({bundleId:(a=t).id,createTime:Ic(Nt(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return zm(e).get(t).next(a=>{if(a)return{name:(h=a).name,query:hp(h.bundledQuery),readTime:Tc(h.readTime)};var h})}saveNamedQuery(e,t){return zm(e).put({name:(a=t).name,readTime:Ic(Nt(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Dc(s){return vi(s,"bundles")}function zm(s){return vi(s,"namedQueries")}class lf{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new lf(e,t.uid||"")}getOverlay(e,t){return pp(e).get(ty(this.userId,t)).next(a=>a?af(this.serializer,a):null)}getOverlays(e,t){const a=Gl();return ht.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,t,a){const h=[];return a.forEach((m,C)=>{const R=new Ma(t,C);h.push(this.re(e,R))}),ht.waitFor(h)}removeOverlaysForBatchId(e,t,a){const h=new Set;t.forEach(C=>h.add(Mr(C.getCollectionPath())));const m=[];return h.forEach(C=>{const R=IDBKeyRange.bound([this.userId,C,a],[this.userId,C,a+1],!1,!0);m.push(pp(e).J("collectionPathOverlayIndex",R))}),ht.waitFor(m)}getOverlaysForCollection(e,t,a){const h=Gl(),m=Mr(t),C=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,Number.POSITIVE_INFINITY],!0);return pp(e).j("collectionPathOverlayIndex",C).next(R=>{for(const G of R){const X=af(this.serializer,G);h.set(X.getKey(),X)}return h})}getOverlaysForCollectionGroup(e,t,a,h){const m=Gl();let C;const R=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pp(e).Z({index:"collectionGroupOverlayIndex",range:R},(G,X,re)=>{const we=af(this.serializer,X);m.size()<h||we.largestBatchId===C?(m.set(we.getKey(),we),C=we.largestBatchId):re.done()}).next(()=>m)}re(e,t){return pp(e).put(function(a,h,m){const[C,R,G]=ty(h,m.mutation.key);return{userId:h,collectionPath:R,documentId:G,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:zu(a.se,m.mutation)}}(this.serializer,this.userId,t))}}function pp(s){return vi(s,"documentOverlays")}class hl{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(bi(e.integerValue));else if("doubleValue"in e){const a=bi(e.doubleValue);isNaN(a)?this.ae(t,13):(this.ae(t,15),lc(a)?t.he(0):t.he(a))}else if("timestampValue"in e){const a=e.timestampValue;this.ae(t,20),"string"==typeof a?t.le(a):(t.le(`${a.seconds||""}`),t.he(a.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Ga(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.ae(t,45),t.he(a.latitude||0),t.he(a.longitude||0)}else"mapValue"in e?ku(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):zt()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const a=e.fields||{};this.ae(t,55);for(const h of Object.keys(a))this.fe(h,t),this.ue(a[h],t)}ge(e,t){const a=e.values||[];this.ae(t,50);for(const h of a)this.ue(h,t)}_e(e,t){this.ae(t,37),tn.fromName(e).path.forEach(a=>{this.ae(t,60),this.ye(a,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function Mg(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function lh(s){const e=64-function(t){let a=0;for(let h=0;h<8;++h){const m=Mg(255&t[h]);if(a+=m,8!==m)break}return a}(s);return Math.ceil(e/8)}hl.pe=new hl;class rv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Te(a.value),a=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Re(a.value),a=t.next();this.ve()}be(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Te(a);else if(a<2048)this.Te(960|a>>>6),this.Te(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Te(480|a>>>12),this.Te(128|63&a>>>6),this.Te(128|63&a);else{const h=t.codePointAt(0);this.Te(240|h>>>18),this.Te(128|63&h>>>12),this.Te(128|63&h>>>6),this.Te(128|63&h)}}this.Ee()}Pe(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Re(a);else if(a<2048)this.Re(960|a>>>6),this.Re(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Re(480|a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a);else{const h=t.codePointAt(0);this.Re(240|h>>>18),this.Re(128|63&h>>>12),this.Re(128|63&h>>>6),this.Re(128|63&h)}}this.ve()}Ve(e){const t=this.Se(e),a=lh(t);this.De(1+a),this.buffer[this.position++]=255&a;for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Ce(e){const t=this.Se(e),a=lh(t);this.De(1+a),this.buffer[this.position++]=~(255&a);for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let h=1;h<t.length;++h)t[h]^=a?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Rg{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class uf{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class ud{constructor(){this.Me=new rv,this.Fe=new Rg(this.Me),this.Be=new uf(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class uh{constructor(e,t,a,h){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=h}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new uh(this.indexId,this.documentKey,this.arrayValue,a)}}function Ac(s,e){let t=s.indexId-e.indexId;return 0!==t?t:(t=ny(s.arrayValue,e.arrayValue),0!==t?t:(t=ny(s.directionalValue,e.directionalValue),0!==t?t:tn.comparator(s.documentKey,e.documentKey)))}function ny(s,e){for(let t=0;t<s.length&&t<e.length;++t){const a=s[t]-e[t];if(0!==a)return a}return s.length-e.length}class ry{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const a=t;a.isInequality()?this.Ge=a:this.Ke.push(a)}}Qe(e){sn(e.collectionGroup===this.collectionId);const t=Do(e);if(void 0!==t&&!this.ze(t))return!1;const a=jo(e);let h=0,m=0;for(;h<a.length&&this.ze(a[h]);++h);if(h===a.length)return!0;if(void 0!==this.Ge){const C=a[h];if(!this.je(this.Ge,C)||!this.We(this.Ue[m++],C))return!1;++h}for(;h<a.length;++h)if(m>=this.Ue.length||!this.We(this.Ue[m++],a[h]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Wm(s){var e,t;if(sn(s instanceof br||s instanceof Ii),s instanceof br){if(s instanceof Gd){const h=(null===(t=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>br.create(s.field,"==",m)))||[];return Ii.create(h,"or")}return s}const a=s.filters.map(h=>Wm(h));return Ii.create(a,s.op)}function iy(s){if(0===s.getFilters().length)return[];const e=cd(Wm(s));return sn(dh(e)),ch(e)||xg(e)?[e]:e.getFilters()}function ch(s){return s instanceof br}function xg(s){return s instanceof Ii&&$d(s)}function dh(s){return ch(s)||xg(s)||function(e){if(e instanceof Ii&&jd(e)){for(const t of e.getFilters())if(!ch(t)&&!xg(t))return!1;return!0}return!1}(s)}function cd(s){if(sn(s instanceof br||s instanceof Ii),s instanceof br)return s;if(1===s.filters.length)return cd(s.filters[0]);const e=s.filters.map(a=>cd(a));let t=Ii.create(e,s.op);return t=gp(t),dh(t)?t:(sn(t instanceof Ii),sn(eo(t)),sn(t.filters.length>1),t.filters.reduce((a,h)=>Pg(a,h)))}function Pg(s,e){let t;return sn(s instanceof br||s instanceof Ii),sn(e instanceof br||e instanceof Ii),t=s instanceof br?e instanceof br?Ii.create([s,e],"and"):Ng(s,e):e instanceof br?Ng(e,s):function(a,h){if(sn(a.filters.length>0&&h.filters.length>0),eo(a)&&eo(h))return $h(a,h.getFilters());const m=jd(a)?a:h,C=jd(a)?h:a,R=m.filters.map(G=>Pg(G,C));return Ii.create(R,"or")}(s,e),gp(t)}function Ng(s,e){if(eo(e))return $h(e,s.getFilters());{const t=e.filters.map(a=>Pg(s,a));return Ii.create(t,"or")}}function gp(s){if(sn(s instanceof br||s instanceof Ii),s instanceof br)return s;const e=s.getFilters();if(1===e.length)return gp(e[0]);if($l(s))return s;const t=e.map(h=>gp(h)),a=[];return t.forEach(h=>{h instanceof br?a.push(h):h instanceof Ii&&(h.op===s.op?a.push(...h.filters):a.push(h))}),1===a.length?a[0]:Ii.create(a,s.op)}class iv{constructor(){this.He=new Og}addToCollectionParentIndex(e,t){return this.He.add(t),ht.resolve()}getCollectionParents(e,t){return ht.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return ht.resolve()}deleteFieldIndex(e,t){return ht.resolve()}getDocumentsMatchingTarget(e,t){return ht.resolve(null)}getIndexType(e,t){return ht.resolve(0)}getFieldIndexes(e,t){return ht.resolve([])}getNextCollectionGroupToUpdate(e){return ht.resolve(null)}getMinOffset(e,t){return ht.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,t){return ht.resolve(Ys.min())}updateCollectionGroup(e,t,a){return ht.resolve()}updateIndexEntries(e,t){return ht.resolve()}}class Og{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t]||new et(ge.comparator),m=!h.has(a);return this.index[t]=h.add(a),m}has(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t];return h&&h.has(a)}getEntries(e){return(this.index[e]||new et(ge.comparator)).toArray()}}const cf=new Uint8Array(0);class Km{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new Og,this.Ye=new Bu(a=>fc(a),(a,h)=>Fu(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const a=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const m={collectionId:a,parent:Mr(h)};return hh(e).put(m)}return ht.resolve()}getCollectionParents(e,t){const a=[],h=IDBKeyRange.bound([t,""],[er(t),""],!1,!0);return hh(e).j(h).next(m=>{for(const C of m){if(C.collectionId!==t)break;a.push(Go(C.parent))}return a})}addFieldIndex(e,t){const a=mp(e),h={indexId:(C=t).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var C;delete h.indexId;const m=a.add(h);if(t.indexState){const C=qr(e);return m.next(R=>{C.put(Ag(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const a=mp(e),h=qr(e),m=dd(e);return a.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=dd(e);let h=!0;const m=new Map;return ht.forEach(this.Ze(t),C=>this.Xe(e,C).next(R=>{h&&(h=!!R),m.set(C,R)})).next(()=>{if(h){let C=ar();const R=[];return ht.forEach(m,(G,X)=>{var re;Ct("IndexedDbIndexManager",`Using index ${re=G,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(Sr=>`${Sr.fieldPath}:${Sr.kind}`).join(",")}`} to execute ${fc(t)}`);const we=function(Sr,Qo){const Er=Do(Qo);if(void 0===Er)return null;for(const Ei of zd(Sr,Er.fieldPath))switch(Ei.op){case"array-contains-any":return Ei.value.arrayValue.values||[];case"array-contains":return[Ei.value]}return null}(X,G),$e=function(Sr,Qo){const Er=new Map;for(const Ei of jo(Qo))for(const rs of zd(Sr,Ei.fieldPath))switch(rs.op){case"==":case"in":Er.set(Ei.fieldPath.canonicalString(),rs.value);break;case"not-in":case"!=":return Er.set(Ei.fieldPath.canonicalString(),rs.value),Array.from(Er.values())}return null}(X,G),dt=function(Sr,Qo){const Er=[];let Ei=!0;for(const rs of jo(Qo)){const ru=0===rs.kind?Uu(Sr,rs.fieldPath,Sr.startAt):Wd(Sr,rs.fieldPath,Sr.startAt);Er.push(ru.value),Ei&&(Ei=ru.inclusive)}return new hu(Er,Ei)}(X,G),Ut=function(Sr,Qo){const Er=[];let Ei=!0;for(const rs of jo(Qo)){const ru=0===rs.kind?Wd(Sr,rs.fieldPath,Sr.endAt):Uu(Sr,rs.fieldPath,Sr.endAt);Er.push(ru.value),Ei&&(Ei=ru.inclusive)}return new hu(Er,Ei)}(X,G),an=this.tn(G,X,dt),vn=this.tn(G,X,Ut),Tr=this.en(G,X,$e),Jn=this.nn(G.indexId,we,an,dt.inclusive,vn,Ut.inclusive,Tr);return ht.forEach(Jn,Sr=>a.H(Sr,t.limit).next(Qo=>{Qo.forEach(Er=>{const Ei=tn.fromSegments(Er.documentKey);C.has(Ei)||(C=C.add(Ei),R.push(Ei))})}))}).next(()=>R)}return ht.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:iy(Ii.create(e.filters,"and")).map(a=>Lu(e.path,e.collectionGroup,e.orderBy,a.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,a,h,m,C,R){const G=(null!=t?t.length:1)*Math.max(a.length,m.length),X=G/(null!=t?t.length:1),re=[];for(let we=0;we<G;++we){const $e=t?this.sn(t[we/X]):cf,dt=this.rn(e,$e,a[we%X],h),Ut=this.on(e,$e,m[we%X],C),an=R.map(vn=>this.rn(e,$e,vn,!0));re.push(...this.createRange(dt,Ut,an))}return re}rn(e,t,a,h){const m=new uh(e,tn.empty(),t,a);return h?m:m.qe()}on(e,t,a,h){const m=new uh(e,tn.empty(),t,a);return h?m.qe():m}Xe(e,t){const a=new ry(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let C=null;for(const R of m)a.Qe(R)&&(!C||R.fields.length>C.fields.length)&&(C=R);return C})}getIndexType(e,t){let a=2;const h=this.Ze(t);return ht.forEach(h,m=>this.Xe(e,m).next(C=>{C?0!==a&&C.fields.length<function(R){let G=new et(yi.comparator),X=!1;for(const re of R.filters)for(const we of re.getFlattenedFilters())we.field.isKeyField()||("array-contains"===we.op||"array-contains-any"===we.op?X=!0:G=G.add(we.field));for(const re of R.orderBy)re.field.isKeyField()||(G=G.add(re.field));return G.size+(X?1:0)}(m)&&(a=1):a=0})).next(()=>null!==t.limit&&h.length>1&&2===a?1:a)}un(e,t){const a=new ud;for(const h of jo(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const C=a.Le(h.kind);hl.pe.oe(m,C)}return a.$e()}sn(e){const t=new ud;return hl.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const a=new ud;return hl.pe.oe(dc(this.databaseId,t),a.Le(function(h){const m=jo(h);return 0===m.length?0:m[m.length-1].kind}(e))),a.$e()}en(e,t,a){if(null===a)return[];let h=[];h.push(new ud);let m=0;for(const C of jo(e)){const R=a[m++];for(const G of h)if(this.an(t,C.fieldPath)&&Vd(R))h=this.hn(h,C,R);else{const X=G.Le(C.kind);hl.pe.oe(R,X)}}return this.ln(h)}tn(e,t,a){return this.en(e,t,a.position)}ln(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].$e();return t}hn(e,t,a){const h=[...e],m=[];for(const C of a.arrayValue.values||[])for(const R of h){const G=new ud;G.seed(R.$e()),hl.pe.oe(C,G.Le(t.kind)),m.push(G)}return m}an(e,t){return!!e.filters.find(a=>a instanceof br&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=mp(e),h=qr(e);return(t?a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.j()).next(m=>{const C=[];return ht.forEach(m,R=>h.get([R.indexId,this.uid]).next(G=>{C.push(function(X,re){const we=re?new Vs(re.sequenceNumber,new Ys(Tc(re.readTime),new tn(Go(re.documentKey)),re.largestBatchId)):Vs.empty(),$e=X.fields.map(([dt,Ut])=>new Cr(yi.fromServerFormat(dt),Ut));return new oi(X.indexId,X.collectionGroup,$e,we)}(R,G))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,h)=>{const m=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:Rn(a.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const h=mp(e),m=qr(e);return this.fn(e).next(C=>h.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>ht.forEach(R,G=>m.put(Ag(G.indexId,this.user,C,a)))))}updateIndexEntries(e,t){const a=new Map;return ht.forEach(t,(h,m)=>{const C=a.get(h.collectionGroup);return(C?ht.resolve(C):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),ht.forEach(R,G=>this.dn(e,h,G).next(X=>{const re=this.wn(m,G);return X.isEqual(re)?ht.resolve():this._n(e,m,G,X,re)}))))})}mn(e,t,a,h){return dd(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.cn(a,t.key),documentKey:t.key.path.toArray()})}gn(e,t,a,h){return dd(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.cn(a,t.key),t.key.path.toArray()])}dn(e,t,a){const h=dd(e);let m=new et(Ac);return h.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.cn(a,t)])},(C,R)=>{m=m.add(new uh(a.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>m)}wn(e,t){let a=new et(Ac);const h=this.un(t,e);if(null==h)return a;const m=Do(t);if(null!=m){const C=e.data.field(m.fieldPath);if(Vd(C))for(const R of C.arrayValue.values||[])a=a.add(new uh(t.indexId,e.key,this.sn(R),h))}else a=a.add(new uh(t.indexId,e.key,cf,h));return a}_n(e,t,a,h,m){Ct("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(R,G,X,re,we){const $e=R.getIterator(),dt=G.getIterator();let Ut=Qt($e),an=Qt(dt);for(;Ut||an;){let vn=!1,Tr=!1;if(Ut&&an){const Jn=X(Ut,an);Jn<0?Tr=!0:Jn>0&&(vn=!0)}else null!=Ut?Tr=!0:vn=!0;vn?(re(an),an=Qt(dt)):Tr?(we(Ut),Ut=Qt($e)):(Ut=Qt($e),an=Qt(dt))}}(h,m,Ac,R=>{C.push(this.mn(e,t,a,R))},R=>{C.push(this.gn(e,t,a,R))}),ht.waitFor(C)}fn(e){let t=1;return qr(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((C,R)=>Ac(C,R)).filter((C,R,G)=>!R||0!==Ac(C,G[R-1]));const h=[];h.push(e);for(const C of a){const R=Ac(C,e),G=Ac(C,t);if(0===R)h[0]=e.qe();else if(R>0&&G<0)h.push(C),h.push(C.qe());else if(G>0)break}h.push(t);const m=[];for(let C=0;C<h.length;C+=2){if(this.yn(h[C],h[C+1]))return[];m.push(IDBKeyRange.bound([h[C].indexId,this.uid,h[C].arrayValue,h[C].directionalValue,cf,[]],[h[C+1].indexId,this.uid,h[C+1].arrayValue,h[C+1].directionalValue,cf,[]]))}return m}yn(e,t){return Ac(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Gr)}getMinOffset(e,t){return ht.mapArray(this.Ze(t),a=>this.Xe(e,a).next(h=>h||zt())).next(Gr)}}function hh(s){return vi(s,"collectionParents")}function dd(s){return vi(s,"indexEntries")}function mp(s){return vi(s,"indexConfiguration")}function qr(s){return vi(s,"indexState")}function Gr(s){sn(0!==s.length);let e=s[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<s.length;a++){const h=s[a].indexState.offset;bl(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new Ys(e.readTime,e.documentKey,t)}const Ir={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class no{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wi(s,e,t){const a=s.store("mutations"),h=s.store("documentMutations"),m=[],C=IDBKeyRange.only(t.batchId);let R=0;const G=a.Z({range:C},(re,we,$e)=>(R++,$e.delete()));m.push(G.next(()=>{sn(1===R)}));const X=[];for(const re of t.mutations){const we=Js(e,re.key.path,t.batchId);m.push(h.delete(we)),X.push(re.key)}return ht.waitFor(m).next(()=>X)}function df(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw zt();e=s.noDocument}return JSON.stringify(e).length}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class kg{constructor(e,t,a,h){this.userId=e,this.serializer=t,this.indexManager=a,this.referenceDelegate=h,this.pn={}}static ie(e,t,a,h){sn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new kg(m,t,a,h)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mc(e).Z({index:"userMutationsIndex",range:a},(h,m,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,a,h){const m=ai(e),C=Mc(e);return C.add({}).next(R=>{sn("number"==typeof R);const G=new ef(R,t,a,h),X=function($e,dt,Ut){const an=Ut.baseMutations.map(Tr=>zu($e.se,Tr)),vn=Ut.mutations.map(Tr=>zu($e.se,Tr));return{userId:dt,batchId:Ut.batchId,localWriteTimeMs:Ut.localWriteTime.toMillis(),baseMutations:an,mutations:vn}}(this.serializer,this.userId,G),re=[];let we=new et(($e,dt)=>Rn($e.canonicalString(),dt.canonicalString()));for(const $e of h){const dt=Js(this.userId,$e.key.path,R);we=we.add($e.key.path.popLast()),re.push(C.put(X)),re.push(m.put(dt,Tl))}return we.forEach($e=>{re.push(this.indexManager.addToCollectionParentIndex(e,$e))}),e.addOnCommittedListener(()=>{this.pn[R]=G.keys()}),ht.waitFor(re).next(()=>G)})}lookupMutationBatch(e,t){return Mc(e).get(t).next(a=>a?(sn(a.userId===this.userId),Sc(this.serializer,a)):null)}In(e,t){return this.pn[t]?ht.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const h=a.keys();return this.pn[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,h=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return Mc(e).Z({index:"userMutationsIndex",range:h},(C,R,G)=>{R.userId===this.userId&&(sn(R.batchId>=a),m=Sc(this.serializer,R)),G.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Mc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(h,m,C)=>{a=m.batchId,C.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mc(e).j("userMutationsIndex",t).next(a=>a.map(h=>Sc(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=_o(this.userId,t.path),h=IDBKeyRange.lowerBound(a),m=[];return ai(e).Z({range:h},(C,R,G)=>{const[X,re,we]=C,$e=Go(re);if(X===this.userId&&t.path.isEqual($e))return Mc(e).get(we).next(dt=>{if(!dt)throw zt();sn(dt.userId===this.userId),m.push(Sc(this.serializer,dt))});G.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new et(Rn);const h=[];return t.forEach(m=>{const C=_o(this.userId,m.path),R=IDBKeyRange.lowerBound(C),G=ai(e).Z({range:R},(X,re,we)=>{const[$e,dt,Ut]=X,an=Go(dt);$e===this.userId&&m.path.isEqual(an)?a=a.add(Ut):we.done()});h.push(G)}),ht.waitFor(h).next(()=>this.Tn(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1,m=_o(this.userId,a),C=IDBKeyRange.lowerBound(m);let R=new et(Rn);return ai(e).Z({range:C},(G,X,re)=>{const[we,$e,dt]=G,Ut=Go($e);we===this.userId&&a.isPrefixOf(Ut)?Ut.length===h&&(R=R.add(dt)):re.done()}).next(()=>this.Tn(e,R))}Tn(e,t){const a=[],h=[];return t.forEach(m=>{h.push(Mc(e).get(m).next(C=>{if(null===C)throw zt();sn(C.userId===this.userId),a.push(Sc(this.serializer,C))}))}),ht.waitFor(h).next(()=>a)}removeMutationBatch(e,t){return Wi(e.at,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),ht.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ht.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return ai(e).Z({range:a},(m,C,R)=>{if(m[0]===this.userId){const G=Go(m[1]);h.push(G)}else R.done()}).next(()=>{sn(0===h.length)})})}containsKey(e,t){return hf(e,this.userId,t)}An(e){return Qn(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hf(s,e,t){const a=_o(e,t.path),h=a[1],m=IDBKeyRange.lowerBound(a);let C=!1;return ai(s).Z({range:m,Y:!0},(R,G,X)=>{const[re,we,$e]=R;re===e&&we===h&&(C=!0),X.done()}).next(()=>C)}function Mc(s){return vi(s,"mutations")}function ai(s){return vi(s,"documentMutations")}function Qn(s){return vi(s,"mutationQueues")}class ro{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new ro(0)}static bn(){return new ro(-1)}}class sv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const a=new ro(t.highestTargetId);return t.highestTargetId=a.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>bn.fromTimestamp(new si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.Pn(e).next(h=>(h.highestListenSequenceNumber=t,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.Vn(e,h)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(a=>(a.targetCount+=1,this.Dn(t,a),this.Vn(e,a))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fh(e).delete(t.targetId)).next(()=>this.Pn(e)).next(a=>(sn(a.targetCount>0),a.targetCount-=1,this.Vn(e,a)))}removeTargets(e,t,a){let h=0;const m=[];return fh(e).Z((C,R)=>{const G=ql(R);G.sequenceNumber<=t&&null===a.get(G.targetId)&&(h++,m.push(this.removeTargetData(e,G)))}).next(()=>ht.waitFor(m)).next(()=>h)}forEachTarget(e,t){return fh(e).Z((a,h)=>{const m=ql(h);t(m)})}Pn(e){return Zl(e).get("targetGlobalKey").next(t=>(sn(null!==t),t))}Vn(e,t){return Zl(e).put("targetGlobalKey",t)}Sn(e,t){return fh(e).put(ey(this.serializer,t))}Dn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=fc(t),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return fh(e).Z({range:h,index:"queryTargetsIndex"},(C,R,G)=>{const X=ql(R);Fu(t,X.target)&&(m=X,G.done())}).next(()=>m)}addMatchingKeys(e,t,a){const h=[],m=Rc(e);return t.forEach(C=>{const R=Mr(C.path);h.push(m.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,C))}),ht.waitFor(h)}removeMatchingKeys(e,t,a){const h=Rc(e);return ht.forEach(t,m=>{const C=Mr(m.path);return ht.waitFor([h.delete([a,C]),this.referenceDelegate.removeReference(e,a,m)])})}removeMatchingKeysForTargetId(e,t){const a=Rc(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),h=Rc(e);let m=ar();return h.Z({range:a,Y:!0},(C,R,G)=>{const X=Go(C[1]),re=new tn(X);m=m.add(re)}).next(()=>m)}containsKey(e,t){const a=Mr(t.path),h=IDBKeyRange.bound([a],[er(a)],!1,!0);let m=0;return Rc(e).Z({index:"documentTargetsIndex",Y:!0,range:h},([C,R],G,X)=>{0!==C&&(m++,X.done())}).next(()=>m>0)}ne(e,t){return fh(e).get(t).next(a=>a?ql(a):null)}}function fh(s){return vi(s,"targets")}function Zl(s){return vi(s,"targetGlobal")}function Rc(s){return vi(s,"targetDocuments")}function ov([s,e],[t,a]){const h=Rn(s,t);return 0===h?Rn(e,a):h}class sy{constructor(e){this.Cn=e,this.buffer=new et(ov),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();ov(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qm{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Ct("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Te.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){Fr(a)?Ct("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield hs(a)}yield t.$n(3e5)}))}}class ph{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return ht.resolve(Ao.ct);const a=new sy(t);return this.Mn.forEachTarget(e,h=>a.kn(h.sequenceNumber)).next(()=>this.Mn.Bn(e,h=>a.kn(h))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.Mn.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(Ir)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ir):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let a,h,m,C,R,G,X;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(Ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),h=this.params.maximumSequenceNumbersToCollect):h=we,C=Date.now(),this.nthSequenceNumber(e,h))).next(we=>(a=we,R=Date.now(),this.removeTargets(e,a,t))).next(we=>(m=we,G=Date.now(),this.removeOrphanedDocuments(e,a))).next(we=>(X=Date.now(),yn()<=k.in.DEBUG&&Ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-re}ms\n\tDetermined least recently used ${h} in `+(R-C)+`ms\n\tRemoved ${m} targets in `+(G-R)+`ms\n\tRemoved ${we} documents in `+(X-G)+`ms\nTotal Duration: ${X-re}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:we})))}}class Lg{constructor(e,t){this.db=e,this.garbageCollector=new ph(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(h=>a+h))}qn(e){let t=0;return this.Bn(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(a,h)=>t(h))}addReference(e,t,a){return hd(e,a)}removeReference(e,t,a){return hd(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return hd(e,t)}Kn(e,t){return function(a,h){let m=!1;return Qn(a).X(C=>hf(a,C,h).next(R=>(R&&(m=!0),ht.resolve(!R)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Un(e,(C,R)=>{if(R<=t){const G=this.Kn(e,C).next(X=>{if(!X)return m++,a.getEntry(e,C).next(()=>(a.removeEntry(C,bn.min()),Rc(e).delete([0,Mr(C.path)])))});h.push(G)}}).next(()=>ht.waitFor(h)).next(()=>a.apply(e)).next(()=>m)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return hd(e,t)}Un(e,t){const a=Rc(e);let h,m=Ao.ct;return a.Z({index:"documentTargetsIndex"},([C,R],{path:G,sequenceNumber:X})=>{0===C?(m!==Ao.ct&&t(new tn(Go(h)),m),m=X,h=G):m=Ao.ct}).next(()=>{m!==Ao.ct&&t(new tn(Go(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hd(s,e){return Rc(s).put((a=s.currentSequenceNumber,{targetId:0,path:Mr(e.path),sequenceNumber:a}));var a}class oy{constructor(){this.changes=new Bu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?ht.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yl{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return fd(e).put(a)}removeEntry(e,t,a){return fd(e).delete(function(h,m){const C=h.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],Dg(m),C[C.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Gn(e,a)))}getEntry(e,t){let a=ki.newInvalidDocument(t);return fd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(vu(t))},(h,m)=>{a=this.Qn(t,m)}).next(()=>a)}zn(e,t){let a={size:0,document:ki.newInvalidDocument(t)};return fd(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(vu(t))},(h,m)=>{a={document:this.Qn(t,m),size:df(m)}}).next(()=>a)}getEntries(e,t){let a=Es();return this.jn(e,t,(h,m)=>{const C=this.Qn(h,m);a=a.insert(h,C)}).next(()=>a)}Wn(e,t){let a=Es(),h=new ne(tn.comparator);return this.jn(e,t,(m,C)=>{const R=this.Qn(m,C);a=a.insert(m,R),h=h.insert(m,df(C))}).next(()=>({documents:a,Hn:h}))}jn(e,t,a){if(t.isEmpty())return ht.resolve();let h=new et(ff);t.forEach(G=>h=h.add(G));const m=IDBKeyRange.bound(vu(h.first()),vu(h.last())),C=h.getIterator();let R=C.getNext();return fd(e).Z({index:"documentKeyIndex",range:m},(G,X,re)=>{const we=tn.fromSegments([...X.prefixPath,X.collectionGroup,X.documentId]);for(;R&&ff(R,we)<0;)a(R,null),R=C.getNext();R&&R.isEqual(we)&&(a(R,X),R=C.hasNext()?C.getNext():null),R?re.G(vu(R)):re.done()}).next(()=>{for(;R;)a(R,null),R=C.hasNext()?C.getNext():null})}getDocumentsMatchingQuery(e,t,a,h){const m=t.path,C=[m.popLast().toArray(),m.lastSegment(),Dg(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],R=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fd(e).j(IDBKeyRange.bound(C,R,!0)).next(G=>{let X=Es();for(const re of G){const we=this.Qn(tn.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);we.isFoundDocument()&&(mu(t,we)||h.has(we.key))&&(X=X.insert(we.key,we))}return X})}getAllFromCollectionGroup(e,t,a,h){let m=Es();const C=xr(t,a),R=xr(t,Ys.max());return fd(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,R,!0)},(G,X,re)=>{const we=this.Qn(tn.fromSegments(X.prefixPath.concat(X.collectionGroup,X.documentId)),X);m=m.insert(we.key,we),m.size===h&&re.done()}).next(()=>m)}newChangeBuffer(e){return new ly(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return uy(e).get("remoteDocumentGlobalKey").next(t=>(sn(!!t),t))}Gn(e,t){return uy(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const a=function nv(s,e){let t;if(e.document)t=Gu(s.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=tn.fromSegments(e.noDocument.path),h=Tc(e.noDocument.readTime);t=ki.newNoDocument(a,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return zt();{const a=tn.fromSegments(e.unknownDocument.path),h=Tc(e.unknownDocument.version);t=ki.newUnknownDocument(a,h)}}return e.readTime&&t.setReadTime(function(a){const h=new si(a[0],a[1]);return bn.fromTimestamp(h)}(e.readTime)),t}(this.serializer,t);if(!a.isNoDocument()||!a.version.isEqual(bn.min()))return a}return ki.newInvalidDocument(e)}}function ay(s){return new Yl(s)}class ly extends oy{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Bu(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const t=[];let a=0,h=new et((m,C)=>Rn(m.canonicalString(),C.canonicalString()));return this.changes.forEach((m,C)=>{const R=this.Yn.get(m);if(t.push(this.Jn.removeEntry(e,m,R.readTime)),C.isValidDocument()){const G=Sg(this.Jn.serializer,C);h=h.add(m.path.popLast());const X=df(G);a+=X-R.size,t.push(this.Jn.addEntry(e,m,G))}else if(a-=R.size,this.trackRemovals){const G=Sg(this.Jn.serializer,C.convertToNoDocument(bn.min()));t.push(this.Jn.addEntry(e,m,G))}}),h.forEach(m=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Jn.updateMetadata(e,a)),ht.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(a=>(this.Yn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:a,Hn:h})=>(h.forEach((m,C)=>{this.Yn.set(m,{size:C,readTime:a.get(m).readTime})}),a))}}function uy(s){return vi(s,"remoteDocumentGlobal")}function fd(s){return vi(s,"remoteDocumentsV14")}function vu(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xr(s,e){const t=e.documentKey.path.toArray();return[s,Dg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ff(s,e){const t=s.path.toArray(),a=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<a.length-2;++m)if(h=Rn(t[m],a[m]),h)return h;return h=Rn(t.length,a.length),h||(h=Rn(t[t.length-2],a[a.length-2]),h||Rn(t[t.length-1],a[a.length-1]))}class Fg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zm{constructor(e,t,a,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(a=h,this.remoteDocumentCache.getEntry(e,t))).next(h=>(null!==a&&$u(a.mutation,h,dn.empty(),si.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,ar()).next(()=>a))}getLocalViewOfDocuments(e,t,a=ar()){const h=Gl();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,a).next(m=>{let C=_u();return m.forEach((R,G)=>{C=C.insert(R,G.overlayedDocument)}),C}))}getOverlayedDocuments(e,t){const a=Gl();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,ar()))}populateOverlays(e,t,a){const h=[];return a.forEach(m=>{t.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((C,R)=>{t.set(C,R)})})}computeViews(e,t,a,h){let m=Es();const C=mc(),R=mc();return t.forEach((G,X)=>{const re=a.get(X.key);h.has(X.key)&&(void 0===re||re.mutation instanceof ul)?m=m.insert(X.key,X):void 0!==re?(C.set(X.key,re.mutation.getFieldMask()),$u(re.mutation,X,re.mutation.getFieldMask(),si.now())):C.set(X.key,dn.empty())}),this.recalculateAndSaveOverlays(e,m).next(G=>(G.forEach((X,re)=>C.set(X,re)),t.forEach((X,re)=>{var we;return R.set(X,new Fg(re,null!==(we=C.get(X))&&void 0!==we?we:null))}),R))}recalculateAndSaveOverlays(e,t){const a=mc();let h=new ne((C,R)=>C-R),m=ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(C=>{for(const R of C)R.keys().forEach(G=>{const X=t.get(G);if(null===X)return;let re=a.get(G)||dn.empty();re=R.applyToLocalView(X,re),a.set(G,re);const we=(h.get(R.batchId)||ar()).add(G);h=h.insert(R.batchId,we)})}).next(()=>{const C=[],R=h.getReverseIterator();for(;R.hasNext();){const G=R.getNext(),X=G.key,re=G.value,we=Ka();re.forEach($e=>{if(!m.has($e)){const dt=rh(t.get($e),a.get($e));null!==dt&&we.set($e,dt),m=m.add($e)}}),C.push(this.documentOverlayCache.saveOverlays(e,X,we))}return ht.waitFor(C)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return tn.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):sp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var h}getNextDocuments(e,t,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,h).next(m=>{const C=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,h-m.size):ht.resolve(Gl());let R=-1,G=m;return C.next(X=>ht.forEach(X,(re,we)=>(R<we.largestBatchId&&(R=we.largestBatchId),m.get(re)?ht.resolve():this.remoteDocumentCache.getEntry(e,re).next($e=>{G=G.insert(re,$e)}))).next(()=>this.populateOverlays(e,X,m)).next(()=>this.computeViews(e,G,X,ar())).next(re=>({batchId:R,changes:ap(re)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next(a=>{let h=_u();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const h=t.collectionGroup;let m=_u();return this.indexManager.getCollectionParents(e,h).next(C=>ht.forEach(C,R=>{const G=(X=t,re=R.child(h),new Wa(re,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,re;return this.getDocumentsMatchingCollectionQuery(e,G,a).next(X=>{X.forEach((re,we)=>{m=m.insert(re,we)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,a){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,h))).next(m=>{h.forEach((R,G)=>{const X=G.getKey();null===m.get(X)&&(m=m.insert(X,ki.newInvalidDocument(X)))});let C=_u();return m.forEach((R,G)=>{const X=h.get(R);void 0!==X&&$u(X.mutation,G,dn.empty(),si.now()),mu(t,G)&&(C=C.insert(R,G))}),C})}}class Ku{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return ht.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var a;return this.Zn.set(t.id,{id:(a=t).id,version:a.version,createTime:Nt(a.createTime)}),ht.resolve()}getNamedQuery(e,t){return ht.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(a=t).name,query:hp(a.bundledQuery),readTime:Nt(a.readTime)}),ht.resolve();var a}}class tr{constructor(){this.overlays=new ne(tn.comparator),this.ts=new Map}getOverlay(e,t){return ht.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Gl();return ht.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((h,m)=>{this.re(e,t,m)}),ht.resolve()}removeOverlaysForBatchId(e,t,a){const h=this.ts.get(a);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.ts.delete(a)),ht.resolve()}getOverlaysForCollection(e,t,a){const h=Gl(),m=t.length+1,C=new tn(t.child("")),R=this.overlays.getIteratorFrom(C);for(;R.hasNext();){const G=R.getNext().value,X=G.getKey();if(!t.isPrefixOf(X.path))break;X.path.length===m&&G.largestBatchId>a&&h.set(G.getKey(),G)}return ht.resolve(h)}getOverlaysForCollectionGroup(e,t,a,h){let m=new ne((X,re)=>X-re);const C=this.overlays.getIterator();for(;C.hasNext();){const X=C.getNext().value;if(X.getKey().getCollectionGroup()===t&&X.largestBatchId>a){let re=m.get(X.largestBatchId);null===re&&(re=Gl(),m=m.insert(X.largestBatchId,re)),re.set(X.getKey(),X)}}const R=Gl(),G=m.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((X,re)=>R.set(X,re)),!(R.size()>=h)););return ht.resolve(R)}re(e,t,a){const h=this.overlays.get(a.key);if(null!==h){const C=this.ts.get(h.largestBatchId).delete(a.key);this.ts.set(h.largestBatchId,C)}this.overlays=this.overlays.insert(a.key,new Ma(t,a));let m=this.ts.get(t);void 0===m&&(m=ar(),this.ts.set(t,m)),this.ts.set(t,m.add(a.key))}}class fl{constructor(){this.es=new et(Mo.ns),this.ss=new et(Mo.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const a=new Mo(e,t);this.es=this.es.add(a),this.ss=this.ss.add(a)}os(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.us(new Mo(e,t))}cs(e,t){e.forEach(a=>this.removeReference(a,t))}hs(e){const t=new tn(new ge([])),a=new Mo(t,e),h=new Mo(t,e+1),m=[];return this.ss.forEachInRange([a,h],C=>{this.us(C),m.push(C.key)}),m}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new tn(new ge([])),a=new Mo(t,e),h=new Mo(t,e+1);let m=ar();return this.ss.forEachInRange([a,h],C=>{m=m.add(C.key)}),m}containsKey(e){const t=new Mo(e,0),a=this.es.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class Mo{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return tn.comparator(e.key,t.key)||Rn(e.ds,t.ds)}static rs(e,t){return Rn(e.ds,t.ds)||tn.comparator(e.key,t.key)}}class Za{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new et(Mo.ns)}checkEmpty(e){return ht.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,h){const m=this.ws;this.ws++;const C=new ef(m,t,a,h);this.mutationQueue.push(C);for(const R of h)this._s=this._s.add(new Mo(R.key,m)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return ht.resolve(C)}lookupMutationBatch(e,t){return ht.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.ys(t+1),m=h<0?0:h;return ht.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Mo(t,0),h=new Mo(t,Number.POSITIVE_INFINITY),m=[];return this._s.forEachInRange([a,h],C=>{const R=this.gs(C.ds);m.push(R)}),ht.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new et(Rn);return t.forEach(h=>{const m=new Mo(h,0),C=new Mo(h,Number.POSITIVE_INFINITY);this._s.forEachInRange([m,C],R=>{a=a.add(R.ds)})}),ht.resolve(this.ps(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1;let m=a;tn.isDocumentKey(m)||(m=m.child(""));const C=new Mo(new tn(m),0);let R=new et(Rn);return this._s.forEachWhile(G=>{const X=G.key.path;return!!a.isPrefixOf(X)&&(X.length===h&&(R=R.add(G.ds)),!0)},C),ht.resolve(this.ps(R))}ps(e){const t=[];return e.forEach(a=>{const h=this.gs(a);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){sn(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let a=this._s;return ht.forEach(t.mutations,h=>{const m=new Mo(h.key,t.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this._s=a})}En(e){}containsKey(e,t){const a=new Mo(t,0),h=this._s.firstAfterOrEqual(a);return ht.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return ht.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class av{constructor(e){this.Ts=e,this.docs=new ne(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,h=this.docs.get(a),m=h?h.size:0,C=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:C}),this.size+=C-m,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ht.resolve(a?a.document.mutableCopy():ki.newInvalidDocument(t))}getEntries(e,t){let a=Es();return t.forEach(h=>{const m=this.docs.get(h);a=a.insert(h,m?m.document.mutableCopy():ki.newInvalidDocument(h))}),ht.resolve(a)}getDocumentsMatchingQuery(e,t,a,h){let m=Es();const C=t.path,R=new tn(C.child("")),G=this.docs.getIteratorFrom(R);for(;G.hasNext();){const{key:X,value:{document:re}}=G.getNext();if(!C.isPrefixOf(X.path))break;X.path.length>C.length+1||bl(lu(re),a)<=0||(h.has(re.key)||mu(t,re))&&(m=m.insert(re.key,re.mutableCopy()))}return ht.resolve(m)}getAllFromCollectionGroup(e,t,a,h){zt()}Es(e,t){return ht.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Ym(this)}getSize(e){return ht.resolve(this.size)}}class Ym extends oy{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?t.push(this.Jn.addEntry(e,h)):this.Jn.removeEntry(a)}),ht.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class Ug{constructor(e){this.persistence=e,this.As=new Bu(t=>fc(t),Fu),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.Rs=0,this.vs=new fl,this.targetCount=0,this.bs=ro.vn()}forEachTarget(e,t){return this.As.forEach((a,h)=>t(h)),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.Rs&&(this.Rs=t),ht.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new ro(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,ht.resolve()}updateTargetData(e,t){return this.Sn(t),ht.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,t,a){let h=0;const m=[];return this.As.forEach((C,R)=>{R.sequenceNumber<=t&&null===a.get(R.targetId)&&(this.As.delete(C),m.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),ht.waitFor(m).next(()=>h)}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,t){const a=this.As.get(t)||null;return ht.resolve(a)}addMatchingKeys(e,t,a){return this.vs.os(t,a),ht.resolve()}removeMatchingKeys(e,t,a){this.vs.cs(t,a);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(C=>{m.push(h.markPotentiallyOrphaned(e,C))}),ht.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),ht.resolve()}getMatchingKeysForTargetId(e,t){const a=this.vs.fs(t);return ht.resolve(a)}containsKey(e,t){return ht.resolve(this.vs.containsKey(t))}}class cy{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Ao(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Ug(this),this.indexManager=new iv,this.remoteDocumentCache=new av(a=>this.referenceDelegate.Cs(a)),this.serializer=new Tg(t),this.xs=new Ku(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tr,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Ps[e.toKey()];return a||(a=new Za(t,this.referenceDelegate),this.Ps[e.toKey()]=a),a}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,a){Ct("MemoryPersistence","Starting transaction:",e);const h=new Qm(this.Vs.next());return this.referenceDelegate.Ns(),a(h).next(m=>this.referenceDelegate.ks(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Os(e,t){return ht.or(Object.values(this.Ps).map(a=>()=>a.containsKey(e,t)))}}class Qm extends sl{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.$s=new fl,this.Ms=null}static Fs(e){return new _p(e)}get Bs(){if(this.Ms)return this.Ms;throw zt()}addReference(e,t,a){return this.$s.addReference(a,t),this.Bs.delete(a.toString()),ht.resolve()}removeReference(e,t,a){return this.$s.removeReference(a,t),this.Bs.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),ht.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(h=>this.Bs.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Bs.add(m.toString()))}).next(()=>a.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.Bs,a=>{const h=tn.fromPath(a);return this.Ls(e,h).next(m=>{m||t.removeEntry(h,bn.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(a=>{a?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return ht.or([()=>ht.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class dy{constructor(e){this.serializer=e}M(e,t,a,h){const m=new $o("createOrUpgrade",t);var R;a<1&&h>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ns,{unique:!0}),R.createObjectStore("documentMutations"),pf(e),function(R){R.createObjectStore("remoteDocuments")}(e));let C=ht.resolve();return a<3&&h>=3&&(0!==a&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),pf(e)),C=C.next(()=>function(R){const G=R.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bn.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",X)}(m))),a<4&&h>=4&&(0!==a&&(C=C.next(()=>function(R,G){return G.store("mutations").j().next(X=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ns,{unique:!0});const re=G.store("mutations"),we=X.map($e=>re.put($e));return ht.waitFor(we)})}(e,m))),C=C.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(C=C.next(()=>this.qs(m))),a<6&&h>=6&&(C=C.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Us(m)))),a<7&&h>=7&&(C=C.next(()=>this.Ks(m))),a<8&&h>=8&&(C=C.next(()=>this.Gs(e,m))),a<9&&h>=9&&(C=C.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(C=C.next(()=>this.Qs(m))),a<11&&h>=11&&(C=C.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(C=C.next(()=>{!function(R){const G=R.createObjectStore("documentOverlays",{keyPath:z});G.createIndex("collectionPathOverlayIndex",oe,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",ce,{unique:!1})}(e)})),a<13&&h>=13&&(C=C.next(()=>function(R){const G=R.createObjectStore("remoteDocumentsV14",{keyPath:Hs});G.createIndex("documentKeyIndex",Nu),G.createIndex("collectionGroupIndex",Ou)}(e)).next(()=>this.zs(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(C=C.next(()=>this.js(e,m))),a<15&&h>=15&&(C=C.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:S}).createIndex("sequenceNumberIndex",M,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:b}).createIndex("documentKeyIndex",P,{unique:!1})}(e))),C}Us(e){let t=0;return e.store("remoteDocuments").Z((a,h)=>{t+=df(h)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}qs(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.j().next(h=>ht.forEach(h,m=>{const C=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.j("userMutationsIndex",C).next(R=>ht.forEach(R,G=>{sn(G.userId===m.userId);const X=Sc(this.serializer,G);return Wi(e,m.userId,X).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return a.Z((C,R)=>{const G=new ge(C),X=[0,Mr(G)];m.push(t.get(X).next(re=>re?ht.resolve():t.put({targetId:0,path:Mr(G),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>ht.waitFor(m))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:uc});const a=t.store("collectionParents"),h=new Og,m=C=>{if(h.add(C)){const R=C.lastSegment(),G=C.popLast();return a.put({collectionId:R,parent:Mr(G)})}};return t.store("remoteDocuments").Z({Y:!0},(C,R)=>{const G=new ge(C);return m(G.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([C,R,G],X)=>{const re=Go(R);return m(re.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((a,h)=>{const m=ql(h),C=ey(this.serializer,m);return t.put(C)})}zs(e,t){const a=t.store("remoteDocuments"),h=[];return a.Z((m,C)=>{const R=t.store("remoteDocumentsV14"),G=(X=C,X.document?new tn(ge.fromString(X.document.name).popFirst(5)):X.noDocument?tn.fromSegments(X.noDocument.path):X.unknownDocument?tn.fromSegments(X.unknownDocument.path):zt()).path.toArray();var X;const re={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};h.push(R.put(re))}).next(()=>ht.waitFor(h))}js(e,t){const a=t.store("mutations"),h=ay(this.serializer),m=new cy(_p.Fs,this.serializer.se);return a.j().next(C=>{const R=new Map;return C.forEach(G=>{var X;let re=null!==(X=R.get(G.userId))&&void 0!==X?X:ar();Sc(this.serializer,G).keys().forEach(we=>re=re.add(we)),R.set(G.userId,re)}),ht.forEach(R,(G,X)=>{const re=new Ie(X),we=lf.ie(this.serializer,re),$e=m.getIndexManager(re),dt=kg.ie(re,this.serializer,$e,m.referenceDelegate);return new Zm(h,dt,we,$e).recalculateAndSaveOverlaysForDocumentKeys(new gi(t,Ao.ct),G).next()})})}}function pf(s){s.createObjectStore("targetDocuments",{keyPath:Wc}).createIndex("documentTargetsIndex",zo,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$a,{unique:!0}),s.createObjectStore("targetGlobal")}const yp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vp{constructor(e,t,a,h,m,C,R,G,X,re,we=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Ws=m,this.window=C,this.document=R,this.Hs=X,this.Js=re,this.Ys=we,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=$e=>Promise.resolve(),!vp.D())throw new Mt(ct.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lg(this,h),this.si=t+"main",this.serializer=new Tg(G),this.ii=new vs(this.si,this.Ys,new dy(this.serializer)),this.Ds=new sv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ay(this.serializer),this.xs=new fp,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===re&&Ln("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Mt(ct.FAILED_PRECONDITION,yp);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Ao(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var a=(0,Te.Z)(function*(h){if(t.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,Te.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Fr(e))return Ct("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ct("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return Eu(e).get("owner").next(t=>ht.resolve(this._i(t)))}mi(e){return Vg(e).delete(this.clientId)}gi(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=vi(a,"clientMetadata");return h.j().next(m=>{const C=e.pi(m,18e5),R=m.filter(G=>-1===C.indexOf(G));return ht.forEach(R,G=>h.delete(G.clientId)).next(()=>R)})}).catch(()=>[]);if(e.ri)for(const a of t)e.ri.removeItem(e.Ii(a.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?ht.resolve(!0):Eu(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Mt(ct.FAILED_PRECONDITION,yp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vg(e).j().next(a=>void 0===this.pi(a,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ct("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new gi(t,Ao.ct);return e.di(a).next(()=>e.mi(a))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(a=>this.yi(a.updateTimeMs,t)&&!this.Ti(a.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>Vg(e).j().next(t=>this.pi(t,18e5).map(a=>a.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return kg.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Km(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return lf.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,a){Ct("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=15===(C=this.Ys)?dr:14===C?un:13===C?on:12===C?Dt:11===C?Qe:void zt();var C;let R;return this.ii.runTransaction(e,h,m,G=>(R=new gi(G,this.Vs?this.Vs.next():Ao.ct),"readwrite-primary"===t?this.li(R).next(X=>!!X||this.fi(R)).next(X=>{if(!X)throw Ln(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Mt(ct.FAILED_PRECONDITION,Bs);return a(R)}).next(X=>this.wi(R).next(()=>X)):this.Pi(R).next(()=>a(R)))).then(G=>(R.raiseOnCommittedEvent(),G))}Pi(e){return Eu(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Mt(ct.FAILED_PRECONDITION,yp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Eu(e).put("owner",t)}static D(){return vs.D()}di(e){const t=Eu(e);return t.get("owner").next(a=>this._i(a)?(Ct("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ht.resolve())}yi(e,t){const a=Date.now();return!(e<a-t||e>a&&(Ln(`Detected an update time that is in the future: ${e} > ${a}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,ye.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const a=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Ct("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Ln("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){Ln("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Eu(s){return vi(s,"owner")}function Vg(s){return vi(s,"clientMetadata")}function Ep(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}class Di{constructor(e,t,a,h){this.targetId=e,this.fromCache=t,this.Vi=a,this.Si=h}static Di(e,t){let a=ar(),h=ar();for(const m of t.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Di(e,t.fromCache,a,h)}}class hy{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,a,h){return this.Ni(e,t).next(m=>m||this.ki(e,t,h,a)).next(m=>m||this.Oi(e,t))}Ni(e,t){if(zh(t))return ht.resolve(null);let a=Aa(t);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=Wh(t,null,"F"),a=Aa(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(m=>{const C=ar(...m);return this.xi.getDocuments(e,C).next(R=>this.indexManager.getMinOffset(e,a).next(G=>{const X=this.$i(t,R);return this.Mi(t,X,C,G.readTime)?this.Ni(e,Wh(t,null,"F")):this.Fi(e,X,t,G)}))})))}ki(e,t,a,h){return zh(t)||h.isEqual(bn.min())?this.Oi(e,t):this.xi.getDocuments(e,a).next(m=>{const C=this.$i(t,m);return this.Mi(t,C,a,h)?this.Oi(e,t):(yn()<=k.in.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Yd(t)),this.Fi(e,C,t,au(h,-1)))})}$i(e,t){let a=new et(Hm(e));return t.forEach((h,m)=>{mu(e,m)&&(a=a.add(m))}),a}Mi(e,t,a,h){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Oi(e,t){return yn()<=k.in.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",Yd(t)),this.xi.getDocumentsMatchingQuery(e,t,Ys.min())}Fi(e,t,a,h){return this.xi.getDocumentsMatchingQuery(e,a,h).next(m=>(t.forEach(C=>{m=m.insert(C.key,C)}),m))}}class Wv{constructor(e,t,a,h){this.persistence=e,this.Bi=t,this.serializer=h,this.Li=new ne(Rn),this.qi=new Bu(m=>fc(m),Fu),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(a)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zm(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function Bg(s,e,t,a){return new Wv(s,e,t,a)}function Jm(s,e){return pd.apply(this,arguments)}function pd(){return pd=(0,Te.Z)(function*(s,e){const t=Wt(s);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let h;return t.mutationQueue.getAllMutationBatches(a).next(m=>(h=m,t.Gi(e),t.mutationQueue.getAllMutationBatches(a))).next(m=>{const C=[],R=[];let G=ar();for(const X of h){C.push(X.batchId);for(const re of X.mutations)G=G.add(re.key)}for(const X of m){R.push(X.batchId);for(const re of X.mutations)G=G.add(re.key)}return t.localDocuments.getDocuments(a,G).next(X=>({Qi:X,removedBatchIds:C,addedBatchIds:R}))})})}),pd.apply(this,arguments)}function wp(s){const e=Wt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function gh(s,e,t){let a=ar(),h=ar();return t.forEach(m=>a=a.add(m)),e.getEntries(s,a).next(m=>{let C=Es();return t.forEach((R,G)=>{const X=m.get(R);G.isFoundDocument()!==X.isFoundDocument()&&(h=h.add(R)),G.isNoDocument()&&G.version.isEqual(bn.min())?(e.removeEntry(R,G.readTime),C=C.insert(R,G)):!X.isValidDocument()||G.version.compareTo(X.version)>0||0===G.version.compareTo(X.version)&&X.hasPendingWrites?(e.addEntry(G),C=C.insert(R,G)):Ct("LocalStore","Ignoring outdated watch update for ",R,". Current version:",X.version," Watch version:",G.version)}),{zi:C,ji:h}})}function Cp(s,e){const t=Wt(s);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function mh(s,e){const t=Wt(s);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return t.Ds.getTargetData(a,e).next(m=>m?(h=m,ht.resolve(h)):t.Ds.allocateTargetId(a).next(C=>(h=new bc(e,C,0,a.currentSequenceNumber),t.Ds.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=t.Li.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Li=t.Li.insert(a.targetId,a),t.qi.set(e,a.targetId)),a})}function Ti(s,e,t){return bp.apply(this,arguments)}function bp(){return bp=(0,Te.Z)(function*(s,e,t){const a=Wt(s),h=a.Li.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",m,C=>a.persistence.referenceDelegate.removeTarget(C,h)))}catch(C){if(!Fr(C))throw C;Ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}a.Li=a.Li.remove(e),a.qi.delete(h.target)}),bp.apply(this,arguments)}function Ip(s,e,t){const a=Wt(s);let h=bn.min(),m=ar();return a.persistence.runTransaction("Execute query","readonly",C=>function(R,G,X){const re=Wt(R),we=re.qi.get(X);return void 0!==we?ht.resolve(re.Li.get(we)):re.Ds.getTargetData(G,X)}(a,C,Aa(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Ds.getMatchingKeysForTargetId(C,R.targetId).next(G=>{m=G})}).next(()=>a.Bi.getDocumentsMatchingQuery(C,e,t?h:bn.min(),t?m:ar())).next(R=>(_h(a,Kh(e),R),{documents:R,Wi:m})))}function Hg(s,e){const t=Wt(s),a=Wt(t.Ds),h=t.Li.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>a.ne(m,e).next(C=>C?C.target:null))}function Xm(s,e){const t=Wt(s),a=t.Ui.get(e)||bn.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Ki.getAllFromCollectionGroup(h,e,au(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(_h(t,e,h),h))}function _h(s,e,t){let a=s.Ui.get(e)||bn.min();t.forEach((h,m)=>{m.readTime.compareTo(a)>0&&(a=m.readTime)}),s.Ui.set(e,a)}function yh(){return yh=(0,Te.Z)(function*(s,e,t,a){const h=Wt(s);let m=ar(),C=Es();for(const X of t){const re=e.Hi(X.metadata.name);X.document&&(m=m.add(re));const we=e.Ji(X);we.setReadTime(e.Yi(X.metadata.readTime)),C=C.insert(re,we)}const R=h.Ki.newChangeBuffer({trackRemovals:!0}),G=yield mh(h,(X=a,Aa(pu(ge.fromString(`__bundle__/docs/${X}`)))));var X;return h.persistence.runTransaction("Apply bundle documents","readwrite",X=>gh(X,R,C).next(re=>(R.apply(X),re)).next(re=>h.Ds.removeMatchingKeysForTargetId(X,G.targetId).next(()=>h.Ds.addMatchingKeys(X,m,G.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(X,re.zi,re.ji)).next(()=>re.zi)))}),yh.apply(this,arguments)}function fy(s,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Te.Z)(function*(s,e,t=ar()){const a=yield mh(s,Aa(hp(e.bundledQuery))),h=Wt(s);return h.persistence.runTransaction("Save named query","readwrite",m=>{const C=Nt(e.readTime);if(a.snapshotVersion.compareTo(C)>=0)return h.xs.saveNamedQuery(m,e);const R=a.withResumeToken(In.EMPTY_BYTE_STRING,C);return h.Li=h.Li.insert(R.targetId,R),h.Ds.updateTargetData(m,R).next(()=>h.Ds.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>h.Ds.addMatchingKeys(m,t,a.targetId)).next(()=>h.xs.saveNamedQuery(m,e))})}),Sp.apply(this,arguments)}function vh(s,e){return`firestore_clients_${s}_${e}`}function e_(s,e,t){let a=`firestore_mutations_${s}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function gd(s,e){return`firestore_targets_${s}_${e}`}class t_{constructor(e,t,a,h){this.user=e,this.batchId=t,this.state=a,this.error=h}static Zi(e,t,a){const h=JSON.parse(a);let m,C="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return C&&h.error&&(C="string"==typeof h.error.message&&"string"==typeof h.error.code,C&&(m=new Mt(h.error.code,h.error.message))),C?new t_(e,t,h.state,m):(Ln("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eh{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static Zi(e,t){const a=JSON.parse(t);let h,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(h=new Mt(a.error.code,a.error.message))),m?new Eh(e,a.state,h):(Ln("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const a=JSON.parse(t);let h="object"==typeof a&&a.activeTargetIds instanceof Array,m=_c();for(let C=0;h&&C<a.activeTargetIds.length;++C)h=ep(a.activeTargetIds[C]),m=m.add(a.activeTargetIds[C]);return h?new jg(e,m):(Ln("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $g{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $g(t.clientId,t.onlineState):(Ln("SharedClientState",`Failed to parse online state: ${e}`),null)}}class md{constructor(){this.activeTargetIds=_c()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gf{constructor(e,t,a,h,m){this.window=e,this.Ws=t,this.persistenceKey=a,this.nr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ne(Rn),this.started=!1,this.ur=[];const C=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.cr=vh(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new md),this.hr=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.bi();for(const h of t){if(h===e.nr)continue;const m=e.getItem(vh(e.persistenceKey,h));if(m){const C=jg.Zi(h,m);C&&(e.rr=e.rr.insert(C.clientId,C))}}e.mr();const a=e.storage.getItem(e.wr);if(a){const h=e.gr(a);h&&e.yr(h)}for(const h of e.ur)e.ir(h);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((a,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,a){this.Ir(e,t,a),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(gd(this.persistenceKey,e));if(a){const h=Eh.Zi(e,a);h&&(t=h.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gd(this.persistenceKey,e))}updateQueryState(e,t,a){this.Ar(e,t,a)}handleUserChange(e,t,a){t.forEach(h=>{this.Tr(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ct("SharedClientState","READ",e,t),t}setItem(e,t){Ct("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ct("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const a=e;if(a.storageArea===this.storage){if(Ct("SharedClientState","EVENT",a.key,a.newValue),a.key===this.cr)return void Ln("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==a.key)if(t.hr.test(a.key)){if(null==a.newValue){const h=t.br(a.key);return t.Pr(h,null)}{const h=t.Vr(a.key,a.newValue);if(h)return t.Pr(h.clientId,h)}}else if(t.lr.test(a.key)){if(null!==a.newValue){const h=t.Sr(a.key,a.newValue);if(h)return t.Dr(h)}}else if(t.dr.test(a.key)){if(null!==a.newValue){const h=t.Cr(a.key,a.newValue);if(h)return t.Nr(h)}}else if(a.key===t.wr){if(null!==a.newValue){const h=t.gr(a.newValue);if(h)return t.yr(h)}}else if(a.key===t.ar){const h=function(m){let C=Ao.ct;if(null!=m)try{const R=JSON.parse(m);sn("number"==typeof R),C=R}catch(R){Ln("SharedClientState","Failed to read sequence number from WebStorage",R)}return C}(a.newValue);h!==Ao.ct&&t.sequenceNumberHandler(h)}else if(a.key===t._r){const h=t.kr(a.newValue);yield Promise.all(h.map(m=>t.syncEngine.Or(m)))}}else t.ur.push(a)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,a){const h=new t_(this.currentUser,e,t,a),m=e_(this.persistenceKey,this.currentUser,e);this.setItem(m,h.Xi())}Tr(e){const t=e_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,a){const h=gd(this.persistenceKey,e),m=new Eh(e,t,a);this.setItem(h,m.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const a=this.br(e);return jg.Zi(a,t)}Sr(e,t){const a=this.lr.exec(e),h=Number(a[1]);return t_.Zi(new Ie(void 0!==a[2]?a[2]:null),h,t)}Cr(e,t){const a=this.dr.exec(e),h=Number(a[1]);return Eh.Zi(h,t)}gr(e){return $g.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ct("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const a=t?this.rr.insert(e,t):this.rr.remove(e),h=this.pr(this.rr),m=this.pr(a),C=[],R=[];return m.forEach(G=>{h.has(G)||C.push(G)}),h.forEach(G=>{m.has(G)||R.push(G)}),this.syncEngine.Fr(C,R).then(()=>{this.rr=a})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=_c();return e.forEach((a,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class py{constructor(){this.Br=new md,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,a){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new md,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dp{qr(e){}shutdown(){}}class n_{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ap=null;function xc(){return null===Ap?Ap=268435456+Math.round(2147483648*Math.random()):Ap++,"0x"+Ap.toString(16)}const mf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _f{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const ps="WebChannelConnection";class Mp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,a,h,m){const C=xc(),R=this.ao(e,t);Ct("RestConnection",`Sending RPC '${e}' ${C}:`,R,a);const G={};return this.ho(G,h,m),this.lo(e,R,G,a).then(X=>(Ct("RestConnection",`Received RPC '${e}' ${C}: `,X),X),X=>{throw Wn("RestConnection",`RPC '${e}' ${C} failed with error: `,X,"url: ",R,"request:",a),X})}fo(e,t,a,h,m,C){return this.co(e,t,a,h,m)}ho(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+mt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),a&&a.headers.forEach((h,m)=>e[m]=h)}ao(e,t){return`${this.ro}/v1/${t}:${mf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,a,h){const m=xc();return new Promise((C,R)=>{const G=new j;G.setWithCredentials(!0),G.listenOnce(Ll.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case kl.NO_ERROR:const re=G.getResponseJson();Ct(ps,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(re)),C(re);break;case kl.TIMEOUT:Ct(ps,`RPC '${e}' ${m} timed out`),R(new Mt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:const we=G.getStatus();if(Ct(ps,`RPC '${e}' ${m} failed with status:`,we,"response text:",G.getResponseText()),we>0){let $e=G.getResponseJson();Array.isArray($e)&&($e=$e[0]);const dt=$e?.error;if(dt&&dt.status&&dt.message){const Ut=function(an){const vn=an.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(vn)>=0?vn:ct.UNKNOWN}(dt.status);R(new Mt(Ut,dt.message))}else R(new Mt(ct.UNKNOWN,"Server responded with status "+G.getStatus()))}else R(new Mt(ct.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{Ct(ps,`RPC '${e}' ${m} completed.`)}});const X=JSON.stringify(h);Ct(ps,`RPC '${e}' ${m} sending request:`,h),G.send(t,"POST",X,a,15)})}wo(e,t,a){const h=xc(),m=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],C=oc(),R=qs(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(G.xmlHttpFactory=new N({})),this.ho(G.initMessageHeaders,t,a),G.encodeInitMessageHeaders=!0;const X=m.join("");Ct(ps,`Creating RPC '${e}' stream ${h}: ${X}`,G);const re=C.createWebChannel(X,G);let we=!1,$e=!1;const dt=new _f({Wr:an=>{$e?Ct(ps,`Not sending because RPC '${e}' stream ${h} is closed:`,an):(we||(Ct(ps,`Opening RPC '${e}' stream ${h} transport.`),re.open(),we=!0),Ct(ps,`RPC '${e}' stream ${h} sending:`,an),re.send(an))},Hr:()=>re.close()}),Ut=(an,vn,Tr)=>{an.listen(vn,Jn=>{try{Tr(Jn)}catch(Sr){setTimeout(()=>{throw Sr},0)}})};return Ut(re,Q.EventType.OPEN,()=>{$e||Ct(ps,`RPC '${e}' stream ${h} transport opened.`)}),Ut(re,Q.EventType.CLOSE,()=>{$e||($e=!0,Ct(ps,`RPC '${e}' stream ${h} transport closed`),dt.so())}),Ut(re,Q.EventType.ERROR,an=>{$e||($e=!0,Wn(ps,`RPC '${e}' stream ${h} transport errored:`,an),dt.so(new Mt(ct.UNAVAILABLE,"The operation could not be completed")))}),Ut(re,Q.EventType.MESSAGE,an=>{var vn;if(!$e){const Tr=an.data[0];sn(!!Tr);const Sr=Tr.error||(null===(vn=Tr[0])||void 0===vn?void 0:vn.error);if(Sr){Ct(ps,`RPC '${e}' stream ${h} received error:`,Sr);const Qo=Sr.status;let Er=function(rs){const ru=vr[rs];if(void 0!==ru)return Gs(ru)}(Qo),Ei=Sr.message;void 0===Er&&(Er=ct.INTERNAL,Ei="Unknown error status: "+Qo+" with message "+Sr.message),$e=!0,dt.so(new Mt(Er,Ei)),re.close()}else Ct(ps,`RPC '${e}' stream ${h} received:`,Tr),dt.io(Tr)}}),Ut(R,su.STAT_EVENT,an=>{an.stat===ou.PROXY?Ct(ps,`RPC '${e}' stream ${h} detected buffering proxy`):an.stat===ou.NOPROXY&&Ct(ps,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{dt.no()},0),dt}}function wh(){return typeof window<"u"?window:null}function Rp(){return typeof document<"u"?document:null}function Ch(s){return new W(s,!0)}class yf{constructor(e,t,a=1e3,h=1.5,m=6e4){this.Ws=e,this.timerId=t,this._o=a,this.mo=h,this.yo=m,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),a=Math.max(0,Date.now()-this.To),h=Math.max(0,t-a);h>0&&Ct("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,h,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Gg{constructor(e,t,a,h,m,C,R,G){this.Ws=e,this.bo=a,this.Po=h,this.connection=m,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=R,this.listener=G,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new yf(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,Te.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,Te.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var a=this;return(0,Te.Z)(function*(){a.Bo(),a.Lo(),a.Co.cancel(),a.Vo++,4!==e?a.Co.reset():t&&t.code===ct.RESOURCE_EXHAUSTED?(Ln(t.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),a.Co.Eo()):t&&t.code===ct.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.qo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.Vo===t&&this.Ko(a,h)},a=>{e(()=>{const h=new Mt(ct.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Go(h)})})}Ko(e,t){const a=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{a(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(h=>{a(()=>this.Go(h))}),this.stream.onMessage(h=>{a(()=>this.onMessage(h))})}ko(){var e=this;this.state=5,this.Co.Ao((0,Te.Z)(function*(){e.state=0,e.start()}))}Go(e){return Ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gy extends Gg{constructor(e,t,a,h,m,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,h,C),this.serializer=m}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function oh(s,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:zt(),h=e.targetChange.targetIds||[],m=function(G,X){return G.useProto3Json?(sn(void 0===X||"string"==typeof X),In.fromBase64String(X||"")):(sn(void 0===X||X instanceof Uint8Array),In.fromUint8Array(X||new Uint8Array))}(s,e.targetChange.resumeToken),C=e.targetChange.cause,R=C&&function(G){const X=void 0===G.code?ct.UNKNOWN:Gs(G.code);return new Mt(X,G.message||"")}(C);t=new id(a,h,m,R||null)}else if("documentChange"in e){const a=e.documentChange,h=Kr(s,a.document.name),m=Nt(a.document.updateTime),C=a.document.createTime?Nt(a.document.createTime):bn.min(),R=new Os({mapValue:{fields:a.document.fields}}),G=ki.newFoundDocument(h,m,C,R);t=new Cc(a.targetIds||[],a.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const a=e.documentDelete,h=Kr(s,a.document),m=a.readTime?Nt(a.readTime):bn.min(),C=ki.newNoDocument(h,m);t=new Cc([],a.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const a=e.documentRemove,h=Kr(s,a.document);t=new Cc([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return zt();{const a=e.filter,m=new rd(a.count||0);t=new fa(a.targetId,m)}}var G;return t}(this.serializer,e),a=function(h){if(!("targetChange"in h))return bn.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?bn.min():m.readTime?Nt(m.readTime):bn.min()}(e);return this.listener.zo(t,a)}jo(e){const t={};t.database=dl(this.serializer),t.addTarget=function(h,m){let C;const R=m.target;return C=pc(R)?{documents:up(h,R)}:{query:ld(h,R)},C.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?C.resumeToken=Be(h,m.resumeToken):m.snapshotVersion.compareTo(bn.min())>0&&(C.readTime=ae(h,m.snapshotVersion.toTimestamp())),C}(this.serializer,e);const a=function Q_(s,e){const t=function(a,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Fo(t)}Wo(e){const t={};t.database=dl(this.serializer),t.removeTarget=e,this.Fo(t)}}class r_ extends Gg{constructor(e,t,a,h,m,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,h,C),this.serializer=m,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function lp(s,e){return s&&s.length>0?(sn(void 0!==e),s.map(t=>function(a,h){let m=Nt(a.updateTime?a.updateTime:h);return m.isEqual(bn.min())&&(m=Nt(h)),new Cg(m,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=Nt(e.commitTime);return this.listener.Zo(a,t)}return sn(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=dl(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>zu(this.serializer,a))};this.Fo(t)}}class Ql extends class{}{constructor(e,t,a,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=h,this.eu=!1}nu(){if(this.eu)throw new Mt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,a){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.co(e,t,a,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Mt(ct.UNKNOWN,h.toString())})}fo(e,t,a,h){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,C])=>this.connection.fo(e,t,a,m,C,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Mt(ct.UNKNOWN,m.toString())})}terminate(){this.eu=!0}}class s_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Ln(t),this.ru=!1):Ct("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class xp{constructor(e,t,a,h,m){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=m,this._u.qr(R=>{a.enqueueAndForget((0,Te.Z)(function*(){var G;Jl(C)&&(Ct("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,Te.Z)(function*(X){const re=Wt(X);re.du.add(4),yield wu(re),re.mu.set("Unknown"),re.du.delete(4),yield Zu(re)}),function(X){return G.apply(this,arguments)})(C))}))}),this.mu=new s_(a,h)}}function Zu(s){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,Te.Z)(function*(s){if(Jl(s))for(const e of s.wu)yield e(!0)}),Pc.apply(this,arguments)}function wu(s){return zs.apply(this,arguments)}function zs(){return zs=(0,Te.Z)(function*(s){for(const e of s.wu)yield e(!1)}),zs.apply(this,arguments)}function zg(s,e){const t=Wt(s);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),wf(t)?Kg(t):Ih(t).No()&&Ef(t,e))}function Pp(s,e){const t=Wt(s),a=Ih(t);t.fu.delete(e),a.No()&&Wg(t,e),0===t.fu.size&&(a.No()?a.$o():Jl(t)&&t.mu.set("Unknown"))}function Ef(s,e){s.gu.Ot(e.targetId),Ih(s).jo(e)}function Wg(s,e){s.gu.Ot(e),Ih(s).Wo(e)}function Kg(s){s.gu=new Kl({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>s.fu.get(e)||null}),Ih(s).start(),s.mu.ou()}function wf(s){return Jl(s)&&!Ih(s).xo()&&s.fu.size>0}function Jl(s){return 0===Wt(s).du.size}function o_(s){s.gu=void 0}function Np(s){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,Te.Z)(function*(s){s.fu.forEach((e,t)=>{Ef(s,e)})}),Nc.apply(this,arguments)}function a_(s,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Te.Z)(function*(s,e){o_(s),wf(s)?(s.mu.au(e),Kg(s)):s.mu.set("Unknown")}),Op.apply(this,arguments)}function ts(s,e,t){return Ml.apply(this,arguments)}function Ml(){return Ml=(0,Te.Z)(function*(s,e,t){if(s.mu.set("Online"),e instanceof id&&2===e.state&&e.cause)try{yield(a=(0,Te.Z)(function*(h,m){const C=m.cause;for(const R of m.targetIds)h.fu.has(R)&&(yield h.remoteSyncer.rejectListen(R,C),h.fu.delete(R),h.gu.removeTarget(R))}),function(h,m){return a.apply(this,arguments)})(s,e)}catch(a){Ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield _d(s,a)}else if(e instanceof Cc?s.gu.Kt(e):e instanceof fa?s.gu.Jt(e):s.gu.zt(e),!t.isEqual(bn.min()))try{const a=yield wp(s.localStore);t.compareTo(a)>=0&&(yield function(h,m){const C=h.gu.Xt(m);return C.targetChanges.forEach((R,G)=>{if(R.resumeToken.approximateByteSize()>0){const X=h.fu.get(G);X&&h.fu.set(G,X.withResumeToken(R.resumeToken,m))}}),C.targetMismatches.forEach(R=>{const G=h.fu.get(R);if(!G)return;h.fu.set(R,G.withResumeToken(In.EMPTY_BYTE_STRING,G.snapshotVersion)),Wg(h,R);const X=new bc(G.target,R,1,G.sequenceNumber);Ef(h,X)}),h.remoteSyncer.applyRemoteEvent(C)}(s,t))}catch(a){Ct("RemoteStore","Failed to raise snapshot:",a),yield _d(s,a)}var a}),Ml.apply(this,arguments)}function _d(s,e,t){return kp.apply(this,arguments)}function kp(){return kp=(0,Te.Z)(function*(s,e,t){if(!Fr(e))throw e;s.du.add(1),yield wu(s),s.mu.set("Offline"),t||(t=()=>wp(s.localStore)),s.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ct("RemoteStore","Retrying IndexedDB access"),yield t(),s.du.delete(1),yield Zu(s)}))}),kp.apply(this,arguments)}function l_(s,e){return e().catch(t=>_d(s,t,e))}function pa(s){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,Te.Z)(function*(s){const e=Wt(s),t=Oc(e);let a=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;my(e);)try{const h=yield Cp(e.localStore,a);if(null===h){0===e.lu.length&&t.$o();break}a=h.batchId,yd(e,h)}catch(h){yield _d(e,h)}Lp(e)&&bh(e)}),Cu.apply(this,arguments)}function my(s){return Jl(s)&&s.lu.length<10}function yd(s,e){s.lu.push(e);const t=Oc(s);t.No()&&t.Jo&&t.Yo(e.mutations)}function Lp(s){return Jl(s)&&!Oc(s).xo()&&s.lu.length>0}function bh(s){Oc(s).start()}function _y(s){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Te.Z)(function*(s){Oc(s).tu()}),Cf.apply(this,arguments)}function u_(s){return c_.apply(this,arguments)}function c_(){return c_=(0,Te.Z)(function*(s){const e=Oc(s);for(const t of s.lu)e.Yo(t.mutations)}),c_.apply(this,arguments)}function lv(s,e,t){return bf.apply(this,arguments)}function bf(){return bf=(0,Te.Z)(function*(s,e,t){const a=s.lu.shift(),h=Zo.from(a,e,t);yield l_(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),yield pa(s)}),bf.apply(this,arguments)}function qg(s,e){return If.apply(this,arguments)}function If(){return If=(0,Te.Z)(function*(s,e){var t;e&&Oc(s).Jo&&(yield(t=(0,Te.Z)(function*(a,h){if(sh(m=h.code)&&m!==ct.ABORTED){const C=a.lu.shift();Oc(a).Oo(),yield l_(a,()=>a.remoteSyncer.rejectFailedWrite(C.batchId,h)),yield pa(a)}var m}),function(a,h){return t.apply(this,arguments)})(s,e)),Lp(s)&&bh(s)}),If.apply(this,arguments)}function uv(s,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Te.Z)(function*(s,e){const t=Wt(s);t.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const a=Jl(t);t.du.add(3),yield wu(t),a&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield Zu(t)}),Tf.apply(this,arguments)}function d_(s,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Te.Z)(function*(s,e){const t=Wt(s);e?(t.du.delete(2),yield Zu(t)):e||(t.du.add(2),yield wu(t),t.mu.set("Unknown"))}),Zg.apply(this,arguments)}function Ih(s){return s.yu||(s.yu=function(e,t,a){const h=Wt(e);return h.nu(),new gy(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,a)}(s.datastore,s.asyncQueue,{Jr:Np.bind(null,s),Zr:a_.bind(null,s),zo:ts.bind(null,s)}),s.wu.push(function(){var e=(0,Te.Z)(function*(t){t?(s.yu.Oo(),wf(s)?Kg(s):s.mu.set("Unknown")):(yield s.yu.stop(),o_(s))});return function(t){return e.apply(this,arguments)}}())),s.yu}function Oc(s){return s.pu||(s.pu=function(e,t,a){const h=Wt(e);return h.nu(),new r_(t,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,a)}(s.datastore,s.asyncQueue,{Jr:_y.bind(null,s),Zr:qg.bind(null,s),Xo:u_.bind(null,s),Zo:lv.bind(null,s)}),s.wu.push(function(){var e=(0,Te.Z)(function*(t){t?(s.pu.Oo(),yield pa(s)):(yield s.pu.stop(),s.lu.length>0&&(Ct("RemoteStore",`Stopping write stream with ${s.lu.length} pending writes`),s.lu=[]))});return function(t){return e.apply(this,arguments)}}())),s.pu}class Yg{constructor(e,t,a,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=h,this.removalCallback=m,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,a,h,m){const C=Date.now()+a,R=new Yg(e,t,C,h,m);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mt(ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(s,e){if(Ln("AsyncQueue",`${e}: ${s}`),Fr(s))return new Mt(ct.UNAVAILABLE,`${e}: ${s}`);throw s}class pl{constructor(e){this.comparator=e?(t,a)=>e(t,a)||tn.comparator(t.key,a.key):(t,a)=>tn.comparator(t.key,a.key),this.keyedMap=_u(),this.sortedSet=new ne(this.comparator)}static emptySet(e){return new pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new pl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class Ed{constructor(){this.Iu=new ne(tn.comparator)}track(e){const t=e.doc.key,a=this.Iu.get(t);a?0!==e.type&&3===a.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==a.type?this.Iu=this.Iu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Iu=this.Iu.remove(t):1===e.type&&2===a.type?this.Iu=this.Iu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):zt():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,a)=>{e.push(a)}),e}}class bu{constructor(e,t,a,h,m,C,R,G,X){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=m,this.fromCache=C,this.syncStateChanged=R,this.excludesMetadataChanges=G,this.hasCachedResults=X}static fromInitialDocuments(e,t,a,h,m){const C=[];return t.forEach(R=>{C.push({type:0,doc:R})}),new bu(e,t,pl.emptySet(t),C,a,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==a[h].type||!t[h].doc.isEqual(a[h].doc))return!1;return!0}}class Sf{constructor(){this.Eu=void 0,this.listeners=[]}}class Qg{constructor(){this.queries=new Bu(e=>Zd(e),qd),this.onlineState="Unknown",this.Au=new Set}}function Jg(s,e){return Df.apply(this,arguments)}function Df(){return Df=(0,Te.Z)(function*(s,e){const t=Wt(s),a=e.query;let h=!1,m=t.queries.get(a);if(m||(h=!0,m=new Sf),h)try{m.Eu=yield t.onListen(a)}catch(C){const R=vd(C,`Initialization of query '${Yd(e.query)}' failed`);return void e.onError(R)}t.queries.set(a,m),m.listeners.push(e),e.Ru(t.onlineState),m.Eu&&e.vu(m.Eu)&&h_(t)}),Df.apply(this,arguments)}function Xg(s,e){return em.apply(this,arguments)}function em(){return em=(0,Te.Z)(function*(s,e){const t=Wt(s),a=e.query;let h=!1;const m=t.queries.get(a);if(m){const C=m.listeners.indexOf(e);C>=0&&(m.listeners.splice(C,1),h=0===m.listeners.length)}if(h)return t.queries.delete(a),t.onUnlisten(a)}),em.apply(this,arguments)}function Fp(s,e){const t=Wt(s);let a=!1;for(const h of e){const C=t.queries.get(h.query);if(C){for(const R of C.listeners)R.vu(h)&&(a=!0);C.Eu=h}}a&&h_(t)}function cv(s,e,t){const a=Wt(s),h=a.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);a.queries.delete(e)}function h_(s){s.Au.forEach(e=>{e.next()})}class Up{constructor(e,t,a){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=a||{}}vu(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new bu(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class dv{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class yy{constructor(e){this.serializer=e}Hi(e){return Kr(this.serializer,e)}Ji(e){return e.metadata.exists?Gu(this.serializer,e.document,!1):ki.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Nt(e)}}class hv{constructor(e,t,a){this.Ou=e,this.localStore=t,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vy(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const a=ge.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,a=new yy(this.serializer);for(const h of e)if(h.metadata.queries){const m=a.Hi(h.metadata.name);for(const C of h.metadata.queries){const R=(t.get(C)||ar()).add(m);t.set(C,R)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function Tp(s,e,t,a){return yh.apply(this,arguments)}(e.localStore,new yy(e.serializer),e.documents,e.Ou.id),a=e.Mu(e.documents);for(const h of e.queries)yield fy(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function vy(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class f_{constructor(e){this.key=e}}class Vp{constructor(e){this.key=e}}class Bp{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ar(),this.mutatedKeys=ar(),this.Ku=Hm(e),this.Gu=new pl(this.Ku)}get Qu(){return this.Lu}zu(e,t){const a=t?t.ju:new Ed,h=t?t.Gu:this.Gu;let m=t?t.mutatedKeys:this.mutatedKeys,C=h,R=!1;const G="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,X="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((re,we)=>{const $e=h.get(re),dt=mu(this.query,we)?we:null,Ut=!!$e&&this.mutatedKeys.has($e.key),an=!!dt&&(dt.hasLocalMutations||this.mutatedKeys.has(dt.key)&&dt.hasCommittedMutations);let vn=!1;$e&&dt?$e.data.isEqual(dt.data)?Ut!==an&&(a.track({type:3,doc:dt}),vn=!0):this.Wu($e,dt)||(a.track({type:2,doc:dt}),vn=!0,(G&&this.Ku(dt,G)>0||X&&this.Ku(dt,X)<0)&&(R=!0)):!$e&&dt?(a.track({type:0,doc:dt}),vn=!0):$e&&!dt&&(a.track({type:1,doc:$e}),vn=!0,(G||X)&&(R=!0)),vn&&(dt?(C=C.add(dt),m=an?m.add(re):m.delete(re)):(C=C.delete(re),m=m.delete(re)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const re="F"===this.query.limitType?C.last():C.first();C=C.delete(re.key),m=m.delete(re.key),a.track({type:1,doc:re})}return{Gu:C,ju:a,Mi:R,mutatedKeys:m}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const h=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const m=e.ju.Tu();m.sort((X,re)=>function(we,$e){const dt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return dt(we)-dt($e)}(X.type,re.type)||this.Ku(X.doc,re.doc)),this.Hu(a);const C=t?this.Ju():[],R=0===this.Uu.size&&this.current?1:0,G=R!==this.qu;return this.qu=R,0!==m.length||G?{snapshot:new bu(this.query,e.Gu,h,m,e.mutatedKeys,0===R,G,!1,!!a&&a.resumeToken.approximateByteSize()>0),Yu:C}:{Yu:C}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Ed,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=ar(),this.Gu.forEach(a=>{this.Zu(a.key)&&(this.Uu=this.Uu.add(a.key))});const t=[];return e.forEach(a=>{this.Uu.has(a)||t.push(new Vp(a))}),this.Uu.forEach(a=>{e.has(a)||t.push(new f_(a))}),t}Xu(e){this.Lu=e.Wi,this.Uu=ar();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return bu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class tm{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class fv{constructor(e){this.key=e,this.ec=!1}}class nm{constructor(e,t,a,h,m,C){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=C,this.nc={},this.sc=new Bu(R=>Zd(R),qd),this.ic=new Map,this.rc=new Set,this.oc=new ne(tn.comparator),this.uc=new Map,this.cc=new fl,this.ac={},this.hc=new Map,this.lc=ro.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function p_(s,e){return g_.apply(this,arguments)}function g_(){return g_=(0,Te.Z)(function*(s,e){const t=Uc(s);let a,h;const m=t.sc.get(e);if(m)a=m.targetId,t.sharedClientState.addLocalQueryTarget(a),h=m.view.tc();else{const C=yield mh(t.localStore,Aa(e));t.isPrimaryClient&&zg(t.remoteStore,C);const R=t.sharedClientState.addLocalQueryTarget(C.targetId);a=C.targetId,h=yield m_(t,e,a,"current"===R,C.resumeToken)}return h}),g_.apply(this,arguments)}function m_(s,e,t,a,h){return __.apply(this,arguments)}function __(){return __=(0,Te.Z)(function*(s,e,t,a,h){s.dc=(we,$e,dt)=>{return(Ut=(0,Te.Z)(function*(an,vn,Tr,Jn){let Sr=vn.view.zu(Tr);Sr.Mi&&(Sr=yield Ip(an.localStore,vn.query,!1).then(({documents:Ei})=>vn.view.zu(Ei,Sr)));const Qo=Jn&&Jn.targetChanges.get(vn.targetId),Er=vn.view.applyChanges(Sr,an.isPrimaryClient,Qo);return Ya(an,vn.targetId,Er.Yu),Er.snapshot}),function(an,vn,Tr,Jn){return Ut.apply(this,arguments)})(s,we,$e,dt);var Ut};const m=yield Ip(s.localStore,e,!0),C=new Bp(e,m.Wi),R=C.zu(m.documents),G=ks.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==s.onlineState,h),X=C.applyChanges(R,s.isPrimaryClient,G);Ya(s,t,X.Yu);const re=new tm(e,t,C);return s.sc.set(e,re),s.ic.has(t)?s.ic.get(t).push(e):s.ic.set(t,[e]),X.snapshot}),__.apply(this,arguments)}function pv(s,e){return y_.apply(this,arguments)}function y_(){return y_=(0,Te.Z)(function*(s,e){const t=Wt(s),a=t.sc.get(e),h=t.ic.get(a.targetId);if(h.length>1)return t.ic.set(a.targetId,h.filter(m=>!qd(m,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Ti(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),Pp(t.remoteStore,a.targetId),eu(t,a.targetId)}).catch(hs))):(eu(t,a.targetId),yield Ti(t.localStore,a.targetId,!0))}),y_.apply(this,arguments)}function rm(){return rm=(0,Te.Z)(function*(s,e,t){const a=Of(s);try{const h=yield function(m,C){const R=Wt(m),G=si.now(),X=C.reduce(($e,dt)=>$e.add(dt.key),ar());let re,we;return R.persistence.runTransaction("Locally write mutations","readwrite",$e=>{let dt=Es(),Ut=ar();return R.Ki.getEntries($e,X).next(an=>{dt=an,dt.forEach((vn,Tr)=>{Tr.isValidDocument()||(Ut=Ut.add(vn))})}).next(()=>R.localDocuments.getOverlayedDocuments($e,dt)).next(an=>{re=an;const vn=[];for(const Tr of C){const Jn=Qh(Tr,re.get(Tr.key).overlayedDocument);null!=Jn&&vn.push(new ul(Tr.key,Jn,qo(Jn.value.mapValue),Yi.exists(!0)))}return R.mutationQueue.addMutationBatch($e,G,vn,C)}).next(an=>{we=an;const vn=an.applyToLocalDocumentSet(re,Ut);return R.documentOverlayCache.saveOverlays($e,an.batchId,vn)})}).then(()=>({batchId:we.batchId,changes:ap(re)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(m,C,R){let G=m.ac[m.currentUser.toKey()];G||(G=new ne(Rn)),G=G.insert(C,R),m.ac[m.currentUser.toKey()]=G}(a,h.batchId,t),yield Qa(a,h.changes),yield pa(a.remoteStore)}catch(h){const m=vd(h,"Failed to persist write");t.reject(m)}}),rm.apply(this,arguments)}function im(s,e){return v_.apply(this,arguments)}function v_(){return v_=(0,Te.Z)(function*(s,e){const t=Wt(s);try{const a=yield function fr(s,e){const t=Wt(s),a=e.snapshotVersion;let h=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const C=t.Ki.newChangeBuffer({trackRemovals:!0});h=t.Li;const R=[];e.targetChanges.forEach((re,we)=>{const $e=h.get(we);if(!$e)return;R.push(t.Ds.removeMatchingKeys(m,re.removedDocuments,we).next(()=>t.Ds.addMatchingKeys(m,re.addedDocuments,we)));let dt=$e.withSequenceNumber(m.currentSequenceNumber);var Ut,an,vn;e.targetMismatches.has(we)?dt=dt.withResumeToken(In.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):re.resumeToken.approximateByteSize()>0&&(dt=dt.withResumeToken(re.resumeToken,a)),h=h.insert(we,dt),an=dt,vn=re,(0===(Ut=$e).resumeToken.approximateByteSize()||an.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||vn.addedDocuments.size+vn.modifiedDocuments.size+vn.removedDocuments.size>0)&&R.push(t.Ds.updateTargetData(m,dt))});let G=Es(),X=ar();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(m,re))}),R.push(gh(m,C,e.documentUpdates).next(re=>{G=re.zi,X=re.ji})),!a.isEqual(bn.min())){const re=t.Ds.getLastRemoteSnapshotVersion(m).next(we=>t.Ds.setTargetsMetadata(m,m.currentSequenceNumber,a));R.push(re)}return ht.waitFor(R).next(()=>C.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,G,X)).next(()=>G)}).then(m=>(t.Li=h,m))}(t.localStore,e);e.targetChanges.forEach((h,m)=>{const C=t.uc.get(m);C&&(sn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?C.ec=!0:h.modifiedDocuments.size>0?sn(C.ec):h.removedDocuments.size>0&&(sn(C.ec),C.ec=!1))}),yield Qa(t,a,e)}catch(a){yield hs(a)}}),v_.apply(this,arguments)}function Ey(s,e,t){const a=Wt(s);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const h=[];a.sc.forEach((m,C)=>{const R=C.view.Ru(e);R.snapshot&&h.push(R.snapshot)}),function(m,C){const R=Wt(m);R.onlineState=C;let G=!1;R.queries.forEach((X,re)=>{for(const we of re.listeners)we.Ru(C)&&(G=!0)}),G&&h_(R)}(a.eventManager,e),h.length&&a.nc.zo(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function E_(s,e,t){return wy.apply(this,arguments)}function wy(){return wy=(0,Te.Z)(function*(s,e,t){const a=Wt(s);a.sharedClientState.updateQueryState(e,"rejected",t);const h=a.uc.get(e),m=h&&h.key;if(m){let C=new ne(tn.comparator);C=C.insert(m,ki.newNoDocument(m,bn.min()));const R=ar().add(m),G=new ha(bn.min(),new Map,new et(Rn),C,R);yield im(a,G),a.oc=a.oc.remove(m),a.uc.delete(e),Lc(a)}else yield Ti(a.localStore,e,!1).then(()=>eu(a,e,t)).catch(hs)}),wy.apply(this,arguments)}function Hp(s,e){return Af.apply(this,arguments)}function Af(){return Af=(0,Te.Z)(function*(s,e){const t=Wt(s),a=e.batch.batchId;try{const h=yield function qu(s,e){const t=Wt(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),m=t.Ki.newChangeBuffer({trackRemovals:!0});return function(C,R,G,X){const re=G.batch,we=re.keys();let $e=ht.resolve();return we.forEach(dt=>{$e=$e.next(()=>X.getEntry(R,dt)).next(Ut=>{const an=G.docVersions.get(dt);sn(null!==an),Ut.version.compareTo(an)<0&&(re.applyToRemoteDocument(Ut,G),Ut.isValidDocument()&&(Ut.setReadTime(G.commitVersion),X.addEntry(Ut)))})}),$e.next(()=>C.mutationQueue.removeMutationBatch(R,re))}(t,a,e,m).next(()=>m.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(C){let R=ar();for(let G=0;G<C.mutationResults.length;++G)C.mutationResults[G].transformResults.length>0&&(R=R.add(C.batch.mutations[G].key));return R}(e))).next(()=>t.localDocuments.getDocuments(a,h))})}(t.localStore,e);Ro(t,a,null),kc(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield Qa(t,h)}catch(h){yield hs(h)}}),Af.apply(this,arguments)}function Cy(s,e,t){return jp.apply(this,arguments)}function jp(){return jp=(0,Te.Z)(function*(s,e,t){const a=Wt(s);try{const h=yield function(m,C){const R=Wt(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let X;return R.mutationQueue.lookupMutationBatch(G,C).next(re=>(sn(null!==re),X=re.keys(),R.mutationQueue.removeMutationBatch(G,re))).next(()=>R.mutationQueue.performConsistencyCheck(G)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(G,X,C)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,X)).next(()=>R.localDocuments.getDocuments(G,X))})}(a.localStore,e);Ro(a,e,t),kc(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield Qa(a,h)}catch(h){yield hs(h)}}),jp.apply(this,arguments)}function Xl(){return Xl=(0,Te.Z)(function*(s,e){const t=Wt(s);Jl(t.remoteStore)||Ct("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(m){const C=Wt(m);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>C.mutationQueue.getHighestUnacknowledgedBatchId(R))}(t.localStore);if(-1===a)return void e.resolve();const h=t.hc.get(a)||[];h.push(e),t.hc.set(a,h)}catch(a){const h=vd(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),Xl.apply(this,arguments)}function kc(s,e){(s.hc.get(e)||[]).forEach(t=>{t.resolve()}),s.hc.delete(e)}function Ro(s,e,t){const a=Wt(s);let h=a.ac[a.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),a.ac[a.currentUser.toKey()]=h}}function eu(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.ic.get(e))s.sc.delete(a),t&&s.nc.wc(a,t);s.ic.delete(e),s.isPrimaryClient&&s.cc.hs(e).forEach(a=>{s.cc.containsKey(a)||$p(s,a)})}function $p(s,e){s.rc.delete(e.path.canonicalString());const t=s.oc.get(e);null!==t&&(Pp(s.remoteStore,t),s.oc=s.oc.remove(e),s.uc.delete(t),Lc(s))}function Ya(s,e,t){for(const a of t)a instanceof f_?(s.cc.addReference(a.key,e),Yu(s,a)):a instanceof Vp?(Ct("SyncEngine","Document no longer in limbo: "+a.key),s.cc.removeReference(a.key,e),s.cc.containsKey(a.key)||$p(s,a.key)):zt()}function Yu(s,e){const t=e.key,a=t.path.canonicalString();s.oc.get(t)||s.rc.has(a)||(Ct("SyncEngine","New document in limbo: "+t),s.rc.add(a),Lc(s))}function Lc(s){for(;s.rc.size>0&&s.oc.size<s.maxConcurrentLimboResolutions;){const e=s.rc.values().next().value;s.rc.delete(e);const t=new tn(ge.fromString(e)),a=s.lc.next();s.uc.set(a,new fv(t)),s.oc=s.oc.insert(t,a),zg(s.remoteStore,new bc(Aa(pu(t.path)),a,2,Ao.ct))}}function Qa(s,e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,Te.Z)(function*(s,e,t){const a=Wt(s),h=[],m=[],C=[];var R;a.sc.isEmpty()||(a.sc.forEach((R,G)=>{C.push(a.dc(G,e,t).then(X=>{if((X||t)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(G.targetId,X?.fromCache?"not-current":"current"),X){h.push(X);const re=Di.Di(G.targetId,X);m.push(re)}}))}),yield Promise.all(C),a.nc.zo(h),yield(R=(0,Te.Z)(function*(G,X){const re=Wt(G);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",we=>ht.forEach(X,$e=>ht.forEach($e.Vi,dt=>re.persistence.referenceDelegate.addReference(we,$e.targetId,dt)).next(()=>ht.forEach($e.Si,dt=>re.persistence.referenceDelegate.removeReference(we,$e.targetId,dt)))))}catch(we){if(!Fr(we))throw we;Ct("LocalStore","Failed to update sequence numbers: "+we)}for(const we of X){const $e=we.targetId;if(!we.fromCache){const dt=re.Li.get($e),an=dt.withLastLimboFreeSnapshotVersion(dt.snapshotVersion);re.Li=re.Li.insert($e,an)}}}),function(G,X){return R.apply(this,arguments)})(a.localStore,m))}),Ja.apply(this,arguments)}function Fc(s,e){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,Te.Z)(function*(s,e){const t=Wt(s);if(!t.currentUser.isEqual(e)){Ct("SyncEngine","User change. New user:",e.toKey());const a=yield Jm(t.localStore,e);t.currentUser=e,(h=t).hc.forEach(C=>{C.forEach(R=>{R.reject(new Mt(ct.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.hc.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Qa(t,a.Qi)}var h}),Iu.apply(this,arguments)}function Mf(s,e){const t=Wt(s),a=t.uc.get(e);if(a&&a.ec)return ar().add(a.key);{let h=ar();const m=t.ic.get(e);if(!m)return h;for(const C of m){const R=t.sc.get(C);h=h.unionWith(R.view.Qu)}return h}}function Rf(s,e){return wd.apply(this,arguments)}function wd(){return wd=(0,Te.Z)(function*(s,e){const t=Wt(s),a=yield Ip(t.localStore,e.query,!0),h=e.view.Xu(a);return t.isPrimaryClient&&Ya(t,e.targetId,h.Yu),h}),wd.apply(this,arguments)}function Th(s,e){return xf.apply(this,arguments)}function xf(){return xf=(0,Te.Z)(function*(s,e){const t=Wt(s);return Xm(t.localStore,e).then(a=>Qa(t,a))}),xf.apply(this,arguments)}function by(s,e,t,a){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,Te.Z)(function*(s,e,t,a){const h=Wt(s),m=yield function(C,R){const G=Wt(C),X=Wt(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",re=>X.In(re,R).next(we=>we?G.localDocuments.getDocuments(re,we):ht.resolve(null)))}(h.localStore,e);var R;null!==m?("pending"===t?yield pa(h.remoteStore):"acknowledged"===t||"rejected"===t?(Ro(h,e,a||null),kc(h,e),R=e,Wt(Wt(h.localStore).mutationQueue).En(R)):zt(),yield Qa(h,m)):Ct("SyncEngine","Cannot apply mutation batch with id: "+e)}),Tu.apply(this,arguments)}function sm(){return sm=(0,Te.Z)(function*(s,e){const t=Wt(s);if(Uc(t),Of(t),!0===e&&!0!==t.fc){const a=t.sharedClientState.getAllActiveQueryTargets(),h=yield w_(t,a.toArray());t.fc=!0,yield d_(t.remoteStore,!0);for(const m of h)zg(t.remoteStore,m)}else if(!1===e&&!1!==t.fc){const a=[];let h=Promise.resolve();t.ic.forEach((m,C)=>{t.sharedClientState.isLocalQueryTarget(C)?a.push(C):h=h.then(()=>(eu(t,C),Ti(t.localStore,C,!0))),Pp(t.remoteStore,C)}),yield h,yield w_(t,a),function(m){const C=Wt(m);C.uc.forEach((R,G)=>{Pp(C.remoteStore,G)}),C.cc.ls(),C.uc=new Map,C.oc=new ne(tn.comparator)}(t),t.fc=!1,yield d_(t.remoteStore,!1)}}),sm.apply(this,arguments)}function w_(s,e,t){return om.apply(this,arguments)}function om(){return om=(0,Te.Z)(function*(s,e,t){const a=Wt(s),h=[],m=[];for(const C of e){let R;const G=a.ic.get(C);if(G&&0!==G.length){R=yield mh(a.localStore,Aa(G[0]));for(const X of G){const re=a.sc.get(X),we=yield Rf(a,re);we.snapshot&&m.push(we.snapshot)}}else{const X=yield Hg(a.localStore,C);R=yield mh(a.localStore,X),yield m_(a,Nf(X),C,!1,R.resumeToken)}h.push(R)}return a.nc.zo(m),h}),om.apply(this,arguments)}function Nf(s){return Vu(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function C_(s){const e=Wt(s);return Wt(Wt(e.localStore).persistence).bi()}function _v(s,e,t,a){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Te.Z)(function*(s,e,t,a){const h=Wt(s);if(h.fc)return void Ct("SyncEngine","Ignoring unexpected query state notification.");const m=h.ic.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const C=yield Xm(h.localStore,Kh(m[0])),R=ha.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,In.EMPTY_BYTE_STRING);yield Qa(h,C,R);break}case"rejected":yield Ti(h.localStore,e,!0),eu(h,e,a);break;default:zt()}}),Gp.apply(this,arguments)}function zp(s,e,t){return b_.apply(this,arguments)}function b_(){return b_=(0,Te.Z)(function*(s,e,t){const a=Uc(s);if(a.fc){for(const h of e){if(a.ic.has(h)){Ct("SyncEngine","Adding an already active target "+h);continue}const m=yield Hg(a.localStore,h),C=yield mh(a.localStore,m);yield m_(a,Nf(m),C.targetId,!1,C.resumeToken),zg(a.remoteStore,C)}for(const h of t)a.ic.has(h)&&(yield Ti(a.localStore,h,!1).then(()=>{Pp(a.remoteStore,h),eu(a,h)}).catch(hs))}}),b_.apply(this,arguments)}function Uc(s){const e=Wt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=im.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E_.bind(null,e),e.nc.zo=Fp.bind(null,e.eventManager),e.nc.wc=cv.bind(null,e.eventManager),e}function Of(s){const e=Wt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cy.bind(null,e),e}class Wp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.serializer=Ch(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Bg(this.persistence,new hy,e.initialUser,this.serializer)}createPersistence(e){return new cy(_p.Fs,this.serializer)}createSharedClientState(e){return new py}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qu extends Wp{constructor(e,t,a){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,Te.Z)(function*(){yield t().call(a,e),yield a.mc.initialize(a,e),yield Of(a.mc.syncEngine),yield pa(a.mc.remoteStore),yield a.persistence.hi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Bg(this.persistence,new hy,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new qm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const a=new Qs(t,this.persistence);return new Bl(e.asyncQueue,a)}createPersistence(e){const t=Ep(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new vp(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,wh(),Rp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new py}}class Cd extends Qu{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,Te.Z)(function*(){yield t().call(a,e);const h=a.mc.syncEngine;a.sharedClientState instanceof gf&&(a.sharedClientState.syncEngine={$r:by.bind(null,h),Mr:_v.bind(null,h),Fr:zp.bind(null,h),bi:C_.bind(null,h),Or:Th.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.hi(function(){var m=(0,Te.Z)(function*(C){yield function Pf(s,e){return sm.apply(this,arguments)}(a.mc.syncEngine,C),a.gcScheduler&&(C&&!a.gcScheduler.started?a.gcScheduler.start():C||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(C&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():C||a.indexBackfillerScheduler.stop())});return function(C){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=wh();if(!gf.D(t))throw new Mt(ct.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Ep(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gf(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class Ju{initialize(e,t){var a=this;return(0,Te.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=h=>Ey(a.syncEngine,h,1),a.remoteStore.remoteSyncer.handleCredentialChange=Fc.bind(null,a.syncEngine),yield d_(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qg}createDatastore(e){const t=Ch(e.databaseInfo.databaseId),a=new Mp(e.databaseInfo);return new Ql(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,h=e.asyncQueue,m=R=>Ey(this.syncEngine,R,0),C=n_.D()?new n_:new Dp,new xp(t,a,h,m,C);var t,a,h,m,C}createSyncEngine(e,t){return function(a,h,m,C,R,G,X){const re=new nm(a,h,m,C,R,G);return X&&(re.fc=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const a=Wt(t);Ct("RemoteStore","RemoteStore shutting down."),a.du.add(5),yield wu(a),a._u.shutdown(),a.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function lm(s,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<s.byteLength){const a={value:s.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Vc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class um{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new ii,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(a=>{a&&a.ku()?this.metadata.resolve(a.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.Nu)}`))},a=>this.metadata.reject(a))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const a=e.Tc.decode(t),h=Number(a);isNaN(h)&&e.Rc(`length string (${a}) is not valid number`);const m=yield e.vc(h);return new dv(JSON.parse(m),t.length+h)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,Te.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}vc(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const a=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class Sh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Mt(ct.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(h=(0,Te.Z)(function*(m,C){const R=Wt(m),G=dl(R.serializer)+"/documents",X={documents:C.map(dt=>pn(R.serializer,dt))},re=yield R.fo("BatchGetDocuments",G,X,C.length),we=new Map;re.forEach(dt=>{const Ut=function od(s,e){return"found"in e?function(t,a){sn(!!a.found);const h=Kr(t,a.found.name),m=Nt(a.found.updateTime),C=a.found.createTime?Nt(a.found.createTime):bn.min(),R=new Os({mapValue:{fields:a.found.fields}});return ki.newFoundDocument(h,m,C,R)}(s,e):"missing"in e?function(t,a){sn(!!a.missing),sn(!!a.readTime);const h=Kr(t,a.missing),m=Nt(a.readTime);return ki.newNoDocument(h,m)}(s,e):zt()}(R.serializer,dt);we.set(Ut.key.toString(),Ut)});const $e=[];return C.forEach(dt=>{const Ut=we.get(dt.toString());sn(!!Ut),$e.push(Ut)}),$e}),function(m,C){return h.apply(this,arguments)})(t.datastore,e);var h;return a.forEach(h=>t.recordVersion(h)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new nd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,h)=>{const m=tn.fromPath(h);e.mutations.push(new Xh(m,e.precondition(m)))}),yield(a=(0,Te.Z)(function*(h,m){const C=Wt(h),R=dl(C.serializer)+"/documents",G={writes:m.map(X=>zu(C.serializer,X))};yield C.co("Commit",R,G)}),function(h,m){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zt();t=bn.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new Mt(ct.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bn.min())?Yi.exists(!1):Yi.updateTime(t):Yi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bn.min()))throw new Mt(ct.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yi.updateTime(t)}return Yi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Iy{constructor(e,t,a,h,m){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=h,this.deferred=m,this.Vc=a.maxAttempts,this.Co=new yf(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,Te.Z)(function*(){const t=new Sh(e.datastore),a=e.Dc(t);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Cc(m)}))}).catch(h=>{e.Cc(h)})}))}Dc(e){try{const t=this.updateFunction(e);return!Ha(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!sh(t)}return!1}}class I_{constructor(e,t,a,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=h,this.user=Ie.UNAUTHENTICATED,this.clientId=Cl.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var C=(0,Te.Z)(function*(R){Ct("FirestoreClient","Received user=",R.uid),yield m.authCredentialListener(R),m.user=R});return function(R){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(a,C=>(Ct("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const h=vd(a,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Kp(s,e){return kf.apply(this,arguments)}function kf(){return kf=(0,Te.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const t=yield s.getConfiguration();yield e.initialize(t);let a=t.initialUser;s.setCredentialChangeListener(function(){var h=(0,Te.Z)(function*(m){a.isEqual(m)||(yield Jm(e.localStore,m),a=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),kf.apply(this,arguments)}function Dh(s,e){return cm.apply(this,arguments)}function cm(){return cm=(0,Te.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const t=yield dm(s);Ct("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(t,a),s.setCredentialChangeListener(h=>uv(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,m)=>uv(e.remoteStore,m)),s._onlineComponents=e}),cm.apply(this,arguments)}function T_(s){return"FirebaseError"===s.name?s.code===ct.FAILED_PRECONDITION||s.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}function dm(s){return hm.apply(this,arguments)}function hm(){return hm=(0,Te.Z)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Ct("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Kp(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!T_(t))throw t;Wn("Error using user provided cache. Falling back to memory cache: "+t),yield Kp(s,new Wp)}}else Ct("FirestoreClient","Using default OfflineComponentProvider"),yield Kp(s,new Wp);return s._offlineComponents}),hm.apply(this,arguments)}function Lf(s){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,Te.Z)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Ct("FirestoreClient","Using user provided OnlineComponentProvider"),yield Dh(s,s._uninitializedComponentsProvider._online)):(Ct("FirestoreClient","Using default OnlineComponentProvider"),yield Dh(s,new Ju))),s._onlineComponents}),Ff.apply(this,arguments)}function fm(s){return dm(s).then(e=>e.persistence)}function Ah(s){return dm(s).then(e=>e.localStore)}function Uf(s){return Lf(s).then(e=>e.remoteStore)}function Su(s){return Lf(s).then(e=>e.syncEngine)}function bd(s){return pm.apply(this,arguments)}function pm(){return pm=(0,Te.Z)(function*(s){const e=yield Lf(s),t=e.eventManager;return t.onListen=p_.bind(null,e.syncEngine),t.onUnlisten=pv.bind(null,e.syncEngine),t}),pm.apply(this,arguments)}function Rh(s,e,t={}){const a=new ii;return s.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(h,m,C,R,G){const X=new Vc({next:we=>{m.enqueueAndForget(()=>Xg(h,re));const $e=we.docs.has(C);!$e&&we.fromCache?G.reject(new Mt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):$e&&we.fromCache&&R&&"server"===R.source?G.reject(new Mt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(we)},error:we=>G.reject(we)}),re=new Up(pu(C.path),X,{includeMetadataChanges:!0,xu:!0});return Jg(h,re)}(yield bd(s),s.asyncQueue,e,t,a)})),a.promise}function D_(s,e,t={}){const a=new ii;return s.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(h,m,C,R,G){const X=new Vc({next:we=>{m.enqueueAndForget(()=>Xg(h,re)),we.fromCache&&"server"===R.source?G.reject(new Mt(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(we)},error:we=>G.reject(we)}),re=new Up(C,X,{includeMetadataChanges:!0,xu:!0});return Jg(h,re)}(yield bd(s),s.asyncQueue,e,t,a)})),a.promise}const Zp=new Map;function Bc(s,e,t){if(!t)throw new Mt(ct.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Td(s,e,t,a){if(!0===e&&!0===a)throw new Mt(ct.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Du(s){if(!tn.isDocumentKey(s))throw new Mt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Sd(s){if(tn.isDocumentKey(s))throw new Mt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function M_(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(t=s).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof s?"a function":zt()}function Zr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Mt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=M_(s);throw new Mt(ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function ym(s,e){if(e<=0)throw new Mt(ct.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class Vf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Mt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Mt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Td("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xu{constructor(e,t,a,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Mt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ta;switch(t.type){case"firstParty":return new Ul(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Mt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zp.get(e);t&&(Ct("ComponentProvider","Removing Datastore"),Zp.delete(e),t.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class xo{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class ec extends xo{constructor(e,t,a){super(e,t,pu(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new tn(e))}withConverter(e){return new ec(this.firestore,e,this._path)}}function Yp(s,e,...t){if(s=(0,ye.m9)(s),Bc("collection","path",e),s instanceof Xu){const a=ge.fromString(e,...t);return Sd(a),new ec(s,null,a)}{if(!(s instanceof Hn||s instanceof ec))throw new Mt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ge.fromString(e,...t));return Sd(a),new ec(s.firestore,null,a)}}function Ra(s,e,...t){if(s=(0,ye.m9)(s),1===arguments.length&&(e=Cl.A()),Bc("doc","path",e),s instanceof Xu){const a=ge.fromString(e,...t);return Du(a),new Hn(s,null,new tn(a))}{if(!(s instanceof Hn||s instanceof ec))throw new Mt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ge.fromString(e,...t));return Du(a),new Hn(s.firestore,s instanceof ec?s.converter:null,new tn(a))}}function vm(s,e){return s=(0,ye.m9)(s),e=(0,ye.m9)(e),(s instanceof Hn||s instanceof ec)&&(e instanceof Hn||e instanceof ec)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Em(s,e){return s=(0,ye.m9)(s),e=(0,ye.m9)(e),s instanceof xo&&e instanceof xo&&s.firestore===e.firestore&&qd(s._query,e._query)&&s.converter===e.converter}class xh{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new yf(this,"async_queue_retry"),this.qc=()=>{const t=Rp();t&&Ct("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=Rp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=Rp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new ii;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,Te.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Fr(t))throw t;Ct("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(a=>{throw this.Mc=a,this.Fc=!1,Ln("INTERNAL UNHANDLED ERROR: ",function(m){let C=m.message||"";return m.stack&&(C=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),C}(a)),a}).then(a=>(this.Fc=!1,a))));return this.Nc=t,t}enqueueAfterDelay(e,t,a){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const h=Yg.createAndSchedule(this,e,t,a,m=>this.Qc(m));return this.$c.push(h),h}Uc(){this.Mc&&zt()}verifyOperationInProgress(){}zc(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function x_(s){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const h of["next","error","complete"])if(h in a&&"function"==typeof a[h])return!0;return!1}(s)}class yv{constructor(){this._progressObserver={},this._taskCompletionResolver=new ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ns extends Xu{constructor(e,t,a,h){super(e,t,a,h),this.type="firestore",this._queue=new xh,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wm(this),this._firestoreClient.terminate()}}function ws(s){return s._firestoreClient||wm(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function wm(s){var e,t,a;const h=s._freezeSettings(),m=(R=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new jh(s._databaseId,R,s._persistenceKey,(X=h).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,X.useFetchStreams));var R,X;s._firestoreClient=new I_(s._authCredentials,s._appCheckCredentials,s._queue,m),null!==(t=h.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(a=h.cache)&&void 0!==a&&a._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function P_(s,e,t){const a=new ii;return s.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield Kp(s,t),yield Dh(s,e),a.resolve()}catch(h){const m=h;if(!T_(m))throw m;Wn("Error enabling indexeddb cache. Falling back to memory cache: "+m),a.reject(m)}})).then(()=>a.promise)}function Ry(s){if(s._initialized||s._terminated)throw new Mt(ct.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(In.fromBase64String(e))}catch(t){throw new Mt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gl(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ml{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Mt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nh{constructor(e){this._methodName=e}}class Bf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Mt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Mt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rn(this._lat,e._lat)||Rn(this._long,e._long)}}const Jp=/^__.*__$/;class xy{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new ul(e,this.data,this.fieldMask,t,this.fieldTransforms):new qa(e,this.data,t,this.fieldTransforms)}}class tc{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new ul(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Py(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class Hf{constructor(e,t,a,h,m,C){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=h,void 0===m&&this.Jc(),this.fieldTransforms=m||[],this.fieldMask=C||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.Zc({path:a,ta:!1});return h.ea(e),h}na(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.Zc({path:a,ta:!1});return h.Jc(),h}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Xa(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Py(this.Yc)&&Jp.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class N_{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Ch(e)}ua(e,t,a,h=!1){return new Hf({Yc:e,methodName:t,oa:a,path:yi.emptyPath(),ta:!1,ra:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nc(s){const e=s._freezeSettings(),t=Ch(s._databaseId);return new N_(s._databaseId,!!e.ignoreUndefinedProperties,t)}function rc(s,e,t,a,h,m={}){const C=s.ua(m.merge||m.mergeFields?2:0,e,t,h);xa("Data must be an object, but it was:",C,a);const R=Am(a,C);let G,X;if(m.merge)G=new dn(C.fieldMask),X=C.fieldTransforms;else if(m.mergeFields){const re=[];for(const we of m.mergeFields){const $e=Md(e,we,t);if(!C.contains($e))throw new Mt(ct.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);xd(re,$e)||re.push($e)}G=new dn(re),X=C.fieldTransforms.filter(we=>G.covers(we.field))}else G=null,X=C.fieldTransforms;return new xy(new Os(R),G,X)}class Hc extends Nh{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}function Xp(s,e,t){return new Hf({Yc:3,oa:e.settings.oa,methodName:s._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Im extends Nh{_toFieldTransform(e){return new ju(e.path,new Xc)}isEqual(e){return e instanceof Im}}class Ny extends Nh{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=Xp(this,e,!0),a=this.ca.map(m=>Ad(m,t)),h=new Hu(a);return new ju(e.path,h)}isEqual(e){return this===e}}class Tm extends Nh{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=Xp(this,e,!0),a=this.ca.map(m=>Ad(m,t)),h=new Ec(a);return new ju(e.path,h)}isEqual(e){return this===e}}class Oy extends Nh{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new wc(e.serializer,yc(e.serializer,this.aa));return new ju(e.path,t)}isEqual(e){return this===e}}function eg(s,e,t,a){const h=s.ua(1,e,t);xa("Data must be an object, but it was:",h,a);const m=[],C=Os.empty();V(a,(G,X)=>{const re=Oh(e,G,t);X=(0,ye.m9)(X);const we=h.na(re);if(X instanceof Hc)m.push(re);else{const $e=Ad(X,we);null!=$e&&(m.push(re),C.set(re,$e))}});const R=new dn(m);return new tc(C,R,h.fieldTransforms)}function Sm(s,e,t,a,h,m){const C=s.ua(1,e,t),R=[Md(e,a,t)],G=[h];if(m.length%2!=0)throw new Mt(ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<m.length;$e+=2)R.push(Md(e,m[$e])),G.push(m[$e+1]);const X=[],re=Os.empty();for(let $e=R.length-1;$e>=0;--$e)if(!xd(X,R[$e])){const dt=R[$e];let Ut=G[$e];Ut=(0,ye.m9)(Ut);const an=C.na(dt);if(Ut instanceof Hc)X.push(dt);else{const vn=Ad(Ut,an);null!=vn&&(X.push(dt),re.set(dt,vn))}}const we=new dn(X);return new tc(re,we,C.fieldTransforms)}function Dm(s,e,t,a=!1){return Ad(t,s.ua(a?4:3,e))}function Ad(s,e){if(O_(s=(0,ye.m9)(s)))return xa("Unsupported field value:",e,s),Am(s,e);if(s instanceof Nh)return function(t,a){if(!Py(a.Yc))throw a.ia(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ia(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(a);h&&a.fieldTransforms.push(h)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,a){const h=[];let m=0;for(const C of t){let R=Ad(C,a.sa(m));null==R&&(R={nullValue:"NULL_VALUE"}),h.push(R),m++}return{arrayValue:{values:h}}}(s,e)}return function(t,a){if(null===(t=(0,ye.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yc(a.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=si.fromDate(t);return{timestampValue:ae(a.serializer,h)}}if(t instanceof si){const h=new si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ae(a.serializer,h)}}if(t instanceof Bf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gl)return{bytesValue:Be(a.serializer,t._byteString)};if(t instanceof Hn){const h=a.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw a.ia(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Jt(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.ia(`Unsupported field value: ${M_(t)}`)}(s,e)}function Am(s,e){const t={};return $(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):V(s,(a,h)=>{const m=Ad(h,e.Xc(a));null!=m&&(t[a]=m)}),{mapValue:{fields:t}}}function O_(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof si||s instanceof Bf||s instanceof gl||s instanceof Hn||s instanceof Nh)}function xa(s,e,t){if(!O_(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=M_(t);throw e.ia("an object"===a?s+" a custom object":s+" "+a)}var a}function Md(s,e,t){if((e=(0,ye.m9)(e))instanceof ml)return e._internalPath;if("string"==typeof e)return Oh(s,e);throw Xa("Field path arguments must be of type string or ",s,!1,void 0,t)}const Rd=new RegExp("[~\\*/\\[\\]]");function Oh(s,e,t){if(e.search(Rd)>=0)throw Xa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new ml(...e.split("."))._internalPath}catch{throw Xa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Xa(s,e,t,a,h){const m=a&&!a.isEmpty(),C=void 0!==h;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let G="";return(m||C)&&(G+=" (found",m&&(G+=` in field ${a}`),C&&(G+=` in document ${h}`),G+=")"),new Mt(ct.INVALID_ARGUMENT,R+s+G)}function xd(s,e){return s.some(t=>t.isEqual(e))}class jf{constructor(e,t,a,h,m){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ky(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ic("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ky extends jf{data(){return super.data()}}function ic(s,e){return"string"==typeof e?Oh(s,e):e instanceof ml?e._internalPath:e._delegate._internalPath}function wv(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Mt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k_{}class tg extends k_{}function sc(s,e,...t){let a=[];e instanceof k_&&a.push(e),a=a.concat(t),function(h){const m=h.filter(R=>R instanceof kh).length,C=h.filter(R=>R instanceof ng).length;if(m>1||m>0&&C>0)throw new Mt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const h of a)s=h._apply(s);return s}class ng extends tg{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new ng(e,t,a)}_apply(e){const t=this._parse(e);return V_(e._query,t),new xo(e.firestore,e.converter,gu(e._query,t))}_parse(e){const t=nc(e.firestore);return function(h,m,C,R,G,X,re){let we;if(G.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new Mt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){Vy(re,X);const $e=[];for(const dt of re)$e.push(Mm(R,h,dt));we={arrayValue:{values:$e}}}else we=Mm(R,h,re)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||Vy(re,X),we=Dm(C,"where",re,"in"===X||"not-in"===X);return br.create(G,X,we)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class kh extends k_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kh(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return 1===t.length?t[0]:Ii.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(a,h){let m=a;const C=h.getFlattenedFilters();for(const R of C)V_(m,R),m=gu(m,R)}(e._query,t),new xo(e.firestore,e.converter,gu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Lh extends tg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lh(e,t)}_apply(e){const t=function(a,h,m){if(null!==a.startAt)throw new Mt(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Mt(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new qc(h,m);return function(R,G){if(null===vg(R)){const X=Kd(R);null!==X&&B_(0,X,G.field)}}(a,C),C}(e._query,this._field,this._direction);return new xo(e.firestore,e.converter,function(a,h){const m=a.explicitOrderBy.concat([h]);return new Wa(a.path,a.collectionGroup,m,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class Fh extends tg{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new Fh(e,t,a)}_apply(e){return new xo(e.firestore,e.converter,Wh(e._query,this._limit,this._limitType))}}class Gf extends tg{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new Gf(e,t,a)}_apply(e){const t=Uy(e,this.type,this._docOrFields,this._inclusive);return new xo(e.firestore,e.converter,(h=t,new Wa((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,h,a.endAt)));var a,h}}class _l extends tg{constructor(e,t,a){super(),this.type=e,this._docOrFields=t,this._inclusive=a}static _create(e,t,a){return new _l(e,t,a)}_apply(e){const t=Uy(e,this.type,this._docOrFields,this._inclusive);return new xo(e.firestore,e.converter,(h=t,new Wa((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,h)));var a,h}}function Uy(s,e,t,a){if(t[0]=(0,ye.m9)(t[0]),t[0]instanceof jf)return function(h,m,C,R,G){if(!R)throw new Mt(ct.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const X=[];for(const re of gc(h))if(re.field.isKeyField())X.push(dc(m,R.key));else{const we=R.data.field(re.field);if(Hl(we))throw new Mt(ct.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===we){const $e=re.field.canonicalString();throw new Mt(ct.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$e}' (used as the orderBy) does not exist.`)}X.push(we)}return new hu(X,G)}(s._query,s.firestore._databaseId,e,t[0]._document,a);{const h=nc(s.firestore);return function(m,C,R,G,X,re){const we=m.explicitOrderBy;if(X.length>we.length)throw new Mt(ct.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $e=[];for(let dt=0;dt<X.length;dt++){const Ut=X[dt];if(we[dt].field.isKeyField()){if("string"!=typeof Ut)throw new Mt(ct.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Ut}`);if(!sp(m)&&-1!==Ut.indexOf("/"))throw new Mt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Ut}' contains a slash.`);const an=m.path.child(ge.fromString(Ut));if(!tn.isDocumentKey(an))throw new Mt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${an}' is not because it contains an odd number of segments.`);const vn=new tn(an);$e.push(dc(C,vn))}else{const an=Dm(R,G,Ut);$e.push(an)}}return new hu($e,re)}(s._query,s.firestore._databaseId,h,e,t,a)}}function Mm(s,e,t){if("string"==typeof(t=(0,ye.m9)(t))){if(""===t)throw new Mt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sp(e)&&-1!==t.indexOf("/"))throw new Mt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(ge.fromString(t));if(!tn.isDocumentKey(a))throw new Mt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return dc(s,new tn(a))}if(t instanceof Hn)return dc(s,t._key);throw new Mt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${M_(t)}.`)}function Vy(s,e){if(!Array.isArray(s)||0===s.length)throw new Mt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V_(s,e){if(e.isInequality()){const a=Kd(s),h=e.field;if(null!==a&&!a.isEqual(h))throw new Mt(ct.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${a.toString()}' and '${h.toString()}'`);const m=vg(s);null!==m&&B_(0,h,m)}const t=function(a,h){for(const m of a)for(const C of m.getFlattenedFilters())if(h.indexOf(C.op)>=0)return C.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Mt(ct.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function B_(s,e,t){if(!t.isEqual(e))throw new Mt(ct.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class jn{convertValue(e,t="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zt()}}convertObject(e,t){const a={};return V(e.fields,(h,m)=>{a[h]=this.convertValue(m,t)}),a}convertGeoPoint(e){return new Bf(bi(e.latitude),bi(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=js(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const t=zi(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ge.fromString(e);sn(dp(a));const h=new $s(a.get(1),a.get(3)),m=new tn(a.popFirst(5));return h.isEqual(t)||Ln(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Rm(s,e,t){let a;return a=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,a}class Iv extends jn{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}class Ki{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nd extends jf{constructor(e,t,a,h,m,C){super(e,t,a,h,C),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(ic("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Wf extends Nd{data(e={}){return super.data(e)}}class jc{constructor(e,t,a,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new Ki(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Wf(this._firestore,this._userDataWriter,a.key,a,new Ki(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Mt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,h){if(a._snapshot.oldDocs.isEmpty()){let m=0;return a._snapshot.docChanges.map(C=>({type:"added",doc:new Wf(a._firestore,a._userDataWriter,C.doc.key,C.doc,new Ki(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:m++}))}{let m=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(C=>h||3!==C.type).map(C=>{const R=new Wf(a._firestore,a._userDataWriter,C.doc.key,C.doc,new Ki(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter);let G=-1,X=-1;return 0!==C.type&&(G=m.indexOf(C.doc.key),m=m.delete(C.doc.key)),1!==C.type&&(m=m.add(C.doc),X=m.indexOf(C.doc.key)),{type:Sv(C.type),doc:R,oldIndex:G,newIndex:X}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Sv(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}function $_(s,e){return s instanceof Nd&&e instanceof Nd?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof jc&&e instanceof jc&&s._firestore===e._firestore&&Em(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class $c extends jn{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}function jy(s,e,t){s=Zr(s,Hn);const a=Zr(s.firestore,ns),h=Rm(s.converter,e,t);return Kf(a,[rc(nc(a),"setDoc",s._key,h,null!==s.converter,t).toMutation(s._key,Yi.none())])}function $y(s,e,t,...a){s=Zr(s,Hn);const h=Zr(s.firestore,ns),m=nc(h);let C;return C="string"==typeof(e=(0,ye.m9)(e))||e instanceof ml?Sm(m,"updateDoc",s._key,e,t,a):eg(m,"updateDoc",s._key,e),Kf(h,[C.toMutation(s._key,Yi.exists(!0))])}function G_(s,...e){var t,a,h;s=(0,ye.m9)(s);let m={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||x_(e[C])||(m=e[C],C++);const R={includeMetadataChanges:m.includeMetadataChanges};if(x_(e[C])){const we=e[C];e[C]=null===(t=we.next)||void 0===t?void 0:t.bind(we),e[C+1]=null===(a=we.error)||void 0===a?void 0:a.bind(we),e[C+2]=null===(h=we.complete)||void 0===h?void 0:h.bind(we)}let G,X,re;if(s instanceof Hn)X=Zr(s.firestore,ns),re=pu(s._key.path),G={next:we=>{e[C]&&e[C](Pm(X,s,we))},error:e[C+1],complete:e[C+2]};else{const we=Zr(s,xo);X=Zr(we.firestore,ns),re=we._query;const $e=new $c(X);G={next:dt=>{e[C]&&e[C](new jc(X,$e,we,dt))},error:e[C+1],complete:e[C+2]},wv(s._query)}return function(we,$e,dt,Ut){const an=new Vc(Ut),vn=new Up($e,an,dt);return we.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return Jg(yield bd(we),vn)})),()=>{an.yc(),we.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return Xg(yield bd(we),vn)}))}}(ws(X),re,R,G)}function Kf(s,e){return function(t,a){const h=new ii;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function gv(s,e,t){return rm.apply(this,arguments)}(yield Su(t),a,h)})),h.promise}(ws(s),e)}function Pm(s,e,t){const a=t.docs.get(e._key),h=new $c(s);return new Nd(s,h,e._key,a,new Ki(t.hasPendingWrites,t.fromCache),e.converter)}const Qv={maxAttempts:5};class Ky{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nc(e)}set(e,t,a){this._verifyNotCommitted();const h=Uh(e,this._firestore),m=Rm(h.converter,t,a),C=rc(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,a);return this._mutations.push(C.toMutation(h._key,Yi.none())),this}update(e,t,a,...h){this._verifyNotCommitted();const m=Uh(e,this._firestore);let C;return C="string"==typeof(t=(0,ye.m9)(t))||t instanceof ml?Sm(this._dataReader,"WriteBatch.update",m._key,t,a,h):eg(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(C.toMutation(m._key,Yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uh(e,this._firestore);return this._mutations=this._mutations.concat(new nd(t._key,Yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mt(ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uh(s,e){if((s=(0,ye.m9)(s)).firestore!==e)throw new Mt(ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Jv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=nc(e)}get(e){const t=Uh(e,this._firestore),a=new Iv(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return zt();const m=h[0];if(m.isFoundDocument())return new jf(this._firestore,a,m.key,m,t.converter);if(m.isNoDocument())return new jf(this._firestore,a,t._key,null,t.converter);throw zt()})}set(e,t,a){const h=Uh(e,this._firestore),m=Rm(h.converter,t,a),C=rc(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,a);return this._transaction.set(h._key,C),this}update(e,t,a,...h){const m=Uh(e,this._firestore);let C;return C="string"==typeof(t=(0,ye.m9)(t))||t instanceof ml?Sm(this._dataReader,"Transaction.update",m._key,t,a,h):eg(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,C),this}delete(e){const t=Uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uh(e,this._firestore),a=new $c(this._firestore);return super.get(e).then(h=>new Nd(this._firestore,a,t._key,h._document,new Ki(!1,!1),t.converter))}}!function(s,e=!0){mt=Ye.SDK_VERSION,(0,Ye._registerComponent)(new Ve.wA("firestore",(t,{instanceIdentifier:a,options:h})=>{const m=t.getProvider("app").getImmediate(),C=new ns(new So(t.getProvider("auth-internal")),new zc(t.getProvider("app-check-internal")),function(R,G){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new Mt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(R.options.projectId,G)}(m,a),m);return h=Object.assign({useFetchStreams:e},h),C._setSettings(h),C},"PUBLIC").setMultipleInstances(!0)),(0,Ye.registerVersion)(le,"3.10.1",s),(0,Ye.registerVersion)(le,"3.10.1","esm2017")}();function z_(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Mt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Fv(){if(typeof Uint8Array>"u")throw new Mt("unimplemented","Uint8Arrays are not available in this environment.")}function Zy(){if(!function hr(){return typeof atob<"u"}())throw new Mt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Zf{constructor(e){this._delegate=e}static fromBase64String(e){return Zy(),new Zf(gl.fromBase64String(e))}static fromUint8Array(e){return Fv(),new Zf(gl.fromUint8Array(e))}toBase64(){return Zy(),this._delegate.toBase64()}toUint8Array(){return Fv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function km(s){return function Yy(s,e){if("object"!=typeof s||null===s)return!1;const t=s;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(s,["next","error","complete"])}class Yf{enableIndexedDbPersistence(e,t){return function Rl(s,e){Ry(s=Zr(s,ns));const t=ws(s);if(t._uninitializedComponentsProvider)throw new Mt(ct.FAILED_PRECONDITION,"SDK cache is already specified.");Wn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=s._freezeSettings(),h=new Ju;return P_(t,h,new Qu(h,a.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Cm(s){Ry(s=Zr(s,ns));const e=ws(s);if(e._uninitializedComponentsProvider)throw new Mt(ct.FAILED_PRECONDITION,"SDK cache is already specified.");Wn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings(),a=new Ju;return P_(e,a,new Cd(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tu(s){if(s._initialized&&!s._terminated)throw new Mt(ct.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ii;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(a){if(!vs.D())return Promise.resolve();const h=a+"main";yield vs.delete(h)}),function(a){return t.apply(this,arguments)})(Ep(s._databaseId,s._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class W_{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof $s||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function Sy(s,e,t,a={}){var h;const m=(s=Zr(s,Xu))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Wn("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let C,R;if("string"==typeof a.mockUserToken)C=a.mockUserToken,R=Ie.MOCK_USER;else{C=(0,ye.Sg)(a.mockUserToken,null===(h=s._app)||void 0===h?void 0:h.options.projectId);const G=a.mockUserToken.sub||a.mockUserToken.user_id;if(!G)throw new Mt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Ie(G)}s._authCredentials=new To(new mo(C,R))}}(this._delegate,e,t,a)}enableNetwork(){return function Mu(s){return function qp(s){return s.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield fm(s),t=yield Uf(s);return e.setNetworkEnabled(!0),function(a){const h=Wt(a);return h.du.delete(0),Zu(h)}(t)}))}(ws(s=Zr(s,ns)))}(this._delegate)}disableNetwork(){return function Ay(s){return function S_(s){return s.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield fm(s),t=yield Uf(s);return e.setNetworkEnabled(!1),(a=(0,Te.Z)(function*(h){const m=Wt(h);m.du.add(0),yield wu(m),m.mu.set("Offline")}),function(h){return a.apply(this,arguments)})(t);var a}))}(ws(s=Zr(s,ns)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,Td("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Au(s){return function(e){const t=new ii;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function mv(s,e){return Xl.apply(this,arguments)}(yield Su(e),t)})),t.promise}(ws(s=Zr(s,ns)))}(this._delegate)}onSnapshotsInSync(e){return function Gy(s,e){return function mm(s,e){const t=new Vc(e);return s.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return a=yield bd(s),h=t,Wt(a).Au.add(h),void h.next();var a,h})),()=>{t.yc(),s.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return a=yield bd(s),h=t,void Wt(a).Au.delete(h);var a,h}))}}(ws(s=Zr(s,ns)),x_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Mt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vh(this,Yp(this._delegate,e))}catch(t){throw Yo(t,"collection()","Firestore.collection()")}}doc(e){try{return new xl(this,Ra(this._delegate,e))}catch(t){throw Yo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Na(this,function R_(s,e){if(s=Zr(s,Xu),Bc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Mt(ct.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xo(s,null,(t=e,new Wa(ge.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Yo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Nv(s,e,t){s=Zr(s,ns);const a=Object.assign(Object.assign({},Qv),t);return function(h){if(h.maxAttempts<1)throw new Mt(ct.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(h,m,C){const R=new ii;return h.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const G=yield function Mh(s){return Lf(s).then(e=>e.datastore)}(h);new Iy(h.asyncQueue,G,C,m,R).run()})),R.promise}(ws(s),h=>e(new Jv(s,h)),a)}(this._delegate,t=>e(new Lm(this,t)))}batch(){return ws(this._delegate),new Qy(new Ky(this._delegate,e=>Kf(this._delegate,e)))}loadBundle(e){return function vv(s,e){const t=ws(s=Zr(s,ns)),a=new yv;return function Id(s,e,t,a){const h=function(m,C){let R;return R="string"==typeof m?(new TextEncoder).encode(m):m,G=function(G,X){if(G instanceof Uint8Array)return lm(G,X);if(G instanceof ArrayBuffer)return lm(new Uint8Array(G),X);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new um(G,C);var G}(t,Ch(e));s.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function am(s,e,t){const a=Wt(s);var h;(h=(0,Te.Z)(function*(m,C,R){try{const G=yield C.getMetadata();if(yield function($e,dt){const Ut=Wt($e),an=Nt(dt.createTime);return Ut.persistence.runTransaction("hasNewerBundle","readonly",vn=>Ut.xs.getBundleMetadata(vn,dt.id)).then(vn=>!!vn&&vn.createTime.compareTo(an)>=0)}(m.localStore,G))return yield C.close(),R._completeWith({taskState:"Success",documentsLoaded:($e=G).totalDocuments,bytesLoaded:$e.totalBytes,totalDocuments:$e.totalDocuments,totalBytes:$e.totalBytes}),Promise.resolve(new Set);R._updateProgress(vy(G));const X=new hv(G,m.localStore,C.serializer);let re=yield C._c();for(;re;){const $e=yield X.$u(re);$e&&R._updateProgress($e),re=yield C._c()}const we=yield X.complete();return yield Qa(m,we.Bu,void 0),yield function($e,dt){const Ut=Wt($e);return Ut.persistence.runTransaction("Save bundle","readwrite",an=>Ut.xs.saveBundleMetadata(an,dt))}(m.localStore,G),R._completeWith(we.progress),Promise.resolve(we.Fu)}catch(G){return Wn("SyncEngine",`Loading bundle failed with ${G}`),R._failWith(G),Promise.resolve(new Set)}var $e}),function(m,C,R){return h.apply(this,arguments)})(a,e,t).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield Su(s),h,a)}))}(t,s._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function Ev(s,e){return function A_(s,e){return s.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,a){const h=Wt(t);return h.persistence.runTransaction("Get named query","readonly",m=>h.xs.getNamedQuery(m,a))}(yield Ah(s),e)}))}(ws(s=Zr(s,ns)),e).then(t=>t?new xo(s,null,t.query):null)}(this._delegate,e).then(t=>t?new Na(this,t):null)}}class Gc extends jn{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zf(new gl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xl.forKey(t,this.firestore,null)}}class Lm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Gc(e)}get(e){const t=Ld(e);return this._delegate.get(t).then(a=>new Qf(this._firestore,new Nd(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const h=Ld(e);return a?(z_("Transaction.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=Ld(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=Ld(e);return this._delegate.delete(t),this}}class Qy{constructor(e){this._delegate=e}set(e,t,a){const h=Ld(e);return a?(z_("WriteBatch.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=Ld(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=Ld(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kd{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new Wf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lg(this._firestore,a),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=kd.INSTANCES;let h=a.get(e);h||(h=new WeakMap,a.set(e,h));let m=h.get(t);return m||(m=new kd(e,new Gc(e),t),h.set(t,m)),m}}kd.INSTANCES=new WeakMap;class xl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gc(e)}static forPath(e,t,a){if(e.length%2!=0)throw new Mt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xl(t,new Hn(t._delegate,a,new tn(e)))}static forKey(e,t,a){return new xl(t,new Hn(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new Vh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vh(this.firestore,Yp(this._delegate,e))}catch(t){throw Yo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ye.m9)(e))instanceof Hn&&vm(this._delegate,e)}set(e,t){t=z_("DocumentReference.set",t);try{return t?jy(this._delegate,e,t):jy(this._delegate,e)}catch(a){throw Yo(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?$y(this._delegate,e):$y(this._delegate,e,t,...a)}catch(h){throw Yo(h,"updateDoc()","DocumentReference.update()")}}delete(){return function Av(s){return Kf(Zr(s.firestore,ns),[new nd(s._key,Yi.none())])}(this._delegate)}onSnapshot(...e){const t=K_(e),a=q_(e,h=>new Qf(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return G_(this._delegate,t,a)}get(e){let t;return t="cache"===e?.source?function xm(s){s=Zr(s,Hn);const e=Zr(s.firestore,ns),t=ws(e),a=new $c(e);return function Ty(s,e){const t=new ii;return s.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(a=(0,Te.Z)(function*(h,m,C){try{const R=yield function(G,X){const re=Wt(G);return re.persistence.runTransaction("read document","readonly",we=>re.localDocuments.getDocument(we,X))}(h,m);R.isFoundDocument()?C.resolve(R):R.isNoDocument()?C.resolve(null):C.reject(new Mt(ct.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const G=vd(R,`Failed to get document '${m} from cache`);C.reject(G)}}),function(h,m,C){return a.apply(this,arguments)})(yield Ah(s),e,t);var a})),t.promise}(t,s._key).then(h=>new Nd(e,a,s._key,h,new Ki(null!==h&&h.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===e?.source?function By(s){s=Zr(s,Hn);const e=Zr(s.firestore,ns);return Rh(ws(e),s._key,{source:"server"}).then(t=>Pm(e,s,t))}(this._delegate):function nu(s){s=Zr(s,Hn);const e=Zr(s.firestore,ns);return Rh(ws(e),s._key).then(t=>Pm(e,s,t))}(this._delegate),t.then(a=>new Qf(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new xl(this.firestore,this._delegate.withConverter(e?kd.getInstance(this.firestore,e):null))}}function Yo(s,e,t){return s.message=s.message.replace(e,t),s}function K_(s){for(const e of s)if("object"==typeof e&&!km(e))return e;return{}}function q_(s,e){var t,a;let h;return h=km(s[0])?s[0]:km(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:m=>{h.next&&h.next(e(m))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(a=h.complete)||void 0===a?void 0:a.bind(h)}}class Qf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $_(this._delegate,e._delegate)}}class lg extends Qf{data(e){const t=this._delegate.data(e);return function Ia(s,e){s||zt()}(void 0!==t),t}}class Na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gc(e)}where(e,t,a){try{return new Na(this.firestore,sc(this._delegate,function Ly(s,e,t){const a=e,h=ic("where",s);return ng._create(h,a,t)}(e,t,a)))}catch(h){throw Yo(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Na(this.firestore,sc(this._delegate,function $f(s,e="asc"){const t=e,a=ic("orderBy",s);return Lh._create(a,t)}(e,t)))}catch(a){throw Yo(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Na(this.firestore,sc(this._delegate,function L_(s){return ym("limit",s),Fh._create("limit",s,"F")}(e)))}catch(t){throw Yo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Na(this.firestore,sc(this._delegate,function F_(s){return ym("limitToLast",s),Fh._create("limitToLast",s,"L")}(e)))}catch(t){throw Yo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Na(this.firestore,sc(this._delegate,function U_(...s){return Gf._create("startAt",s,!0)}(...e)))}catch(t){throw Yo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Na(this.firestore,sc(this._delegate,function Pd(...s){return Gf._create("startAfter",s,!1)}(...e)))}catch(t){throw Yo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Na(this.firestore,sc(this._delegate,function Fy(...s){return _l._create("endBefore",s,!1)}(...e)))}catch(t){throw Yo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Na(this.firestore,sc(this._delegate,function zf(...s){return _l._create("endAt",s,!0)}(...e)))}catch(t){throw Yo(t,"endAt()","Query.endAt()")}}isEqual(e){return Em(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Hy(s){s=Zr(s,xo);const e=Zr(s.firestore,ns),t=ws(e),a=new $c(e);return function gm(s,e){const t=new ii;return s.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(a=(0,Te.Z)(function*(h,m,C){try{const R=yield Ip(h,m,!0),G=new Bp(m,R.Wi),X=G.zu(R.documents),re=G.applyChanges(X,!1);C.resolve(re.snapshot)}catch(R){const G=vd(R,`Failed to execute query '${m} against cache`);C.reject(G)}}),function(h,m,C){return a.apply(this,arguments)})(yield Ah(s),e,t);var a})),t.promise}(t,s._query).then(h=>new jc(e,a,s,h))}(this._delegate):"server"===e?.source?function sg(s){s=Zr(s,xo);const e=Zr(s.firestore,ns),t=ws(e),a=new $c(e);return D_(t,s._query,{source:"server"}).then(h=>new jc(e,a,s,h))}(this._delegate):function Dv(s){s=Zr(s,xo);const e=Zr(s.firestore,ns),t=ws(e),a=new $c(e);return wv(s._query),D_(t,s._query).then(h=>new jc(e,a,s,h))}(this._delegate),t.then(a=>new ug(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=K_(e),a=q_(e,h=>new ug(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return G_(this._delegate,t,a)}withConverter(e){return new Na(this.firestore,this._delegate.withConverter(e?kd.getInstance(this.firestore,e):null))}}class Vv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ug{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Vv(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new lg(this._firestore,a))})}isEqual(e){return $_(this._delegate,e._delegate)}}class Vh extends Na{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xl(this.firestore,e):null}doc(e){try{return new xl(this.firestore,void 0===e?Ra(this._delegate):Ra(this._delegate,e))}catch(t){throw Yo(t,"doc()","CollectionReference.doc()")}}add(e){return function og(s,e){const t=Zr(s.firestore,ns),a=Ra(s),h=Rm(s.converter,e);return Kf(t,[rc(nc(s.firestore),"addDoc",a._key,h,null!==s.converter,{}).toMutation(a._key,Yi.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new xl(this.firestore,t))}isEqual(e){return vm(this._delegate,e._delegate)}withConverter(e){return new Vh(this.firestore,this._delegate.withConverter(e?kd.getInstance(this.firestore,e):null))}}function Ld(s){return Zr(s,Hn)}class Z_{constructor(...e){this._delegate=new ml(...e)}static documentId(){return new Z_(yi.keyField().canonicalString())}isEqual(e){return(e=(0,ye.m9)(e))instanceof ml&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function qy(){return new Im("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bh(e)}static delete(){const e=function Xv(){return new Hc("deleteField")}();return e._methodName="FieldValue.delete",new Bh(e)}static arrayUnion(...e){const t=function Om(...s){return new Ny("arrayUnion",s)}(...e);return t._methodName="FieldValue.arrayUnion",new Bh(t)}static arrayRemove(...e){const t=function Ov(...s){return new Tm("arrayRemove",s)}(...e);return t._methodName="FieldValue.arrayRemove",new Bh(t)}static increment(e){const t=function Od(s){return new Oy("increment",s)}(e);return t._methodName="FieldValue.increment",new Bh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Bv={Firestore:W_,GeoPoint:Bf,Timestamp:si,Blob:Zf,Transaction:Lm,WriteBatch:Qy,DocumentReference:xl,DocumentSnapshot:Qf,Query:Na,QueryDocumentSnapshot:lg,QuerySnapshot:ug,CollectionReference:Vh,FieldPath:Z_,FieldValue:Bh,setLogLevel:function Uv(s){!function $r(s){xt.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function Jy(s){(function Hv(s,e){s.INTERNAL.registerComponent(new Ve.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(a,h)},"PUBLIC").setServiceProps(Object.assign({},Bv)))})(s,(e,t)=>new W_(e,t,new Yf)),s.registerVersion("@firebase/firestore-compat","0.3.7")}(Xe.Z);var Fd=U(1205),l=U(6217),r=U(9260);function c(s,e){return function i(s,e=E.z){return new Z.y(t=>{let a;return null!=e?e.schedule(()=>{a=s.onSnapshot({includeMetadataChanges:!0},t)}):a=s.onSnapshot({includeMetadataChanges:!0},t),()=>{a?.()}})}(s,e)}function w(s,e){return c(s,e).pipe((0,se.U)(t=>({payload:t,type:"query"})))}function D(s,e){return w(s,e).pipe((0,ie.O)(void 0),ee(),(0,se.U)(([t,a])=>{const h=a.payload.docChanges(),m=h.map(C=>({type:C.type,payload:C}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((C,R)=>{const G=h.find(re=>re.doc.ref.isEqual(C.ref)),X=t?.payload.docs.find(re=>re.ref.isEqual(C.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(C.metadata)||!G&&X&&JSON.stringify(X.metadata)===JSON.stringify(C.metadata)||m.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:C}})}),m}))}function L(s,e,t){return D(s,t).pipe((0,me.R)((a,h)=>function q(s,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(s=function xe(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return te(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=s.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return te(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return te(s,e.oldIndex,1)}return s}(s,a))}),s}(a,h.map(m=>m.payload),e),[]),(0,ke.x)(),(0,se.U)(a=>a.map(h=>({type:h.type,payload:h}))))}function te(s,e,t,...a){const h=s.slice();return h.splice(e,t,...a),h}function Fe(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class nt{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=D(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,se.U)(a=>a.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,ie.O)(void 0),ee(),(0,Ge.h)(([a,h])=>h.length>0||!a),(0,se.U)(([a,h])=>h),Y.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=Fe(e);return L(this.query,t,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return w(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),Y.iC)}get(e){return(0,_e.D)(this.query.get(e)).pipe(Y.iC)}add(e){return this.ref.add(e)}doc(e){return new It(this.ref.doc(e),this.afs)}}class It{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:h,query:m}=lr(a,t);return new nt(h,m,this.afs)}snapshotChanges(){return function f(s,e){return c(s,e).pipe((0,ie.O)(void 0),ee(),(0,se.U)(([t,a])=>a.exists?t?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,se.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_e.D)(this.ref.get(e)).pipe(Y.iC)}}class Pt{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?D(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,Ge.h)(t=>t.length>0),Y.iC):D(this.query,this.afs.schedulers.outsideAngular).pipe(Y.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,me.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=Fe(e);return L(this.query,t,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return w(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(a=>a.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),Y.iC)}get(e){return(0,_e.D)(this.query.get(e)).pipe(Y.iC)}}const Xt=new _.OlP("angularfire2.enableFirestorePersistence"),Cn=new _.OlP("angularfire2.firestore.persistenceSettings"),nr=new _.OlP("angularfire2.firestore.settings"),Pr=new _.OlP("angularfire2.firestore.use-emulator");function lr(s,e=(t=>t)){return{query:e(s),ref:s}}let Nr=(()=>{class s{constructor(t,a,h,m,C,R,G,X,re,we,$e,dt,Ut,an,vn,Tr,Jn){this.schedulers=G;const Sr=(0,ze.on)(t,R,a),Qo=re;we&&(0,Fd.nw)(Sr,R,$e,Ut,an,vn,dt,Tr),[this.firestore,this.persistenceEnabled$]=(0,ze.cc)(`${Sr.name}.firestore`,"AngularFirestore",Sr.name,()=>{const Er=R.runOutsideAngular(()=>Sr.firestore());if(m&&Er.settings(m),Qo&&Er.useEmulator(...Qo),h&&!(0,_t.PM)(C)){const Ei=()=>{try{return(0,_e.D)(Er.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(rs){return typeof console<"u"&&console.warn(rs),(0,K.of)(!1)}};return[Er,R.runOutsideAngular(Ei)]}return[Er,(0,K.of)(!1)]},[m,Qo,h])}collection(t,a){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:C}=lr(h,a),R=this.schedulers.ngZone.run(()=>m);return new nt(R,C,this)}collectionGroup(t,a){const h=a||(C=>C),m=this.firestore.collectionGroup(t);return new Pt(h(m),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>a);return new It(h,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(t){return new(t||s)(_.LFG(ze.Dh),_.LFG(ze.xv,8),_.LFG(Xt,8),_.LFG(nr,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Y.HU),_.LFG(Cn,8),_.LFG(Pr,8),_.LFG(Fd.zQ,8),_.LFG(Fd.Qv,8),_.LFG(Fd.L6,8),_.LFG(Fd._Q,8),_.LFG(Fd.rT,8),_.LFG(Fd.lh,8),_.LFG(Fd.f7,8),_.LFG(l.nm,8))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Pl=(()=>{class s{constructor(){r.Z.registerVersion("angularfire",Y.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:s,providers:[{provide:Xt,useValue:!0},{provide:Cn,useValue:t}]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({providers:[Nr]}),s})()},2011:(Gt,qe,U)=>{U.d(qe,{Dh:()=>he,GT:()=>Y,cc:()=>Ge,hO:()=>ke,on:()=>ee,pX:()=>K,xv:()=>pe});var _=U(4650),E=U(9260),Z=U(2122);Gt=U.hmd(Gt);const _e=["ngOnDestroy"],K=(Xe,Te,Ye,Ve={})=>new Proxy(Xe,{get:(k,ye)=>Ye.runOutsideAngular(()=>{var be;if(Xe[ye])return!(null===(be=Ve?.spy)||void 0===be)&&be.get&&Ve.spy.get(ye,Xe[ye]),Xe[ye];if(_e.indexOf(ye)>-1)return()=>{};const Me=Te.toPromise().then(Ce=>{const Re=Ce&&Ce[ye];return"function"==typeof Re?Re.bind(Ce):Re&&Re.then?Re.then(pt=>Ye.run(()=>pt)):Ye.run(()=>Re)});return new Proxy(()=>{},{get:(Ce,Re)=>Me[Re],apply:(Ce,Re,pt)=>Me.then(bt=>{var Bt;const Ht=bt&&bt(...pt);return!(null===(Bt=Ve?.spy)||void 0===Bt)&&Bt.apply&&Ve.spy.apply(ye,pt,Ht),Ht})})})}),Y=(Xe,Te)=>{Te.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Ve=>{Object.defineProperty(Xe.prototype,Ve,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Ve))})})};class ie{constructor(Te){return Te}}const he=new _.OlP("angularfire2.app.options"),pe=new _.OlP("angularfire2.app.name");function ee(Xe,Te,Ye){const k="object"==typeof Ye&&Ye||{};k.name=k.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const be=E.Z.apps.filter(Me=>Me&&Me.name===k.name)[0]||Te.runOutsideAngular(()=>E.Z.initializeApp(Xe,k));try{JSON.stringify(Xe)!==JSON.stringify(be.options)&&se("error",`${be.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(be)}const se=(Xe,...Te)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Xe](...Te)},me={provide:ie,useFactory:ee,deps:[he,_.R0b,[new _.FiY,pe]]};let ke=(()=>{class Xe{constructor(Ye){E.Z.registerVersion("angularfire",Z.q4.full,"core"),E.Z.registerVersion("angularfire",Z.q4.full,"app-compat"),E.Z.registerVersion("angular",_.q4F.full,Ye.toString())}static initializeApp(Ye,Ve){return{ngModule:Xe,providers:[{provide:he,useValue:Ye},{provide:pe,useValue:Ve}]}}}return Xe.\u0275fac=function(Ye){return new(Ye||Xe)(_.LFG(_.Lbi))},Xe.\u0275mod=_.oAB({type:Xe}),Xe.\u0275inj=_.cJS({providers:[me]}),Xe})();function Ge(Xe,Te,Ye,Ve,k){const[,ye,be]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===Xe)||[];if(ye)return function ze(Xe,Te){try{return Xe.toString()===Te.toString()}catch{return Xe===Te}}(k,be)||(tt("error",`${Te} was already initialized on the ${Ye} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:k,was:be})),ye;{const Me=Ve();return globalThis.\u0275AngularfireInstanceCache.push([Xe,Me,k]),Me}}const _t=!!Gt.hot,tt=(Xe,...Te)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Xe](...Te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Gt,qe,U)=>{U.d(qe,{q4:()=>Ns,iC:()=>dr,fc:()=>on,HU:()=>oe,vb:()=>M,JM:()=>S});var _=U(4650),E=U(259),Z=U(5861),_e=U(9681),K=U(2090),Y=U(4859),ie=U(1877),he=U(8766);const pe="@firebase/installations",ee="0.6.4",se=1e4,me=`w:${ee}`,ke="FIS_v2",Ge="https://firebaseinstallations.googleapis.com/v1",ze=36e5,Te=new K.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(V){return V instanceof K.ZR&&V.code.includes("request-failed")}function Ve({projectId:V}){return`${Ge}/projects/${V}/installations`}function k(V){return{token:V.token,requestStatus:2,expiresIn:bt(V.expiresIn),creationTime:Date.now()}}function ye(V,$){return be.apply(this,arguments)}function be(){return(be=(0,Z.Z)(function*(V,$){const Ae=(yield $.json()).error;return Te.create("request-failed",{requestName:V,serverCode:Ae.code,serverMessage:Ae.message,serverStatus:Ae.status})})).apply(this,arguments)}function Me({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function Re(V){return pt.apply(this,arguments)}function pt(){return(pt=(0,Z.Z)(function*(V){const $=yield V();return $.status>=500&&$.status<600?V():$})).apply(this,arguments)}function bt(V){return Number(V.replace("s","000"))}function rt(){return(rt=(0,Z.Z)(function*({appConfig:V,heartbeatServiceProvider:$},{fid:ne}){const Ae=Ve(V),Ke=Me(V),et=$.getImmediate({optional:!0});if(et){const Fn=yield et.getHeartbeatsHeader();Fn&&Ke.append("x-firebase-client",Fn)}const Qt={method:"POST",headers:Ke,body:JSON.stringify({fid:ne,authVersion:ke,appId:V.appId,sdkVersion:me})},dn=yield Re(()=>fetch(Ae,Qt));if(dn.ok){const Fn=yield dn.json();return{fid:Fn.fid||ne,registrationStatus:2,refreshToken:Fn.refreshToken,authToken:k(Fn.authToken)}}throw yield ye("Create Installation",dn)})).apply(this,arguments)}function vt(V){return new Promise($=>{setTimeout($,V)})}const ut=/^[cdef][\w-]{21}$/,wt="";function yt(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const ne=function Ot(V){return function ot(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return ut.test(ne)?ne:wt}catch{return wt}}function Rt(V){return`${V.appName}!${V.appId}`}const Zt=new Map;function Ft(V,$){const ne=Rt(V);Un(ne,$),function xn(V,$){const ne=function Yn(){return!ir&&"BroadcastChannel"in self&&(ir=new BroadcastChannel("[Firebase] FID Change"),ir.onmessage=V=>{Un(V.data.key,V.data.fid)}),ir}();ne&&ne.postMessage({key:V,fid:$}),function Ur(){0===Zt.size&&ir&&(ir.close(),ir=null)}()}(ne,$)}function Un(V,$){const ne=Zt.get(V);if(ne)for(const Ae of ne)Ae($)}let ir=null;const mr="firebase-installations-database",gn=1,qn="firebase-installations-store";let zr=null;function Dr(){return zr||(zr=(0,he.X3)(mr,gn,{upgrade:(V,$)=>{0===$&&V.createObjectStore(qn)}})),zr}function Nn(V,$){return qt.apply(this,arguments)}function qt(){return(qt=(0,Z.Z)(function*(V,$){const ne=Rt(V),Ke=(yield Dr()).transaction(qn,"readwrite"),et=Ke.objectStore(qn),jt=yield et.get(ne);return yield et.put($,ne),yield Ke.done,(!jt||jt.fid!==$.fid)&&Ft(V,$.fid),$})).apply(this,arguments)}function Dn(V){return li.apply(this,arguments)}function li(){return(li=(0,Z.Z)(function*(V){const $=Rt(V),Ae=(yield Dr()).transaction(qn,"readwrite");yield Ae.objectStore(qn).delete($),yield Ae.done})).apply(this,arguments)}function Or(V,$){return qi.apply(this,arguments)}function qi(){return(qi=(0,Z.Z)(function*(V,$){const ne=Rt(V),Ke=(yield Dr()).transaction(qn,"readwrite"),et=Ke.objectStore(qn),jt=yield et.get(ne),Qt=$(jt);return void 0===Qt?yield et.delete(ne):yield et.put(Qt,ne),yield Ke.done,Qt&&(!jt||jt.fid!==Qt.fid)&&Ft(V,Qt.fid),Qt})).apply(this,arguments)}function wi(V){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,Z.Z)(function*(V){let $;const ne=yield Or(V.appConfig,Ae=>{const Ke=function zn(V){return ui(V||{fid:yt(),registrationStatus:0})}(Ae),et=function ln(V,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(Te.create("app-offline"))};const ne={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},Ae=function Yt(V,$){return Yr.apply(this,arguments)}(V,ne);return{installationEntry:ne,registrationPromise:Ae}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:Vr(V)}:{installationEntry:$}}(V,Ke);return $=et.registrationPromise,et.installationEntry});return ne.fid===wt?{installationEntry:yield $}:{installationEntry:ne,registrationPromise:$}}),Sn.apply(this,arguments)}function Yr(){return Yr=(0,Z.Z)(function*(V,$){try{const ne=yield function Ht(V,$){return rt.apply(this,arguments)}(V,$);return Nn(V.appConfig,ne)}catch(ne){throw Ye(ne)&&409===ne.customData.serverCode?yield Dn(V.appConfig):yield Nn(V.appConfig,{fid:$.fid,registrationStatus:0}),ne}}),Yr.apply(this,arguments)}function Vr(V){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,Z.Z)(function*(V){let $=yield Br(V.appConfig);for(;1===$.registrationStatus;)yield vt(100),$=yield Br(V.appConfig);if(0===$.registrationStatus){const{installationEntry:ne,registrationPromise:Ae}=yield wi(V);return Ae||ne}return $})).apply(this,arguments)}function Br(V){return Or(V,$=>{if(!$)throw Te.create("installation-not-found");return ui($)})}function ui(V){return function Cs(V){return 1===V.registrationStatus&&V.registrationTime+se<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function ci(){return(ci=(0,Z.Z)(function*({appConfig:V,heartbeatServiceProvider:$},ne){const Ae=function Bn(V,{fid:$}){return`${Ve(V)}/${$}/authTokens:generate`}(V,ne),Ke=function Ce(V,{refreshToken:$}){const ne=Me(V);return ne.append("Authorization",function Bt(V){return`${ke} ${V}`}($)),ne}(V,ne),et=$.getImmediate({optional:!0});if(et){const Fn=yield et.getHeartbeatsHeader();Fn&&Ke.append("x-firebase-client",Fn)}const Qt={method:"POST",headers:Ke,body:JSON.stringify({installation:{sdkVersion:me,appId:V.appId}})},dn=yield Re(()=>fetch(Ae,Qt));if(dn.ok)return k(yield dn.json());throw yield ye("Generate Auth Token",dn)})).apply(this,arguments)}function On(V){return $n.apply(this,arguments)}function $n(){return $n=(0,Z.Z)(function*(V,$=!1){let ne;const Ae=yield Or(V.appConfig,et=>{if(!St(et))throw Te.create("not-registered");const jt=et.authToken;if(!$&&function Et(V){return 2===V.requestStatus&&!function ve(V){const $=Date.now();return $<V.creationTime||V.creationTime+V.expiresIn<$+ze}(V)}(jt))return et;if(1===jt.requestStatus)return ne=function nn(V,$){return Tt.apply(this,arguments)}(V,$),et;{if(!navigator.onLine)throw Te.create("app-offline");const Qt=function Ee(V){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:$})}(et);return ne=function Se(V,$){return Pe.apply(this,arguments)}(V,Qt),Qt}});return ne?yield ne:Ae.authToken}),$n.apply(this,arguments)}function Tt(){return(Tt=(0,Z.Z)(function*(V,$){let ne=yield We(V.appConfig);for(;1===ne.authToken.requestStatus;)yield vt(100),ne=yield We(V.appConfig);const Ae=ne.authToken;return 0===Ae.requestStatus?On(V,$):Ae})).apply(this,arguments)}function We(V){return Or(V,$=>{if(!St($))throw Te.create("not-registered");return function Oe(V){return 1===V.requestStatus&&V.requestTime+se<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function Pe(){return Pe=(0,Z.Z)(function*(V,$){try{const ne=yield function ur(V,$){return ci.apply(this,arguments)}(V,$),Ae=Object.assign(Object.assign({},$),{authToken:ne});return yield Nn(V.appConfig,Ae),ne}catch(ne){if(!Ye(ne)||401!==ne.customData.serverCode&&404!==ne.customData.serverCode){const Ae=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield Nn(V.appConfig,Ae)}else yield Dn(V.appConfig);throw ne}}),Pe.apply(this,arguments)}function St(V){return void 0!==V&&2===V.registrationStatus}function Je(){return(Je=(0,Z.Z)(function*(V){const $=V,{installationEntry:ne,registrationPromise:Ae}=yield wi($);return Ae?Ae.catch(console.error):On($).catch(console.error),ne.fid})).apply(this,arguments)}function Le(){return Le=(0,Z.Z)(function*(V,$=!1){const ne=V;return yield function Ne(V){return fe.apply(this,arguments)}(ne),(yield On(ne,$)).token}),Le.apply(this,arguments)}function fe(){return(fe=(0,Z.Z)(function*(V){const{registrationPromise:$}=yield wi(V);$&&(yield $)})).apply(this,arguments)}function bs(V){return Te.create("missing-app-config-values",{valueName:V})}const is="installations",Fi=V=>{const $=V.getProvider("app").getImmediate(),ne=function Li(V){if(!V||!V.options)throw bs("App Configuration");if(!V.name)throw bs("App Name");const $=["projectId","apiKey","appId"];for(const ne of $)if(!V.options[ne])throw bs(ne);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}($);return{app:$,appConfig:ne,heartbeatServiceProvider:(0,_e._getProvider)($,"heartbeat"),_delete:()=>Promise.resolve()}},gs=V=>{const $=V.getProvider("app").getImmediate(),ne=(0,_e._getProvider)($,is).getImmediate();return{getId:()=>function at(V){return Je.apply(this,arguments)}(ne),getToken:Ke=>function Vt(V){return Le.apply(this,arguments)}(ne,Ke)}};(function Xn(){(0,_e._registerComponent)(new Y.wA(is,Fi,"PUBLIC")),(0,_e._registerComponent)(new Y.wA("installations-internal",gs,"PRIVATE"))})(),(0,_e.registerVersion)(pe,ee),(0,_e.registerVersion)(pe,ee,"esm2017");const kr="@firebase/remote-config",ei=new K.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xi{constructor($,ne,Ae,Ke){this.client=$,this.storage=ne,this.storageCache=Ae,this.logger=Ke}isCachedDataFresh($,ne){if(!ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ae=Date.now()-ne,Ke=Ae<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${Ke}.`),Ke}fetch($){var ne=this;return(0,Z.Z)(function*(){const[Ae,Ke]=yield Promise.all([ne.storage.getLastSuccessfulFetchTimestampMillis(),ne.storage.getLastSuccessfulFetchResponse()]);if(Ke&&ne.isCachedDataFresh($.cacheMaxAgeMillis,Ae))return Ke;$.eTag=Ke&&Ke.eTag;const et=yield ne.client.fetch($),jt=[ne.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===et.status&&jt.push(ne.storage.setLastSuccessfulFetchResponse(et)),yield Promise.all(jt),et})()}}function pr(V=navigator){return V.languages&&V.languages[0]||V.language}class Fs{constructor($,ne,Ae,Ke,et,jt){this.firebaseInstallations=$,this.sdkVersion=ne,this.namespace=Ae,this.projectId=Ke,this.apiKey=et,this.appId=jt}fetch($){var ne=this;return(0,Z.Z)(function*(){const[Ae,Ke]=yield Promise.all([ne.firebaseInstallations.getId(),ne.firebaseInstallations.getToken()]),jt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ne.projectId}/namespaces/${ne.namespace}:fetch?key=${ne.apiKey}`,Qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},dn={sdk_version:ne.sdkVersion,app_instance_id:Ae,app_instance_id_token:Ke,app_id:ne.appId,language_code:pr()},Fn={method:"POST",headers:Qt,body:JSON.stringify(dn)},hr=fetch(jt,Fn),In=new Promise((js,ua)=>{$.signal.addEventListener(()=>{const jh=new Error("The operation was aborted.");jh.name="AbortError",ua(jh)})});let Da;try{yield Promise.race([hr,In]),Da=yield hr}catch(js){let ua="fetch-client-network";throw"AbortError"===js?.name&&(ua="fetch-timeout"),ei.create(ua,{originalErrorMessage:js?.message})}let zi=Da.status;const bi=Da.headers.get("ETag")||void 0;let Ga,Hl;if(200===Da.status){let js;try{js=yield Da.json()}catch(ua){throw ei.create("fetch-client-parse",{originalErrorMessage:ua?.message})}Ga=js.entries,Hl=js.state}if("INSTANCE_STATE_UNSPECIFIED"===Hl?zi=500:"NO_CHANGE"===Hl?zi=304:("NO_TEMPLATE"===Hl||"EMPTY_CONFIG"===Hl)&&(Ga={}),304!==zi&&200!==zi)throw ei.create("fetch-status",{httpStatus:zi});return{status:zi,eTag:bi,config:Ga}})()}}class je{constructor($,ne){this.client=$,this.storage=ne}fetch($){var ne=this;return(0,Z.Z)(function*(){const Ae=(yield ne.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ne.attemptFetch($,Ae)})()}attemptFetch($,{throttleEndTimeMillis:ne,backoffCount:Ae}){var Ke=this;return(0,Z.Z)(function*(){yield function Vi(V,$){return new Promise((ne,Ae)=>{const Ke=Math.max($-Date.now(),0),et=setTimeout(ne,Ke);V.addEventListener(()=>{clearTimeout(et),Ae(ei.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,ne);try{const et=yield Ke.client.fetch($);return yield Ke.storage.deleteThrottleMetadata(),et}catch(et){if(!function Ue(V){if(!(V instanceof K.ZR&&V.customData))return!1;const $=Number(V.customData.httpStatus);return 429===$||500===$||503===$||504===$}(et))throw et;const jt={throttleEndTimeMillis:Date.now()+(0,K.$s)(Ae),backoffCount:Ae+1};return yield Ke.storage.setThrottleMetadata(jt),Ke.attemptFetch($,jt)}})()}}class $t{constructor($,ne,Ae,Ke,et){this.app=$,this._client=ne,this._storageCache=Ae,this._storage=Ke,this._logger=et,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mn(V,$){const ne=V.target.error||void 0;return ei.create($,{originalErrorMessage:ne&&ne?.message})}const Mn="app_namespace_store";class Pi{constructor($,ne,Ae,Ke=function Wr(){return new Promise((V,$)=>{try{const ne=indexedDB.open("firebase_remote_config",1);ne.onerror=Ae=>{$(mn(Ae,"storage-open"))},ne.onsuccess=Ae=>{V(Ae.target.result)},ne.onupgradeneeded=Ae=>{0===Ae.oldVersion&&Ae.target.result.createObjectStore(Mn,{keyPath:"compositeKey"})}}catch(ne){$(ei.create("storage-open",{originalErrorMessage:ne?.message}))}})}()){this.appId=$,this.appName=ne,this.namespace=Ae,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var ne=this;return(0,Z.Z)(function*(){const Ae=yield ne.openDbPromise;return new Promise((Ke,et)=>{const Qt=Ae.transaction([Mn],"readonly").objectStore(Mn),dn=ne.createCompositeKey($);try{const Fn=Qt.get(dn);Fn.onerror=hr=>{et(mn(hr,"storage-get"))},Fn.onsuccess=hr=>{const In=hr.target.result;Ke(In?In.value:void 0)}}catch(Fn){et(ei.create("storage-get",{originalErrorMessage:Fn?.message}))}})})()}set($,ne){var Ae=this;return(0,Z.Z)(function*(){const Ke=yield Ae.openDbPromise;return new Promise((et,jt)=>{const dn=Ke.transaction([Mn],"readwrite").objectStore(Mn),Fn=Ae.createCompositeKey($);try{const hr=dn.put({compositeKey:Fn,value:ne});hr.onerror=In=>{jt(mn(In,"storage-set"))},hr.onsuccess=()=>{et()}}catch(hr){jt(ei.create("storage-set",{originalErrorMessage:hr?.message}))}})})()}delete($){var ne=this;return(0,Z.Z)(function*(){const Ae=yield ne.openDbPromise;return new Promise((Ke,et)=>{const Qt=Ae.transaction([Mn],"readwrite").objectStore(Mn),dn=ne.createCompositeKey($);try{const Fn=Qt.delete(dn);Fn.onerror=hr=>{et(mn(hr,"storage-delete"))},Fn.onsuccess=()=>{Ke()}}catch(Fn){et(ei.create("storage-delete",{originalErrorMessage:Fn?.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Ji{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,Z.Z)(function*(){const ne=$.storage.getLastFetchStatus(),Ae=$.storage.getLastSuccessfulFetchTimestampMillis(),Ke=$.storage.getActiveConfig(),et=yield ne;et&&($.lastFetchStatus=et);const jt=yield Ae;jt&&($.lastSuccessfulFetchTimestampMillis=jt);const Qt=yield Ke;Qt&&($.activeConfig=Qt)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function ms(){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,Z.Z)(function*(){if(!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}!function Bi(){(0,_e._registerComponent)(new Y.wA("remote-config",function V($,{instanceIdentifier:ne}){const Ae=$.getProvider("app").getImmediate(),Ke=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ei.create("registration-window");if(!(0,K.hl)())throw ei.create("indexed-db-unavailable");const{projectId:et,apiKey:jt,appId:Qt}=Ae.options;if(!et)throw ei.create("registration-project-id");if(!jt)throw ei.create("registration-api-key");if(!Qt)throw ei.create("registration-app-id");const dn=new Pi(Qt,Ae.name,ne=ne||"firebase"),Fn=new Ji(dn),hr=new ie.Yd(kr);hr.logLevel=ie.in.ERROR;const In=new Fs(Ke,_e.SDK_VERSION,ne,et,jt,Qt),Da=new je(In,dn),zi=new xi(Da,dn,Fn,hr),bi=new $t(Ae,zi,Fn,dn,hr);return function sr(V){const $=(0,K.m9)(V);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(bi),bi},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(kr,"0.4.4"),(0,_e.registerVersion)(kr,"0.4.4","esm2017")}();const _a="/firebase-messaging-sw.js",Ds="/firebase-cloud-messaging-push-scope",vo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",io="https://fcmregistrations.googleapis.com/v1",so="google.c.a.c_id",ya="google.c.a.c_l",Xo="google.c.a.ts",ss="google.c.a.e";var Ws=(()=>{return(V=Ws||(Ws={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",Ws;var V})();function os(V){const $=new Uint8Array(V);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ao(V){const ne=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ae=atob(ne),Ke=new Uint8Array(Ae.length);for(let et=0;et<Ae.length;++et)Ke[et]=Ae.charCodeAt(et);return Ke}const Oa="fcm_token_details_db",ka=5,Xi="fcm_token_object_Store";function ea(){return ea=(0,Z.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(et=>et.name).includes(Oa))return null;let $=null;return(yield(0,he.X3)(Oa,ka,{upgrade:(Ae=(0,Z.Z)(function*(Ke,et,jt,Qt){var dn;if(et<2||!Ke.objectStoreNames.contains(Xi))return;const Fn=Qt.objectStore(Xi),hr=yield Fn.index("fcmSenderId").get(V);if(yield Fn.clear(),hr)if(2===et){const In=hr;if(!In.auth||!In.p256dh||!In.endpoint)return;$={token:In.fcmToken,createTime:null!==(dn=In.createTime)&&void 0!==dn?dn:Date.now(),subscriptionOptions:{auth:In.auth,p256dh:In.p256dh,endpoint:In.endpoint,swScope:In.swScope,vapidKey:"string"==typeof In.vapidKey?In.vapidKey:os(In.vapidKey)}}}else if(3===et){const In=hr;$={token:In.fcmToken,createTime:In.createTime,subscriptionOptions:{auth:os(In.auth),p256dh:os(In.p256dh),endpoint:In.endpoint,swScope:In.swScope,vapidKey:os(In.vapidKey)}}}else if(4===et){const In=hr;$={token:In.fcmToken,createTime:In.createTime,subscriptionOptions:{auth:os(In.auth),p256dh:os(In.p256dh),endpoint:In.endpoint,swScope:In.swScope,vapidKey:os(In.vapidKey)}}}}),function(et,jt,Qt,dn){return Ae.apply(this,arguments)})})).close(),yield(0,he.Lj)(Oa),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function as(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:$}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}($)?$:null;var Ae}),ea.apply(this,arguments)}const ta="firebase-messaging-database",cr=1,Ks="firebase-messaging-store";let Hi=null;function Us(){return Hi||(Hi=(0,he.X3)(ta,cr,{upgrade:(V,$)=>{0===$&&V.createObjectStore(Ks)}})),Hi}function va(V){return ls.apply(this,arguments)}function ls(){return ls=(0,Z.Z)(function*(V){const $=Ms(V),Ae=yield(yield Us()).transaction(Ks).objectStore(Ks).get($);if(Ae)return Ae;{const Ke=yield function As(V){return ea.apply(this,arguments)}(V.appConfig.senderId);if(Ke)return yield lo(V,Ke),Ke}}),ls.apply(this,arguments)}function lo(V,$){return uo.apply(this,arguments)}function uo(){return(uo=(0,Z.Z)(function*(V,$){const ne=Ms(V),Ke=(yield Us()).transaction(Ks,"readwrite");return yield Ke.objectStore(Ks).put($,ne),yield Ke.done,$})).apply(this,arguments)}function Eo(){return(Eo=(0,Z.Z)(function*(V){const $=Ms(V),Ae=(yield Us()).transaction(Ks,"readwrite");yield Ae.objectStore(Ks).delete($),yield Ae.done})).apply(this,arguments)}function Ms({appConfig:V}){return V.appId}const _i=new K.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function co(V,$){return ti.apply(this,arguments)}function ti(){return(ti=(0,Z.Z)(function*(V,$){const ne=yield ys(V),Ae=ho($),Ke={method:"POST",headers:ne,body:JSON.stringify(Ae)};let et;try{et=yield(yield fetch(La(V.appConfig),Ke)).json()}catch(jt){throw _i.create("token-subscribe-failed",{errorInfo:jt?.toString()})}if(et.error)throw _i.create("token-subscribe-failed",{errorInfo:et.error.message});if(!et.token)throw _i.create("token-subscribe-no-token");return et.token})).apply(this,arguments)}function na(){return(na=(0,Z.Z)(function*(V,$){const ne=yield ys(V),Ae=ho($.subscriptionOptions),Ke={method:"PATCH",headers:ne,body:JSON.stringify(Ae)};let et;try{et=yield(yield fetch(`${La(V.appConfig)}/${$.token}`,Ke)).json()}catch(jt){throw _i.create("token-update-failed",{errorInfo:jt?.toString()})}if(et.error)throw _i.create("token-update-failed",{errorInfo:et.error.message});if(!et.token)throw _i.create("token-update-no-token");return et.token})).apply(this,arguments)}function ji(V,$){return ra.apply(this,arguments)}function ra(){return(ra=(0,Z.Z)(function*(V,$){const Ae={method:"DELETE",headers:yield ys(V)};try{const et=yield(yield fetch(`${La(V.appConfig)}/${$}`,Ae)).json();if(et.error)throw _i.create("token-unsubscribe-failed",{errorInfo:et.error.message})}catch(Ke){throw _i.create("token-unsubscribe-failed",{errorInfo:Ke?.toString()})}})).apply(this,arguments)}function La({projectId:V}){return`${io}/projects/${V}/registrations`}function ys(V){return $i.apply(this,arguments)}function $i(){return($i=(0,Z.Z)(function*({appConfig:V,installations:$}){const ne=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${ne}`})})).apply(this,arguments)}function ho({p256dh:V,auth:$,endpoint:ne,vapidKey:Ae}){const Ke={web:{endpoint:ne,auth:$,p256dh:V}};return Ae!==vo&&(Ke.web.applicationPubKey=Ae),Ke}const Gi=6048e5;function Zi(){return Zi=(0,Z.Z)(function*(V){const $=yield function Co(V,$){return fo.apply(this,arguments)}(V.swRegistration,V.vapidKey),ne={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:$.endpoint,auth:os($.getKey("auth")),p256dh:os($.getKey("p256dh"))},Ae=yield va(V.firebaseDependencies);if(Ae){if(function yl(V,$){return $.vapidKey===V.vapidKey&&$.endpoint===V.endpoint&&$.auth===V.auth&&$.p256dh===V.p256dh}(Ae.subscriptionOptions,ne))return Date.now()>=Ae.createTime+Gi?function Vn(V,$){return Fo.apply(this,arguments)}(V,{token:Ae.token,createTime:Date.now(),subscriptionOptions:ne}):Ae.token;try{yield ji(V.firebaseDependencies,Ae.token)}catch(Ke){console.warn(Ke)}return Fa(V.firebaseDependencies,ne)}return Fa(V.firebaseDependencies,ne)}),Zi.apply(this,arguments)}function ia(){return ia=(0,Z.Z)(function*(V){const $=yield va(V.firebaseDependencies);$&&(yield ji(V.firebaseDependencies,$.token),yield function Ea(V){return Eo.apply(this,arguments)}(V.firebaseDependencies));const ne=yield V.swRegistration.pushManager.getSubscription();return!ne||ne.unsubscribe()}),ia.apply(this,arguments)}function Fo(){return Fo=(0,Z.Z)(function*(V,$){try{const ne=yield function _s(V,$){return na.apply(this,arguments)}(V.firebaseDependencies,$),Ae=Object.assign(Object.assign({},$),{token:ne,createTime:Date.now()});return yield lo(V.firebaseDependencies,Ae),ne}catch(ne){throw yield function Lo(V){return ia.apply(this,arguments)}(V),ne}}),Fo.apply(this,arguments)}function Fa(V,$){return wo.apply(this,arguments)}function wo(){return(wo=(0,Z.Z)(function*(V,$){const Ae={token:yield co(V,$),createTime:Date.now(),subscriptionOptions:$};return yield lo(V,Ae),Ae.token})).apply(this,arguments)}function fo(){return(fo=(0,Z.Z)(function*(V,$){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ao($)})})).apply(this,arguments)}function sa(V){const $={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function bo(V,$){if(!$.notification)return;V.notification={};const ne=$.notification.title;ne&&(V.notification.title=ne);const Ae=$.notification.body;Ae&&(V.notification.body=Ae);const Ke=$.notification.image;Ke&&(V.notification.image=Ke);const et=$.notification.icon;et&&(V.notification.icon=et)}($,V),function O(V,$){$.data&&(V.data=$.data)}($,V),function B(V,$){var ne,Ae,Ke,et,jt;if(!($.fcmOptions||null!==(ne=$.notification)&&void 0!==ne&&ne.click_action))return;V.fcmOptions={};const Qt=null!==(Ke=null===(Ae=$.fcmOptions)||void 0===Ae?void 0:Ae.link)&&void 0!==Ke?Ke:null===(et=$.notification)||void 0===et?void 0:et.click_action;Qt&&(V.fcmOptions.link=Qt);const dn=null===(jt=$.fcmOptions)||void 0===jt?void 0:jt.analytics_label;dn&&(V.fcmOptions.analyticsLabel=dn)}($,V),$}function ue(V,$){const ne=[];for(let Ae=0;Ae<V.length;Ae++)ne.push(V.charAt(Ae)),Ae<$.length&&ne.push($.charAt(Ae));return ne.join("")}function cn(V){return _i.create("missing-app-config-values",{valueName:V})}ue("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ue("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yr{constructor($,ne,Ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function st(V){if(!V||!V.options)throw cn("App Configuration Object");if(!V.name)throw cn("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:ne}=V;for(const Ae of $)if(!ne[Ae])throw cn(Ae);return{appName:V.name,projectId:ne.projectId,apiKey:ne.apiKey,appId:ne.appId,senderId:ne.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:Ke,installations:ne,analyticsProvider:Ae}}_delete(){return Promise.resolve()}}function ni(V){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,Z.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(_a,{scope:Ds}),V.swRegistration.update().catch(()=>{})}catch($){throw _i.create("failed-service-worker-registration",{browserErrorMessage:$?.message})}})).apply(this,arguments)}function xs(){return(xs=(0,Z.Z)(function*(V,$){if(!$&&!V.swRegistration&&(yield ni(V)),$||!V.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw _i.create("invalid-sw-registration");V.swRegistration=$}})).apply(this,arguments)}function Io(){return(Io=(0,Z.Z)(function*(V,$){$?V.vapidKey=$:V.vapidKey||(V.vapidKey=vo)})).apply(this,arguments)}function cs(){return cs=(0,Z.Z)(function*(V,$){if(!navigator)throw _i.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _i.create("permission-blocked");return yield function Ci(V,$){return Io.apply(this,arguments)}(V,$?.vapidKey),yield function pi(V,$){return xs.apply(this,arguments)}(V,$?.serviceWorkerRegistration),function el(V){return Zi.apply(this,arguments)}(V)}),cs.apply(this,arguments)}function Uo(){return(Uo=(0,Z.Z)(function*(V,$,ne){const Ae=function Vo(V){switch(V){case Ws.NOTIFICATION_CLICKED:return"notification_open";case Ws.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}($);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(Ae,{message_id:ne[so],message_name:ne[ya],message_time:ne[Xo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ca(){return Ca=(0,Z.Z)(function*(V,$){const ne=$.data;if(!ne.isFirebaseMessaging)return;V.onMessageHandler&&ne.messageType===Ws.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(sa(ne)):V.onMessageHandler.next(sa(ne)));const Ae=ne.data;(function F(V){return"object"==typeof V&&!!V&&so in V})(Ae)&&"1"===Ae[ss]&&(yield function po(V,$,ne){return Uo.apply(this,arguments)}(V,ne.messageType,Ae))}),Ca.apply(this,arguments)}const vl="@firebase/messaging",Ua=V=>{const $=new yr(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ne=>function wa(V,$){return Ca.apply(this,arguments)}($,ne)),$},Ni=V=>{const $=V.getProvider("messaging").getImmediate();return{getToken:Ae=>function us(V,$){return cs.apply(this,arguments)}($,Ae)}};function tl(){return oa.apply(this,arguments)}function oa(){return(oa=(0,Z.Z)(function*(){try{yield(0,K.eu)()}catch{return!1}return typeof window<"u"&&(0,K.hl)()&&(0,K.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bo(){(0,_e._registerComponent)(new Y.wA("messaging",Ua,"PUBLIC")),(0,_e._registerComponent)(new Y.wA("messaging-internal",Ni,"PRIVATE")),(0,_e.registerVersion)(vl,"0.12.4"),(0,_e.registerVersion)(vl,"0.12.4","esm2017")}();const ba="analytics",ds="firebase_id",Ps="origin",or=6e4,xu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",aa="https://www.googletagmanager.com/gtag/js",ri=new ie.Yd("@firebase/analytics"),qs=new K.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function kl(V){if(!V.startsWith(aa)){const $=qs.create("invalid-gtag-resource",{gtagURL:V});return ri.warn($.message),""}return V}function Ll(V){return Promise.all(V.map($=>$.catch(ne=>ne)))}function j(){return(j=(0,Z.Z)(function*(V,$,ne,Ae,Ke,et){const jt=Ae[Ke];try{if(jt)yield $[jt];else{const dn=(yield Ll(ne)).find(Fn=>Fn.measurementId===Ke);dn&&(yield $[dn.appId])}}catch(Qt){ri.error(Qt)}V("config",Ke,et)})).apply(this,arguments)}function Ie(){return(Ie=(0,Z.Z)(function*(V,$,ne,Ae,Ke){try{let et=[];if(Ke&&Ke.send_to){let jt=Ke.send_to;Array.isArray(jt)||(jt=[jt]);const Qt=yield Ll(ne);for(const dn of jt){const Fn=Qt.find(In=>In.measurementId===dn),hr=Fn&&$[Fn.appId];if(!hr){et=[];break}et.push(hr)}}0===et.length&&(et=Object.values($)),yield Promise.all(et),V("event",Ae,Ke||{})}catch(et){ri.error(et)}})).apply(this,arguments)}const $r=30,Wn=new class Ln{constructor($={},ne=1e3){this.throttleMetadata=$,this.intervalMillis=ne}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,ne){this.throttleMetadata[$]=ne}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function Oi(V){return new Headers({Accept:"application/json","x-goog-api-key":V})}function sn(){return(sn=(0,Z.Z)(function*(V){var $;const{appId:ne,apiKey:Ae}=V,Ke={method:"GET",headers:Oi(Ae)},et=xu.replace("{app-id}",ne),jt=yield fetch(et,Ke);if(200!==jt.status&&304!==jt.status){let Qt="";try{const dn=yield jt.json();null!==($=dn.error)&&void 0!==$&&$.message&&(Qt=dn.error.message)}catch{}throw qs.create("config-fetch-failed",{httpStatus:jt.status,responseMessage:Qt})}return jt.json()})).apply(this,arguments)}function Wt(){return(Wt=(0,Z.Z)(function*(V,$=Wn,ne){const{appId:Ae,apiKey:Ke,measurementId:et}=V.options;if(!Ae)throw qs.create("no-app-id");if(!Ke){if(et)return{measurementId:et,appId:Ae};throw qs.create("no-api-key")}const jt=$.getThrottleMetadata(Ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qt=new Ta;return setTimeout((0,Z.Z)(function*(){Qt.abort()}),void 0!==ne?ne:or),ct({appId:Ae,apiKey:Ke,measurementId:et},jt,Qt,$)})).apply(this,arguments)}function ct(V,$,ne){return Mt.apply(this,arguments)}function Mt(){return Mt=(0,Z.Z)(function*(V,{throttleEndTimeMillis:$,backoffCount:ne},Ae,Ke=Wn){var et;const{appId:jt,measurementId:Qt}=V;try{yield function ii(V,$){return new Promise((ne,Ae)=>{const Ke=Math.max($-Date.now(),0),et=setTimeout(ne,Ke);V.addEventListener(()=>{clearTimeout(et),Ae(qs.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}(Ae,$)}catch(dn){if(Qt)return ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${dn?.message}]`),{appId:jt,measurementId:Qt};throw dn}try{const dn=yield function zt(V){return sn.apply(this,arguments)}(V);return Ke.deleteThrottleMetadata(jt),dn}catch(dn){const Fn=dn;if(!function mo(V){if(!(V instanceof K.ZR&&V.customData))return!1;const $=Number(V.customData.httpStatus);return 429===$||500===$||503===$||504===$}(Fn)){if(Ke.deleteThrottleMetadata(jt),Qt)return ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${Fn?.message}]`),{appId:jt,measurementId:Qt};throw dn}const hr=503===Number(null===(et=Fn?.customData)||void 0===et?void 0:et.httpStatus)?(0,K.$s)(ne,Ke.intervalMillis,$r):(0,K.$s)(ne,Ke.intervalMillis),In={throttleEndTimeMillis:Date.now()+hr,backoffCount:ne+1};return Ke.setThrottleMetadata(jt,In),ri.debug(`Calling attemptFetch again in ${hr} millis`),ct(V,In,Ae,Ke)}}),Mt.apply(this,arguments)}class Ta{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let To,er;function Fl(){return(Fl=(0,Z.Z)(function*(V,$,ne,Ae,Ke){if(Ke&&Ke.global)V("event",ne,Ae);else{const et=yield $;V("event",ne,Object.assign(Object.assign({},Ae),{send_to:et}))}})).apply(this,arguments)}function ge(){return(ge=(0,Z.Z)(function*(){if(!(0,K.hl)())return ri.warn(qs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,K.eu)()}catch(V){return ri.warn(qs.create("indexeddb-unavailable",{errorInfo:V?.toString()}).message),!1}return!0})).apply(this,arguments)}function yi(){return yi=(0,Z.Z)(function*(V,$,ne,Ae,Ke,et,jt){var Qt;const dn=function Ia(V){return Wt.apply(this,arguments)}(V);dn.then(zi=>{ne[zi.measurementId]=zi.appId,V.options.measurementId&&zi.measurementId!==V.options.measurementId&&ri.warn(`The measurement ID in the local Firebase config (${V.options.measurementId}) does not match the measurement ID fetched from the server (${zi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zi=>ri.error(zi)),$.push(dn);const Fn=function Zs(){return ge.apply(this,arguments)}().then(zi=>{if(zi)return Ae.getId()}),[hr,In]=yield Promise.all([dn,Fn]);(function yn(V){const $=window.document.getElementsByTagName("script");for(const ne of Object.values($))if(ne.src&&ne.src.includes(aa)&&ne.src.includes(V))return ne;return null})(et)||function ou(V,$){const ne=function su(V,$){let ne;return window.trustedTypes&&(ne=window.trustedTypes.createPolicy(V,$)),ne}("firebase-js-sdk-policy",{createScriptURL:kl}),Ae=document.createElement("script"),Ke=`${aa}?l=${V}&id=${$}`;Ae.src=ne?ne?.createScriptURL(Ke):Ke,Ae.async=!0,document.head.appendChild(Ae)}(et,hr.measurementId),er&&(Ke("consent","default",er),function si(V){er=V}(void 0)),Ke("js",new Date);const Da=null!==(Qt=jt?.config)&&void 0!==Qt?Qt:{};return Da[Ps]="firebase",Da.update=!0,null!=In&&(Da[ds]=In),Ke("config",hr.measurementId,Da),To&&(Ke("set",To),function bn(V){To=V}(void 0)),hr.measurementId}),yi.apply(this,arguments)}class tn{constructor($){this.app=$}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},Do=[];const jo={};let Sa,Vs,Lr="dataLayer",Cr="gtag",au=!1;function bl(V,$,ne){!function Ys(){const V=[];if((0,K.ru)()&&V.push("This is a browser extension environment."),(0,K.zI)()||V.push("Cookies are not available."),V.length>0){const $=V.map((Ae,Ke)=>`(${Ke+1}) ${Ae}`).join(" "),ne=qs.create("invalid-analytics-context",{errorInfo:$});ri.warn(ne.message)}}();const Ae=V.options.appId;if(!Ae)throw qs.create("no-app-id");if(!V.options.apiKey){if(!V.options.measurementId)throw qs.create("no-api-key");ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${V.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[Ae])throw qs.create("already-exists",{id:Ae});if(!au){!function N(V){let $=[];Array.isArray(window[V])?$=window[V]:window[V]=$}(Lr);const{wrappedGtag:et,gtagCore:jt}=function xt(V,$,ne,Ae,Ke){let et=function(...jt){window[Ae].push(arguments)};return window[Ke]&&"function"==typeof window[Ke]&&(et=window[Ke]),window[Ke]=function mt(V,$,ne,Ae){function et(){return et=(0,Z.Z)(function*(jt,Qt,dn){try{"event"===jt?yield function le(V,$,ne,Ae,Ke){return Ie.apply(this,arguments)}(V,$,ne,Qt,dn):"config"===jt?yield function Q(V,$,ne,Ae,Ke,et){return j.apply(this,arguments)}(V,$,ne,Ae,Qt,dn):"consent"===jt?V("consent","update",dn):V("set",Qt)}catch(Fn){ri.error(Fn)}}),et.apply(this,arguments)}return function Ke(jt,Qt,dn){return et.apply(this,arguments)}}(et,V,$,ne),{gtagCore:et,wrappedGtag:window[Ke]}}(oi,Do,jo,Lr,Cr);Vs=et,Sa=jt,au=!0}return oi[Ae]=function il(V,$,ne,Ae,Ke,et,jt){return yi.apply(this,arguments)}(V,Do,jo,$,Sa,Lr,ne),new tn(V)}function hs(){return ol.apply(this,arguments)}function ol(){return(ol=(0,Z.Z)(function*(){if((0,K.ru)()||!(0,K.zI)()||!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch{return!1}})).apply(this,arguments)}const Ba="@firebase/analytics";!function Vl(){(0,_e._registerComponent)(new Y.wA(ba,($,{options:ne})=>bl($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,_e._registerComponent)(new Y.wA("analytics-internal",function V($){try{const ne=$.getProvider(ba).getImmediate();return{logEvent:(Ae,Ke,et)=>function Fr(V,$,ne,Ae){V=(0,K.m9)(V),function So(V,$,ne,Ae,Ke){return Fl.apply(this,arguments)}(Vs,oi[V.app.options.appId],$,ne,Ae).catch(Ke=>ri.error(Ke))}(ne,Ae,Ke,et)}}catch(ne){throw qs.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,_e.registerVersion)(Ba,"0.9.5"),(0,_e.registerVersion)(Ba,"0.9.5","esm2017")}();var Bl=U(4408),Ao=U(7565);const lc=new class Ha extends Ao.v{}(class Qs extends Bl.o{constructor($,ne){super($,ne),this.scheduler=$,this.work=ne}schedule($,ne=0){return ne>0?super.schedule($,ne):(this.delay=ne,this.state=$,this.scheduler.flush(this),this)}execute($,ne){return ne>0||this.closed?super.execute($,ne):this._execute($,ne)}requestAsyncId($,ne,Ae=0){return null!=Ae&&Ae>0||null==Ae&&this.delay>0?super.requestAsyncId($,ne,Ae):($.flush(this),0)}});var Mr=U(4986),Il=U(8505),ja=U(5363),Go=U(9468);const Ns=new _.GfV("7.5.0"),_o="__angularfire_symbol__analyticsIsSupportedValue",Js="__angularfire_symbol__analyticsIsSupported",Tl="__angularfire_symbol__remoteConfigIsSupportedValue",Hs="__angularfire_symbol__remoteConfigIsSupported",Nu="__angularfire_symbol__messagingIsSupportedValue",Ou="__angularfire_symbol__messagingIsSupported";function S(V,$,ne){if($){if(1===$.length)return $[0];const et=$.filter(jt=>jt.app===ne);if(1===et.length)return et[0]}return ne.container.getProvider(V).getImmediate({optional:!0})}globalThis[Js]||(globalThis[Js]=hs().then(V=>globalThis[_o]=V).catch(()=>globalThis[_o]=!1)),globalThis[Ou]||(globalThis[Ou]=tl().then(V=>globalThis[Nu]=V).catch(()=>globalThis[Nu]=!1)),globalThis[Hs]||(globalThis[Hs]=ms().then(V=>globalThis[Tl]=V).catch(()=>globalThis[Tl]=!1));const M=(V,$)=>{const ne=$?[$]:(0,E.C6)(),Ae=[];return ne.forEach(Ke=>{Ke.container.getProvider(V).instances.forEach(jt=>{Ae.includes(jt)||Ae.push(jt)})}),Ae};function b(){}class P{constructor($,ne=lc){this.zone=$,this.delegate=ne}now(){return this.delegate.now()}schedule($,ne,Ae){const Ke=this.zone;return this.delegate.schedule(function(jt){Ke.runGuarded(()=>{$.apply(this,[jt])})},ne,Ae)}}class z{constructor($){this.zone=$,this.task=null}call($,ne){const Ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",b,{},b,b)),ne.pipe((0,Il.b)({next:Ae,complete:Ae,error:Ae})).subscribe($).add(Ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oe=(()=>{class V{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new P(Zone.current)),this.insideAngular=ne.run(()=>new P(Zone.current,Mr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(ne){return new(ne||V)(_.LFG(_.R0b))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function ce(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function on(V){return V.pipe((0,ja.Q)(ce().outsideAngular))}function dr(V){return ce(),function gi(V){return function(ne){return(ne=ne.lift(new z(V.ngZone))).pipe((0,Go.R)(V.outsideAngular),(0,ja.Q)(V.insideAngular))}}(ce())(V)}},2090:(Gt,qe,U)=>{U.d(qe,{$s:()=>Se,BH:()=>ye,DV:()=>zr,Dv:()=>Ar,G6:()=>ut,GJ:()=>gn,L:()=>pe,LL:()=>Ft,Pz:()=>k,Sg:()=>be,UG:()=>Re,UI:()=>Nn,US:()=>Y,Wj:()=>Cs,Wl:()=>xn,Yr:()=>ot,ZB:()=>me,ZR:()=>Zt,aH:()=>Ve,b$:()=>Bt,cI:()=>Un,dS:()=>ci,eu:()=>yt,g5:()=>Z,gK:()=>Br,gQ:()=>Sn,h$:()=>he,hl:()=>wt,hu:()=>E,jU:()=>pt,lb:()=>ur,m9:()=>Et,ne:()=>zn,p$:()=>se,pd:()=>wi,r3:()=>qn,ru:()=>bt,tV:()=>ee,uI:()=>Ce,ug:()=>Bn,vZ:()=>qt,w1:()=>rt,w9:()=>mr,xO:()=>Or,xb:()=>Dr,z$:()=>Me,zI:()=>Ot,zd:()=>qi});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},E=function(ve,Ee){if(!ve)throw Z(Ee)},Z=function(ve){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ve)},_e=function(ve){const Ee=[];let Oe=0;for(let at=0;at<ve.length;at++){let Je=ve.charCodeAt(at);Je<128?Ee[Oe++]=Je:Je<2048?(Ee[Oe++]=Je>>6|192,Ee[Oe++]=63&Je|128):55296==(64512&Je)&&at+1<ve.length&&56320==(64512&ve.charCodeAt(at+1))?(Je=65536+((1023&Je)<<10)+(1023&ve.charCodeAt(++at)),Ee[Oe++]=Je>>18|240,Ee[Oe++]=Je>>12&63|128,Ee[Oe++]=Je>>6&63|128,Ee[Oe++]=63&Je|128):(Ee[Oe++]=Je>>12|224,Ee[Oe++]=Je>>6&63|128,Ee[Oe++]=63&Je|128)}return Ee},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,Ee){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Oe=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,at=[];for(let Je=0;Je<ve.length;Je+=3){const Vt=ve[Je],Le=Je+1<ve.length,Ne=Le?ve[Je+1]:0,fe=Je+2<ve.length,He=fe?ve[Je+2]:0;let fn=(15&Ne)<<2|He>>6,hn=63&He;fe||(hn=64,Le||(fn=64)),at.push(Oe[Vt>>2],Oe[(3&Vt)<<4|Ne>>4],Oe[fn],Oe[hn])}return at.join("")},encodeString(ve,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(ve):this.encodeByteArray(_e(ve),Ee)},decodeString(ve,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(ve):function(ve){const Ee=[];let Oe=0,at=0;for(;Oe<ve.length;){const Je=ve[Oe++];if(Je<128)Ee[at++]=String.fromCharCode(Je);else if(Je>191&&Je<224){const Vt=ve[Oe++];Ee[at++]=String.fromCharCode((31&Je)<<6|63&Vt)}else if(Je>239&&Je<365){const fe=((7&Je)<<18|(63&ve[Oe++])<<12|(63&ve[Oe++])<<6|63&ve[Oe++])-65536;Ee[at++]=String.fromCharCode(55296+(fe>>10)),Ee[at++]=String.fromCharCode(56320+(1023&fe))}else{const Vt=ve[Oe++],Le=ve[Oe++];Ee[at++]=String.fromCharCode((15&Je)<<12|(63&Vt)<<6|63&Le)}}return Ee.join("")}(this.decodeStringToByteArray(ve,Ee))},decodeStringToByteArray(ve,Ee){this.init_();const Oe=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,at=[];for(let Je=0;Je<ve.length;){const Vt=Oe[ve.charAt(Je++)],Ne=Je<ve.length?Oe[ve.charAt(Je)]:0;++Je;const He=Je<ve.length?Oe[ve.charAt(Je)]:64;++Je;const Lt=Je<ve.length?Oe[ve.charAt(Je)]:64;if(++Je,null==Vt||null==Ne||null==He||null==Lt)throw new ie;at.push(Vt<<2|Ne>>4),64!==He&&(at.push(Ne<<4&240|He>>2),64!==Lt&&at.push(He<<6&192|Lt))}return at},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}};class ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(ve){const Ee=_e(ve);return Y.encodeByteArray(Ee,!0)},pe=function(ve){return he(ve).replace(/\./g,"")},ee=function(ve){try{return Y.decodeString(ve,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function se(ve){return me(void 0,ve)}function me(ve,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return Ee}for(const Oe in Ee)!Ee.hasOwnProperty(Oe)||!ke(Oe)||(ve[Oe]=me(ve[Oe],Ee[Oe]));return ve}function ke(ve){return"__proto__"!==ve}const Xe=()=>{try{return function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ee=ve&&ee(ve[1]);return Ee&&JSON.parse(Ee)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},Ve=()=>{var ve;return null===(ve=Xe())||void 0===ve?void 0:ve.config},k=ve=>{var Ee;return null===(Ee=Xe())||void 0===Ee?void 0:Ee[`_${ve}`]};class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,Oe)=>{this.resolve=Ee,this.reject=Oe})}wrapCallback(Ee){return(Oe,at)=>{Oe?this.reject(Oe):this.resolve(at),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(Oe):Ee(Oe,at))}}}function be(ve,Ee){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const at=Ee||"demo-project",Je=ve.iat||0,Vt=ve.sub||ve.user_id;if(!Vt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${at}`,aud:at,iat:Je,exp:Je+3600,auth_time:Je,sub:Vt,user_id:Vt,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Le)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function Re(){var ve;const Ee=null===(ve=Xe())||void 0===ve?void 0:ve.forceEnvironment;if("node"===Ee)return!0;if("browser"===Ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pt(){return"object"==typeof self&&self.self===self}function bt(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function Bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){const ve=Me();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function ot(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function ut(){return!Re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wt(){try{return"object"==typeof indexedDB}catch{return!1}}function yt(){return new Promise((ve,Ee)=>{try{let Oe=!0;const at="validate-browser-context-for-indexeddb-analytics-module",Je=self.indexedDB.open(at);Je.onsuccess=()=>{Je.result.close(),Oe||self.indexedDB.deleteDatabase(at),ve(!0)},Je.onupgradeneeded=()=>{Oe=!1},Je.onerror=()=>{var Vt;Ee((null===(Vt=Je.error)||void 0===Vt?void 0:Vt.message)||"")}}catch(Oe){Ee(Oe)}})}function Ot(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Zt extends Error{constructor(Ee,Oe,at){super(Oe),this.code=Ee,this.customData=at,this.name="FirebaseError",Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ft.prototype.create)}}class Ft{constructor(Ee,Oe,at){this.service=Ee,this.serviceName=Oe,this.errors=at}create(Ee,...Oe){const at=Oe[0]||{},Je=`${this.service}/${Ee}`,Vt=this.errors[Ee],Le=Vt?function Tn(ve,Ee){return ve.replace(_n,(Oe,at)=>{const Je=Ee[at];return null!=Je?String(Je):`<${at}?>`})}(Vt,at):"Error";return new Zt(Je,`${this.serviceName}: ${Le} (${Je}).`,at)}}const _n=/\{\$([^}]+)}/g;function Un(ve){return JSON.parse(ve)}function xn(ve){return JSON.stringify(ve)}const ir=function(ve){let Ee={},Oe={},at={},Je="";try{const Vt=ve.split(".");Ee=Un(ee(Vt[0])||""),Oe=Un(ee(Vt[1])||""),Je=Vt[2],at=Oe.d||{},delete Oe.d}catch{}return{header:Ee,claims:Oe,data:at,signature:Je}},mr=function(ve){const Oe=ir(ve).claims;return!!Oe&&"object"==typeof Oe&&Oe.hasOwnProperty("iat")},gn=function(ve){const Ee=ir(ve).claims;return"object"==typeof Ee&&!0===Ee.admin};function qn(ve,Ee){return Object.prototype.hasOwnProperty.call(ve,Ee)}function zr(ve,Ee){if(Object.prototype.hasOwnProperty.call(ve,Ee))return ve[Ee]}function Dr(ve){for(const Ee in ve)if(Object.prototype.hasOwnProperty.call(ve,Ee))return!1;return!0}function Nn(ve,Ee,Oe){const at={};for(const Je in ve)Object.prototype.hasOwnProperty.call(ve,Je)&&(at[Je]=Ee.call(Oe,ve[Je],Je,ve));return at}function qt(ve,Ee){if(ve===Ee)return!0;const Oe=Object.keys(ve),at=Object.keys(Ee);for(const Je of Oe){if(!at.includes(Je))return!1;const Vt=ve[Je],Le=Ee[Je];if(Dn(Vt)&&Dn(Le)){if(!qt(Vt,Le))return!1}else if(Vt!==Le)return!1}for(const Je of at)if(!Oe.includes(Je))return!1;return!0}function Dn(ve){return null!==ve&&"object"==typeof ve}function Or(ve){const Ee=[];for(const[Oe,at]of Object.entries(ve))Array.isArray(at)?at.forEach(Je=>{Ee.push(encodeURIComponent(Oe)+"="+encodeURIComponent(Je))}):Ee.push(encodeURIComponent(Oe)+"="+encodeURIComponent(at));return Ee.length?"&"+Ee.join("&"):""}function qi(ve){const Ee={};return ve.replace(/^\?/,"").split("&").forEach(at=>{if(at){const[Je,Vt]=at.split("=");Ee[decodeURIComponent(Je)]=decodeURIComponent(Vt)}}),Ee}function wi(ve){const Ee=ve.indexOf("?");if(!Ee)return"";const Oe=ve.indexOf("#",Ee);return ve.substring(Ee,Oe>0?Oe:void 0)}class Sn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ee=1;Ee<this.blockSize;++Ee)this.pad_[Ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ee,Oe){Oe||(Oe=0);const at=this.W_;if("string"==typeof Ee)for(let Lt=0;Lt<16;Lt++)at[Lt]=Ee.charCodeAt(Oe)<<24|Ee.charCodeAt(Oe+1)<<16|Ee.charCodeAt(Oe+2)<<8|Ee.charCodeAt(Oe+3),Oe+=4;else for(let Lt=0;Lt<16;Lt++)at[Lt]=Ee[Oe]<<24|Ee[Oe+1]<<16|Ee[Oe+2]<<8|Ee[Oe+3],Oe+=4;for(let Lt=16;Lt<80;Lt++){const fn=at[Lt-3]^at[Lt-8]^at[Lt-14]^at[Lt-16];at[Lt]=4294967295&(fn<<1|fn>>>31)}let He,gt,Je=this.chain_[0],Vt=this.chain_[1],Le=this.chain_[2],Ne=this.chain_[3],fe=this.chain_[4];for(let Lt=0;Lt<80;Lt++){Lt<40?Lt<20?(He=Ne^Vt&(Le^Ne),gt=1518500249):(He=Vt^Le^Ne,gt=1859775393):Lt<60?(He=Vt&Le|Ne&(Vt|Le),gt=2400959708):(He=Vt^Le^Ne,gt=3395469782);const fn=(Je<<5|Je>>>27)+He+fe+gt+at[Lt]&4294967295;fe=Ne,Ne=Le,Le=4294967295&(Vt<<30|Vt>>>2),Vt=Je,Je=fn}this.chain_[0]=this.chain_[0]+Je&4294967295,this.chain_[1]=this.chain_[1]+Vt&4294967295,this.chain_[2]=this.chain_[2]+Le&4294967295,this.chain_[3]=this.chain_[3]+Ne&4294967295,this.chain_[4]=this.chain_[4]+fe&4294967295}update(Ee,Oe){if(null==Ee)return;void 0===Oe&&(Oe=Ee.length);const at=Oe-this.blockSize;let Je=0;const Vt=this.buf_;let Le=this.inbuf_;for(;Je<Oe;){if(0===Le)for(;Je<=at;)this.compress_(Ee,Je),Je+=this.blockSize;if("string"==typeof Ee){for(;Je<Oe;)if(Vt[Le]=Ee.charCodeAt(Je),++Le,++Je,Le===this.blockSize){this.compress_(Vt),Le=0;break}}else for(;Je<Oe;)if(Vt[Le]=Ee[Je],++Le,++Je,Le===this.blockSize){this.compress_(Vt),Le=0;break}}this.inbuf_=Le,this.total_+=Oe}digest(){const Ee=[];let Oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Je=this.blockSize-1;Je>=56;Je--)this.buf_[Je]=255&Oe,Oe/=256;this.compress_(this.buf_);let at=0;for(let Je=0;Je<5;Je++)for(let Vt=24;Vt>=0;Vt-=8)Ee[at]=this.chain_[Je]>>Vt&255,++at;return Ee}}function zn(ve,Ee){const Oe=new ln(ve,Ee);return Oe.subscribe.bind(Oe)}class ln{constructor(Ee,Oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(()=>{Ee(this)}).catch(at=>{this.error(at)})}next(Ee){this.forEachObserver(Oe=>{Oe.next(Ee)})}error(Ee){this.forEachObserver(Oe=>{Oe.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,Oe,at){let Je;if(void 0===Ee&&void 0===Oe&&void 0===at)throw new Error("Missing Observer.");Je=function Yr(ve,Ee){if("object"!=typeof ve||null===ve)return!1;for(const Oe of Ee)if(Oe in ve&&"function"==typeof ve[Oe])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:Oe,complete:at},void 0===Je.next&&(Je.next=Vr),void 0===Je.error&&(Je.error=Vr),void 0===Je.complete&&(Je.complete=Vr);const Vt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Je.error(this.finalError):Je.complete()}catch{}}),this.observers.push(Je),Vt}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,Ee)}sendOne(Ee,Oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{Oe(this.observers[Ee])}catch(at){typeof console<"u"&&console.error&&console.error(at)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vr(){}const Ar=function(ve,Ee,Oe,at){let Je;if(at<Ee?Je="at least "+Ee:at>Oe&&(Je=0===Oe?"none":"no more than "+Oe),Je)throw new Error(ve+" failed: Was called with "+at+(1===at?" argument.":" arguments.")+" Expects "+Je+".")};function Br(ve,Ee){return`${ve} failed: ${Ee} argument `}function Cs(ve,Ee,Oe,at){if((!at||Oe)&&"function"!=typeof Oe)throw new Error(Br(ve,Ee)+"must be a valid function.")}function ur(ve,Ee,Oe,at){if((!at||Oe)&&("object"!=typeof Oe||null===Oe))throw new Error(Br(ve,Ee)+"must be a valid context object.")}const ci=function(ve){const Ee=[];let Oe=0;for(let at=0;at<ve.length;at++){let Je=ve.charCodeAt(at);if(Je>=55296&&Je<=56319){const Vt=Je-55296;at++,E(at<ve.length,"Surrogate pair missing trail surrogate."),Je=65536+(Vt<<10)+(ve.charCodeAt(at)-56320)}Je<128?Ee[Oe++]=Je:Je<2048?(Ee[Oe++]=Je>>6|192,Ee[Oe++]=63&Je|128):Je<65536?(Ee[Oe++]=Je>>12|224,Ee[Oe++]=Je>>6&63|128,Ee[Oe++]=63&Je|128):(Ee[Oe++]=Je>>18|240,Ee[Oe++]=Je>>12&63|128,Ee[Oe++]=Je>>6&63|128,Ee[Oe++]=63&Je|128)}return Ee},Bn=function(ve){let Ee=0;for(let Oe=0;Oe<ve.length;Oe++){const at=ve.charCodeAt(Oe);at<128?Ee++:at<2048?Ee+=2:at>=55296&&at<=56319?(Ee+=4,Oe++):Ee+=3}return Ee},$n=1e3,nn=2,Tt=144e5,We=.5;function Se(ve,Ee=$n,Oe=nn){const at=Ee*Math.pow(Oe,ve),Je=Math.round(We*at*(Math.random()-.5)*2);return Math.min(Tt,at+Je)}function Et(ve){return ve&&ve._delegate?ve._delegate:ve}},2359:(Gt,qe,U)=>{U.d(qe,{T:()=>Z});var _=U(4650),E=U(529);let Z=(()=>{class _e{constructor(Y){this.http=Y}getCountries(){return this.http.get("assets/demo/data/countries.json").toPromise().then(Y=>Y.data).then(Y=>Y)}}return _e.\u0275fac=function(Y){return new(Y||_e)(_.LFG(E.eN))},_e.\u0275prov=_.Yz7({token:_e,factory:_e.\u0275fac}),_e})()},1726:(Gt,qe,U)=>{U.d(qe,{v:()=>Z});var _=U(4650),E=U(529);let Z=(()=>{class _e{constructor(Y){this.http=Y}getCustomersSmall(){return this.http.get("assets/demo/data/customers-small.json").toPromise().then(Y=>Y.data).then(Y=>Y)}getCustomersMedium(){return this.http.get("assets/demo/data/customers-medium.json").toPromise().then(Y=>Y.data).then(Y=>Y)}getCustomersLarge(){return this.http.get("assets/demo/data/customers-large.json").toPromise().then(Y=>Y.data).then(Y=>Y)}}return _e.\u0275fac=function(Y){return new(Y||_e)(_.LFG(E.eN))},_e.\u0275prov=_.Yz7({token:_e,factory:_e.\u0275fac}),_e})()},3205:(Gt,qe,U)=>{U.d(qe,{C:()=>_e});var _=U(4004),E=U(4650),Z=U(529);let _e=(()=>{class K{constructor(ie){this.http=ie,this.apiUrl="assets/demo/data/icons.json"}getIcons(){return this.http.get(this.apiUrl).pipe((0,_.U)(ie=>(this.icons=ie.icons,this.icons)))}}return K.\u0275fac=function(ie){return new(ie||K)(E.LFG(Z.eN))},K.\u0275prov=E.Yz7({token:K,factory:K.\u0275fac}),K})()},1419:(Gt,qe,U)=>{U.d(qe,{s:()=>Z});var _=U(4650),E=U(529);let Z=(()=>{class _e{constructor(Y){this.http=Y}getFiles(){return this.http.get("assets/demo/data/files.json").toPromise().then(Y=>Y.data)}getLazyFiles(){return this.http.get("assets/demo/data/files-lazy.json").toPromise().then(Y=>Y.data)}getFilesystem(){return this.http.get("assets/demo/data/filesystem.json").toPromise().then(Y=>Y.data)}getLazyFilesystem(){return this.http.get("assets/demo/data/filesystem-lazy.json").toPromise().then(Y=>Y.data)}}return _e.\u0275fac=function(Y){return new(Y||_e)(_.LFG(E.eN))},_e.\u0275prov=_.Yz7({token:_e,factory:_e.\u0275fac}),_e})()},9748:(Gt,qe,U)=>{U.d(qe,{T:()=>Z});var _=U(4650),E=U(529);let Z=(()=>{class _e{constructor(Y){this.http=Y}getImages(){return this.http.get("assets/demo/data/photos.json").toPromise().then(Y=>Y.data).then(Y=>Y)}}return _e.\u0275fac=function(Y){return new(Y||_e)(_.LFG(E.eN))},_e.\u0275prov=_.Yz7({token:_e,factory:_e.\u0275fac}),_e})()},6122:(Gt,qe,U)=>{U.d(qe,{M:()=>Z});var _=U(4650),E=U(529);let Z=(()=>{class _e{constructor(Y){this.http=Y}getProductsSmall(){return this.http.get("assets/demo/data/products-small.json").toPromise().then(Y=>Y.data).then(Y=>Y)}getProducts(){return this.http.get("assets/demo/data/products.json").toPromise().then(Y=>Y.data).then(Y=>Y)}getProductsMixed(){return this.http.get("assets/demo/data/products-mixed.json").toPromise().then(Y=>Y.data).then(Y=>Y)}getProductsWithOrdersSmall(){return this.http.get("assets/demo/data/products-orders-small.json").toPromise().then(Y=>Y.data).then(Y=>Y)}}return _e.\u0275fac=function(Y){return new(Y||_e)(_.LFG(E.eN))},_e.\u0275prov=_.Yz7({token:_e,factory:_e.\u0275fac}),_e})()},8568:(Gt,qe,U)=>{U.d(qe,{P:()=>Z});var _=U(7579),E=U(4650);let Z=(()=>{class _e{constructor(){this.config={ripple:!1,inputStyle:"outlined",menuMode:"static",colorScheme:"light",theme:"lara-light-indigo",scale:14},this.state={staticMenuDesktopInactive:!1,overlayMenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1},this.configUpdate=new _.x,this.overlayOpen=new _.x,this.configUpdate$=this.configUpdate.asObservable(),this.overlayOpen$=this.overlayOpen.asObservable()}onMenuToggle(){this.isOverlay()&&(this.state.overlayMenuActive=!this.state.overlayMenuActive,this.state.overlayMenuActive&&this.overlayOpen.next(null)),this.isDesktop()?this.state.staticMenuDesktopInactive=!this.state.staticMenuDesktopInactive:(this.state.staticMenuMobileActive=!this.state.staticMenuMobileActive,this.state.staticMenuMobileActive&&this.overlayOpen.next(null))}showProfileSidebar(){this.state.profileSidebarVisible=!this.state.profileSidebarVisible,this.state.profileSidebarVisible&&this.overlayOpen.next(null)}showConfigSidebar(){this.state.configSidebarVisible=!0}isOverlay(){return"overlay"===this.config.menuMode}isDesktop(){return window.innerWidth>991}isMobile(){return!this.isDesktop()}onConfigUpdate(){this.configUpdate.next(this.config)}}return _e.\u0275fac=function(Y){return new(Y||_e)},_e.\u0275prov=E.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},919:(Gt,qe,U)=>{U.d(qe,{e:()=>ie});var _=U(5861),E=U(4650),Z=U(3101),_e=U(1205),K=U(7001),Y=U(805);let ie=(()=>{class he{constructor(ee,se,me,ke){this.afs=ee,this.afAuth=se,this.router=me,this.messageService=ke,this.afAuth.authState.subscribe(Ge=>{Ge?this.afs.collection("users").doc(Ge.uid).ref.get().then(ze=>{ze.exists&&(this.userData=ze.data(),this.SetUserData(this.userData))}).catch(ze=>{this.messageService.add({severity:"error",summary:"Erro",detail:ze})}):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}logar(ee,se){var me=this;return(0,_.Z)(function*(){yield me.afAuth.signInWithEmailAndPassword(ee,se).then(function(){var ke=(0,_.Z)(function*(Ge){yield me.SetUserData(Ge.user),yield me.router.navigate(["/"])});return function(Ge){return ke.apply(this,arguments)}}()).catch(ke=>{me.messageService.add({severity:"error",summary:"Erro",detail:ke})})})()}get isLogado(){const ee=JSON.parse(localStorage.getItem("user"));return null!==ee&&!1!==ee.emailVerified}SetUserData(ee){var se=this;return(0,_.Z)(function*(){const me=se.afs.doc(`users/${ee.uid}`);yield se.afs.collection("users").doc(ee.uid).ref.get().then(ke=>ke.exists?(se.userData=ke.data(),localStorage.setItem("user",JSON.stringify(se.userData)),JSON.parse(localStorage.getItem("user")),me.set(se.userData,{merge:!0})):me.set({uid:ee.uid,email:ee.email,displayName:ee.displayName,photoURL:ee.photoURL,emailVerified:ee.emailVerified},{merge:!0})).catch(ke=>se.messageService.add({severity:"error",summary:"Erro",detail:ke}))})()}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/auth/login"])})}get user(){return JSON.parse(localStorage.getItem("user"))}}return he.\u0275fac=function(ee){return new(ee||he)(E.LFG(Z.ST),E.LFG(_e.zQ),E.LFG(K.F0),E.LFG(Y.ez))},he.\u0275prov=E.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},9500:(Gt,qe,U)=>{var _=U(1481),E=U(4650),Z=U(6895),_e=U(805),K=U(7001);let Y=(()=>{class l{constructor(i){this.primengConfig=i}ngOnInit(){this.primengConfig.ripple=!0}}return l.\u0275fac=function(i){return new(i||l)(E.Y36(_e.b4))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-root"]],decls:1,vars:0,template:function(i,c){1&i&&E._UZ(0,"router-outlet")},dependencies:[K.lC],encapsulation:2}),l})();const ie=function(){return["/"]};let he=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-notfound"]],decls:35,vars:6,consts:[[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],["src","assets/demo/images/notfound/logo-blue.svg","alt","Sakai logo",1,"mb-5","w-6rem","flex-shrink-0"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, rgba(33, 150, 243, 0.4) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"w-full","surface-card","py-8","px-5","sm:px-8","flex","flex-column","align-items-center",2,"border-radius","53px"],[1,"text-blue-500","font-bold","text-3xl"],[1,"text-900","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-600","mb-5"],[1,"w-full","flex","align-items-center","py-5","border-300","border-bottom-1",3,"routerLink"],[1,"flex","justify-content-center","align-items-center","bg-cyan-400","border-round",2,"height","3.5rem","width","3.5rem"],[1,"text-50","pi","pi-fw","pi-table","text-2xl"],[1,"ml-4","flex","flex-column"],[1,"text-900","lg:text-xl","font-medium","mb-0","block"],[1,"text-600","lg:text-xl"],[1,"flex","justify-content-center","align-items-center","bg-orange-400","border-round",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-question-circle","text-50","text-2xl"],[1,"text-900","lg:text-xl","font-medium","mb-0"],[1,"w-full","flex","align-items-center","mb-5","py-5","border-300","border-bottom-1",3,"routerLink"],[1,"flex","justify-content-center","align-items-center","bg-indigo-400","border-round",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","text-50","text-2xl"]],template:function(i,c){1&i&&(E.TgZ(0,"div",0)(1,"div",1),E._UZ(2,"img",2),E.TgZ(3,"div",3)(4,"div",4)(5,"span",5),E._uU(6,"404"),E.qZA(),E.TgZ(7,"h1",6),E._uU(8,"Not Found"),E.qZA(),E.TgZ(9,"div",7),E._uU(10,"Requested resource is not available."),E.qZA(),E.TgZ(11,"a",8)(12,"span",9),E._UZ(13,"i",10),E.qZA(),E.TgZ(14,"span",11)(15,"span",12),E._uU(16,"Frequently Asked Questions"),E.qZA(),E.TgZ(17,"span",13),E._uU(18,"Ultricies mi quis hendrerit dolor."),E.qZA()()(),E.TgZ(19,"a",8)(20,"span",14),E._UZ(21,"i",15),E.qZA(),E.TgZ(22,"span",11)(23,"span",16),E._uU(24,"Solution Center"),E.qZA(),E.TgZ(25,"span",13),E._uU(26,"Phasellus faucibus scelerisque eleifend."),E.qZA()()(),E.TgZ(27,"a",17)(28,"span",18),E._UZ(29,"i",19),E.qZA(),E.TgZ(30,"span",11)(31,"span",16),E._uU(32,"Permission Manager"),E.qZA(),E.TgZ(33,"span",13),E._uU(34,"Accumsan in nisl nisi scelerisque"),E.qZA()()()()()()()),2&i&&(E.xp6(11),E.Q6J("routerLink",E.DdM(3,ie)),E.xp6(8),E.Q6J("routerLink",E.DdM(4,ie)),E.xp6(8),E.Q6J("routerLink",E.DdM(5,ie)))},dependencies:[K.rH],encapsulation:2}),l})();var pe=U(9300),ee=U(8568),se=U(7340),me=U(7579);let ke=(()=>{class l{constructor(){this.menuSource=new me.x,this.resetSource=new me.x,this.menuSource$=this.menuSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onMenuStateChange(i){this.menuSource.next(i)}reset(){this.resetSource.next(!0)}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var Ge=U(1795);const ze=["app-menuitem",""];function _t(l,r){if(1&l&&(E.TgZ(0,"div",4),E._uU(1),E.qZA()),2&l){const i=E.oxw();E.xp6(1),E.Oqu(i.item.label)}}function tt(l,r){1&l&&E._UZ(0,"i",9)}function Xe(l,r){if(1&l){const i=E.EpF();E.TgZ(0,"a",5),E.NdJ("click",function(f){E.CHM(i);const w=E.oxw();return E.KtG(w.itemClick(f))}),E._UZ(1,"i",6),E.TgZ(2,"span",7),E._uU(3),E.qZA(),E.YNc(4,tt,1,0,"i",8),E.qZA()}if(2&l){const i=E.oxw();E.Q6J("ngClass",i.item.class),E.uIk("href",i.item.url,E.LSH)("target",i.item.target),E.xp6(1),E.Q6J("ngClass",i.item.icon),E.xp6(2),E.Oqu(i.item.label),E.xp6(1),E.Q6J("ngIf",i.item.items)}}function Te(l,r){1&l&&E._UZ(0,"i",9)}const Ye=function(){return{paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"}};function Ve(l,r){if(1&l){const i=E.EpF();E.TgZ(0,"a",10),E.NdJ("click",function(f){E.CHM(i);const w=E.oxw();return E.KtG(w.itemClick(f))}),E._UZ(1,"i",6),E.TgZ(2,"span",7),E._uU(3),E.qZA(),E.YNc(4,Te,1,0,"i",8),E.qZA()}if(2&l){const i=E.oxw();E.Q6J("ngClass",i.item.class)("routerLink",i.item.routerLink)("routerLinkActiveOptions",i.item.routerLinkActiveOptions||E.DdM(14,Ye))("fragment",i.item.fragment)("queryParamsHandling",i.item.queryParamsHandling)("preserveFragment",i.item.preserveFragment)("skipLocationChange",i.item.skipLocationChange)("replaceUrl",i.item.replaceUrl)("state",i.item.state)("queryParams",i.item.queryParams),E.uIk("target",i.item.target),E.xp6(1),E.Q6J("ngClass",i.item.icon),E.xp6(2),E.Oqu(i.item.label),E.xp6(1),E.Q6J("ngIf",i.item.items)}}function k(l,r){if(1&l&&E._UZ(0,"li",12),2&l){const i=r.$implicit,c=r.index,f=E.oxw(2);E.Tol(i.badgeClass),E.Q6J("item",i)("index",c)("parentKey",f.key)}}function ye(l,r){if(1&l&&(E.TgZ(0,"ul"),E.YNc(1,k,1,5,"ng-template",11),E.qZA()),2&l){const i=E.oxw();E.Q6J("@children",i.submenuAnimation),E.xp6(1),E.Q6J("ngForOf",i.item.items)}}let be=(()=>{class l{constructor(i,c,f,w){this.layoutService=i,this.cd=c,this.router=f,this.menuService=w,this.active=!1,this.key="",this.menuSourceSubscription=this.menuService.menuSource$.subscribe(D=>{Promise.resolve(null).then(()=>{D.routeEvent?this.active=!(D.key!==this.key&&!D.key.startsWith(this.key+"-")):D.key!==this.key&&!D.key.startsWith(this.key+"-")&&(this.active=!1)})}),this.menuResetSubscription=this.menuService.resetSource$.subscribe(()=>{this.active=!1}),this.router.events.pipe((0,pe.h)(D=>D instanceof K.m2)).subscribe(D=>{this.item.routerLink&&this.updateActiveStateFromRoute()})}ngOnInit(){this.key=this.parentKey?this.parentKey+"-"+this.index:String(this.index),this.item.routerLink&&this.updateActiveStateFromRoute()}updateActiveStateFromRoute(){this.router.isActive(this.item.routerLink[0],{paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"})&&this.menuService.onMenuStateChange({key:this.key,routeEvent:!0})}itemClick(i){this.item.disabled?i.preventDefault():(this.item.command&&this.item.command({originalEvent:i,item:this.item}),this.item.items&&(this.active=!this.active),this.menuService.onMenuStateChange({key:this.key}))}get submenuAnimation(){return this.root||this.active?"expanded":"collapsed"}get activeClass(){return this.active&&!this.root}ngOnDestroy(){this.menuSourceSubscription&&this.menuSourceSubscription.unsubscribe(),this.menuResetSubscription&&this.menuResetSubscription.unsubscribe()}}return l.\u0275fac=function(i){return new(i||l)(E.Y36(ee.P),E.Y36(E.sBO),E.Y36(K.F0),E.Y36(ke))},l.\u0275cmp=E.Xpm({type:l,selectors:[["","app-menuitem",""]],hostVars:4,hostBindings:function(i,c){2&i&&E.ekj("layout-root-menuitem",c.root)("active-menuitem",c.activeClass)},inputs:{item:"item",index:"index",root:"root",parentKey:"parentKey"},attrs:ze,decls:5,vars:4,consts:[["class","layout-menuitem-root-text",4,"ngIf"],["tabindex","0","pRipple","",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams","click",4,"ngIf"],[4,"ngIf"],[1,"layout-menuitem-root-text"],["tabindex","0","pRipple","",3,"ngClass","click"],[1,"layout-menuitem-icon",3,"ngClass"],[1,"layout-menuitem-text"],["class","pi pi-fw pi-angle-down layout-submenu-toggler",4,"ngIf"],[1,"pi","pi-fw","pi-angle-down","layout-submenu-toggler"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams","click"],["ngFor","",3,"ngForOf"],["app-menuitem","",3,"item","index","parentKey"]],template:function(i,c){1&i&&(E.ynx(0),E.YNc(1,_t,2,1,"div",0),E.YNc(2,Xe,5,6,"a",1),E.YNc(3,Ve,5,15,"a",2),E.YNc(4,ye,2,2,"ul",3),E.BQk()),2&i&&(E.xp6(1),E.Q6J("ngIf",c.root&&!1!==c.item.visible),E.xp6(1),E.Q6J("ngIf",(!c.item.routerLink||c.item.items)&&!1!==c.item.visible),E.xp6(1),E.Q6J("ngIf",c.item.routerLink&&!c.item.items&&!1!==c.item.visible),E.xp6(1),E.Q6J("ngIf",c.item.items&&!1!==c.item.visible))},dependencies:[Z.mk,Z.sg,Z.O5,Ge.H,K.rH,K.Od,l],encapsulation:2,data:{animation:[(0,se.X$)("children",[(0,se.SB)("collapsed",(0,se.oB)({height:"0"})),(0,se.SB)("expanded",(0,se.oB)({height:"*"})),(0,se.eR)("collapsed <=> expanded",(0,se.jt)("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}}),l})();function Me(l,r){if(1&l&&E._UZ(0,"li",4),2&l){const i=E.oxw(),f=i.index;E.Q6J("item",i.$implicit)("index",f)("root",!0)}}function Ce(l,r){1&l&&E._UZ(0,"li",5)}function Re(l,r){if(1&l&&(E.ynx(0),E.YNc(1,Me,1,3,"li",2),E.YNc(2,Ce,1,0,"li",3),E.BQk()),2&l){const i=r.$implicit;E.xp6(1),E.Q6J("ngIf",!i.separator),E.xp6(1),E.Q6J("ngIf",i.separator)}}let pt=(()=>{class l{constructor(i){this.layoutService=i,this.model=[]}ngOnInit(){this.model=[{label:"In\xedcio",items:[{label:"Dashboard",icon:"pi pi-fw pi-home",routerLink:["/"]}]},{label:"Or\xe7amentos",items:[{label:"Pesquisar",icon:"pi pi-fw pi-search",routerLink:["/orcamentos/pesquisar"]},{label:"Criar",icon:"pi pi-fw pi-plus",routerLink:["/orcamentos/criar"]}]}]}}return l.\u0275fac=function(i){return new(i||l)(E.Y36(ee.P))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-menu"]],decls:2,vars:1,consts:[[1,"layout-menu"],[4,"ngFor","ngForOf"],["app-menuitem","",3,"item","index","root",4,"ngIf"],["class","menu-separator",4,"ngIf"],["app-menuitem","",3,"item","index","root"],[1,"menu-separator"]],template:function(i,c){1&i&&(E.TgZ(0,"ul",0),E.YNc(1,Re,3,2,"ng-container",1),E.qZA()),2&i&&(E.xp6(1),E.Q6J("ngForOf",c.model))},dependencies:[Z.sg,Z.O5,be],encapsulation:2}),l})(),bt=(()=>{class l{constructor(i,c){this.layoutService=i,this.el=c}}return l.\u0275fac=function(i){return new(i||l)(E.Y36(ee.P),E.Y36(E.SBq))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-sidebar"]],decls:1,vars:0,template:function(i,c){1&i&&E._UZ(0,"app-menu")},dependencies:[pt],encapsulation:2}),l})();var Bt=U(919);const Ht=["menubutton"],rt=["topbarmenubutton"],vt=["topbarmenu"],ot=function(l){return{"layout-topbar-menu-mobile-active":l}};let ut=(()=>{class l{constructor(i,c){this.layoutService=i,this.authService=c}logout(){this.authService.SignOut()}}return l.\u0275fac=function(i){return new(i||l)(E.Y36(ee.P),E.Y36(Bt.e))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-topbar"]],viewQuery:function(i,c){if(1&i&&(E.Gf(Ht,5),E.Gf(rt,5),E.Gf(vt,5)),2&i){let f;E.iGM(f=E.CRH())&&(c.menuButton=f.first),E.iGM(f=E.CRH())&&(c.topbarMenuButton=f.first),E.iGM(f=E.CRH())&&(c.menu=f.first)}},decls:19,vars:4,consts:[[1,"layout-topbar"],[1,"p-link","layout-menu-button","layout-topbar-button",2,"margin-left","0",3,"click"],["menubutton",""],[1,"pi","pi-bars"],["routerLink","",1,"layout-topbar-logo"],["alt","logo",2,"width","10rem","height","10rem",3,"src"],[1,"p-link","layout-topbar-menu-button","layout-topbar-button",3,"click"],["topbarmenubutton",""],[1,"pi","pi-ellipsis-v"],[1,"layout-topbar-menu",3,"ngClass"],["topbarmenu",""],[1,"p-link","layout-topbar-button"],[1,"pi","pi-user"],[1,"p-link","layout-topbar-button",3,"click"],[1,"pi","pi-sign-out"]],template:function(i,c){1&i&&(E.TgZ(0,"div",0)(1,"button",1,2),E.NdJ("click",function(){return c.layoutService.onMenuToggle()}),E._UZ(3,"i",3),E.qZA(),E.TgZ(4,"a",4),E._UZ(5,"img",5),E.qZA(),E.TgZ(6,"button",6,7),E.NdJ("click",function(){return c.layoutService.showProfileSidebar()}),E._UZ(8,"i",8),E.qZA(),E.TgZ(9,"div",9,10)(11,"button",11),E._UZ(12,"i",12),E.TgZ(13,"span"),E._uU(14,"Profile"),E.qZA()(),E.TgZ(15,"button",13),E.NdJ("click",function(){return c.logout()}),E._UZ(16,"i",14),E.TgZ(17,"span"),E._uU(18,"Sair"),E.qZA()()()()),2&i&&(E.xp6(5),E.MGl("src","assets/layout/images/","light"===c.layoutService.config.colorScheme?"logo-dark":"logo-white",".svg",E.LSH),E.xp6(4),E.Q6J("ngClass",E.VKq(2,ot,c.layoutService.state.profileSidebarVisible)))},dependencies:[Z.mk,K.rH],encapsulation:2}),l})();var wt=U(433),yt=U(3214),Ot=U(613),Rt=U(5593);const Zt=function(l){return{"text-primary-500":l}};function Ft(l,r){if(1&l&&E._UZ(0,"i",9),2&l){const i=r.$implicit,c=E.oxw();E.Q6J("ngClass",E.VKq(1,Zt,i===c.scale))}}function Tn(l,r){if(1&l){const i=E.EpF();E.ynx(0),E.TgZ(1,"h5"),E._uU(2,"Menu"),E.qZA(),E.TgZ(3,"div",10)(4,"p-radioButton",11),E.NdJ("ngModelChange",function(f){E.CHM(i);const w=E.oxw();return E.KtG(w.menuMode=f)}),E.qZA(),E.TgZ(5,"label",12),E._uU(6,"Est\xe1tico"),E.qZA()(),E.TgZ(7,"div",10)(8,"p-radioButton",13),E.NdJ("ngModelChange",function(f){E.CHM(i);const w=E.oxw();return E.KtG(w.menuMode=f)}),E.qZA(),E.TgZ(9,"label",14),E._uU(10,"Sobreposto"),E.qZA()(),E.BQk()}if(2&l){const i=E.oxw();E.xp6(4),E.Q6J("ngModel",i.menuMode),E.xp6(4),E.Q6J("ngModel",i.menuMode)}}function _n(l,r){if(1&l){const i=E.EpF();E.ynx(0),E.TgZ(1,"h5"),E._uU(2,"Input Style"),E.qZA(),E.TgZ(3,"div",15)(4,"div",16)(5,"p-radioButton",17),E.NdJ("ngModelChange",function(f){E.CHM(i);const w=E.oxw();return E.KtG(w.inputStyle=f)}),E.qZA(),E.TgZ(6,"label",18),E._uU(7,"Outlined"),E.qZA()(),E.TgZ(8,"div",16)(9,"p-radioButton",19),E.NdJ("ngModelChange",function(f){E.CHM(i);const w=E.oxw();return E.KtG(w.inputStyle=f)}),E.qZA(),E.TgZ(10,"label",20),E._uU(11,"Filled"),E.qZA()()(),E.BQk()}if(2&l){const i=E.oxw();E.xp6(5),E.Q6J("ngModel",i.inputStyle),E.xp6(4),E.Q6J("ngModel",i.inputStyle)}}function Un(l,r){if(1&l){const i=E.EpF();E.ynx(0),E.TgZ(1,"h5"),E._uU(2,"Bootstrap"),E.qZA(),E.TgZ(3,"div",21)(4,"div",22)(5,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("bootstrap4-light-blue","light"))}),E._UZ(6,"img",24),E.qZA()(),E.TgZ(7,"div",22)(8,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("bootstrap4-light-purple","light"))}),E._UZ(9,"img",25),E.qZA()(),E.TgZ(10,"div",22)(11,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("bootstrap4-dark-blue","dark"))}),E._UZ(12,"img",26),E.qZA()(),E.TgZ(13,"div",22)(14,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("bootstrap4-dark-purple","dark"))}),E._UZ(15,"img",27),E.qZA()()(),E.TgZ(16,"h5"),E._uU(17,"Material Design"),E.qZA(),E.TgZ(18,"div",21)(19,"div",22)(20,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("md-light-indigo","light"))}),E._UZ(21,"img",28),E.qZA()(),E.TgZ(22,"div",22)(23,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("md-light-deeppurple","light"))}),E._UZ(24,"img",29),E.qZA()(),E.TgZ(25,"div",22)(26,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("md-dark-indigo","dark"))}),E._UZ(27,"img",30),E.qZA()(),E.TgZ(28,"div",22)(29,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("md-dark-deeppurple","dark"))}),E._UZ(30,"img",31),E.qZA()()(),E.TgZ(31,"h5"),E._uU(32,"Material Design Compact"),E.qZA(),E.TgZ(33,"div",21)(34,"div",22)(35,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("mdc-light-indigo","light"))}),E._UZ(36,"img",28),E.qZA()(),E.TgZ(37,"div",22)(38,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("mdc-light-deeppurple","light"))}),E._UZ(39,"img",32),E.qZA()(),E.TgZ(40,"div",22)(41,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("mdc-dark-indigo","dark"))}),E._UZ(42,"img",30),E.qZA()(),E.TgZ(43,"div",22)(44,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("mdc-dark-deeppurple","dark"))}),E._UZ(45,"img",33),E.qZA()()(),E.TgZ(46,"h5"),E._uU(47,"Tailwind"),E.qZA(),E.TgZ(48,"div",21)(49,"div",22)(50,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("tailwind-light","light"))}),E._UZ(51,"img",34),E.qZA()()(),E.TgZ(52,"h5"),E._uU(53,"Fluent UI"),E.qZA(),E.TgZ(54,"div",21)(55,"div",22)(56,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("fluent-light","light"))}),E._UZ(57,"img",35),E.qZA()()(),E.TgZ(58,"h5"),E._uU(59,"PrimeOne Design - 2022"),E.qZA(),E.TgZ(60,"div",21)(61,"div",22)(62,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("lara-light-indigo","light"))}),E._UZ(63,"img",36),E.qZA()(),E.TgZ(64,"div",22)(65,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("lara-light-blue","light"))}),E._UZ(66,"img",37),E.qZA()(),E.TgZ(67,"div",22)(68,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("lara-light-purple","light"))}),E._UZ(69,"img",38),E.qZA()(),E.TgZ(70,"div",22)(71,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("lara-light-teal","light"))}),E._UZ(72,"img",39),E.qZA()(),E.TgZ(73,"div",22)(74,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("lara-dark-indigo","dark"))}),E._UZ(75,"img",40),E.qZA()(),E.TgZ(76,"div",22)(77,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("lara-dark-blue","dark"))}),E._UZ(78,"img",41),E.qZA()(),E.TgZ(79,"div",22)(80,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("lara-dark-purple","dark"))}),E._UZ(81,"img",42),E.qZA()(),E.TgZ(82,"div",22)(83,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("lara-dark-teal","dark"))}),E._UZ(84,"img",43),E.qZA()()(),E.TgZ(85,"h5"),E._uU(86,"PrimeOne Design - 2021"),E.qZA(),E.TgZ(87,"div",21)(88,"div",22)(89,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("saga-blue","light"))}),E._UZ(90,"img",44),E.qZA()(),E.TgZ(91,"div",22)(92,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("saga-green","light"))}),E._UZ(93,"img",45),E.qZA()(),E.TgZ(94,"div",22)(95,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("saga-orange","light"))}),E._UZ(96,"img",46),E.qZA()(),E.TgZ(97,"div",22)(98,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("saga-purple","light"))}),E._UZ(99,"img",47),E.qZA()(),E.TgZ(100,"div",22)(101,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("vela-blue","dark"))}),E._UZ(102,"img",48),E.qZA()(),E.TgZ(103,"div",22)(104,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("vela-green","dark"))}),E._UZ(105,"img",49),E.qZA()(),E.TgZ(106,"div",22)(107,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("vela-orange","dark"))}),E._UZ(108,"img",50),E.qZA()(),E.TgZ(109,"div",22)(110,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("vela-purple","dark"))}),E._UZ(111,"img",51),E.qZA()(),E.TgZ(112,"div",22)(113,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("arya-blue","dark"))}),E._UZ(114,"img",52),E.qZA()(),E.TgZ(115,"div",22)(116,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("arya-green","dark"))}),E._UZ(117,"img",53),E.qZA()(),E.TgZ(118,"div",22)(119,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("arya-orange","dark"))}),E._UZ(120,"img",54),E.qZA()(),E.TgZ(121,"div",22)(122,"button",23),E.NdJ("click",function(){E.CHM(i);const f=E.oxw();return E.KtG(f.changeTheme("arya-purple","dark"))}),E._UZ(123,"img",55),E.qZA()()(),E.BQk()}}let xn=(()=>{class l{constructor(i,c){this.layoutService=i,this.menuService=c,this.minimal=!1,this.scales=[12,13,14,15,16]}get visible(){return this.layoutService.state.configSidebarVisible}set visible(i){this.layoutService.state.configSidebarVisible=i}get scale(){return this.layoutService.config.scale}set scale(i){this.layoutService.config.scale=i}get menuMode(){return this.layoutService.config.menuMode}set menuMode(i){this.layoutService.config.menuMode=i}get inputStyle(){return this.layoutService.config.inputStyle}set inputStyle(i){this.layoutService.config.inputStyle=i}get ripple(){return this.layoutService.config.ripple}set ripple(i){this.layoutService.config.ripple=i}onConfigButtonClick(){this.layoutService.showConfigSidebar()}changeTheme(i,c){const w=document.getElementById("theme-css").getAttribute("href").replace(this.layoutService.config.theme,i);this.replaceThemeLink(w,()=>{this.layoutService.config.theme=i,this.layoutService.config.colorScheme=c,this.layoutService.onConfigUpdate()})}replaceThemeLink(i,c){const f="theme-css",w=document.getElementById("theme-css"),D=w.cloneNode(!0);D.setAttribute("href",i),D.setAttribute("id",f+"-clone"),w.parentNode.insertBefore(D,w.nextSibling),D.addEventListener("load",()=>{w.remove(),D.setAttribute("id",f),c()})}decrementScale(){this.scale--,this.applyScale()}incrementScale(){this.scale++,this.applyScale()}applyScale(){document.documentElement.style.fontSize=this.scale+"px"}}return l.\u0275fac=function(i){return new(i||l)(E.Y36(ee.P),E.Y36(ke))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-config"]],inputs:{minimal:"minimal"},decls:13,vars:8,consts:[["type","button",1,"layout-config-button","p-link",3,"click"],[1,"pi","pi-cog"],["position","right","styleClass","layout-config-sidebar w-20rem",3,"visible","transitionOptions","visibleChange"],[1,"flex","align-items-center"],["icon","pi pi-minus","type","button","pButton","",1,"p-button-text","p-button-rounded","w-2rem","h-2rem","mr-2",3,"disabled","click"],[1,"flex","gap-2","align-items-center"],["class","pi pi-circle-fill text-300",3,"ngClass",4,"ngFor","ngForOf"],["icon","pi pi-plus","type","button","pButton","",1,"p-button-text","p-button-rounded","w-2rem","h-2rem","ml-2",3,"disabled","click"],[4,"ngIf"],[1,"pi","pi-circle-fill","text-300",3,"ngClass"],[1,"field-radiobutton"],["name","menuMode","value","static","inputId","mode1",3,"ngModel","ngModelChange"],["for","mode1"],["name","menuMode","value","overlay","inputId","mode2",3,"ngModel","ngModelChange"],["for","mode2"],[1,"flex"],[1,"field-radiobutton","flex-1"],["name","inputStyle","value","outlined","inputId","outlined_input",3,"ngModel","ngModelChange"],["for","outlined_input"],["name","inputStyle","value","filled","inputId","filled_input",3,"ngModel","ngModelChange"],["for","filled_input"],[1,"grid"],[1,"col-3"],[1,"p-link","w-2rem","h-2rem",3,"click"],["src","assets/layout/images/themes/bootstrap4-light-blue.svg","alt","Bootstrap Light Blue",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/bootstrap4-light-purple.svg","alt","Bootstrap Light Purple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/bootstrap4-dark-blue.svg","alt","Bootstrap Dark Blue",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/bootstrap4-dark-purple.svg","alt","Bootstrap Dark Purple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/md-light-indigo.svg","alt","Material Light Indigo",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/md-light-deeppurple.svg","alt","Material Light DeepPurple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/md-dark-indigo.svg","alt","Material Dark Indigo",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/md-dark-deeppurple.svg","alt","Material Dark DeepPurple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/md-light-deeppurple.svg","alt","Material Light Deep Purple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/md-dark-deeppurple.svg","alt","Material Dark Deep Purple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/tailwind-light.png","alt","Tailwind Light",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/fluent-light.png","alt","Fluent Light",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/lara-light-indigo.png","alt","Lara Light Indigo",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/lara-light-blue.png","alt","Lara Light Blue",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/lara-light-purple.png","alt","Lara Light Purple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/lara-light-teal.png","alt","Lara Light Teal",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/lara-dark-indigo.png","alt","Lara Dark Indigo",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/lara-dark-blue.png","alt","Lara Dark Blue",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/lara-dark-purple.png","alt","Lara Dark Purple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/lara-dark-teal.png","alt","Lara Dark Teal",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/saga-blue.png","alt","Saga Blue",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/saga-green.png","alt","Saga Green",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/saga-orange.png","alt","Saga Orange",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/saga-purple.png","alt","Saga Purple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/vela-blue.png","alt","Vela Blue",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/vela-green.png","alt","Vela Green",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/vela-orange.png","alt","Vela Orange",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/vela-purple.png","alt","Vela Purple",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/arya-blue.png","alt","Arya Blue",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/arya-green.png","alt","Arya Green",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/arya-orange.png","alt","Arya Orange",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/arya-purple.png","alt","Arya Purple",1,"w-2rem","h-2rem"]],template:function(i,c){1&i&&(E.TgZ(0,"button",0),E.NdJ("click",function(){return c.onConfigButtonClick()}),E._UZ(1,"i",1),E.qZA(),E.TgZ(2,"p-sidebar",2),E.NdJ("visibleChange",function(w){return c.visible=w}),E.TgZ(3,"h5"),E._uU(4,"Escala"),E.qZA(),E.TgZ(5,"div",3)(6,"button",4),E.NdJ("click",function(){return c.decrementScale()}),E.qZA(),E.TgZ(7,"div",5),E.YNc(8,Ft,1,3,"i",6),E.qZA(),E.TgZ(9,"button",7),E.NdJ("click",function(){return c.incrementScale()}),E.qZA()(),E.YNc(10,Tn,11,2,"ng-container",8),E.YNc(11,_n,12,2,"ng-container",8),E.YNc(12,Un,124,0,"ng-container",8),E.qZA()),2&i&&(E.xp6(2),E.Q6J("visible",c.visible)("transitionOptions",".3s cubic-bezier(0, 0, 0.2, 1)"),E.xp6(4),E.Q6J("disabled",c.scale===c.scales[0]),E.xp6(2),E.Q6J("ngForOf",c.scales),E.xp6(1),E.Q6J("disabled",c.scale===c.scales[c.scales.length-1]),E.xp6(1),E.Q6J("ngIf",!c.minimal),E.xp6(1),E.Q6J("ngIf",!c.minimal&&!1),E.xp6(1),E.Q6J("ngIf",!1))},dependencies:[Z.mk,Z.sg,Z.O5,wt.JJ,wt.On,yt.Y,Ot.EU,Rt.Hq],encapsulation:2}),l})(),ir=(()=>{class l{constructor(i){this.layoutService=i}}return l.\u0275fac=function(i){return new(i||l)(E.Y36(ee.P))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-footer"]],decls:2,vars:1,consts:[[1,"layout-footer"],["alt","Logo","height","20",1,"mr-2",3,"src"]],template:function(i,c){1&i&&(E.TgZ(0,"div",0),E._UZ(1,"img",1),E.qZA()),2&i&&(E.xp6(1),E.MGl("src","assets/layout/images/","light"===c.layoutService.config.colorScheme?"logo-dark":"logo-white",".svg",E.LSH))},encapsulation:2}),l})(),Yn=(()=>{class l{constructor(i,c,f){this.layoutService=i,this.renderer=c,this.router=f,this.overlayMenuOpenSubscription=this.layoutService.overlayOpen$.subscribe(()=>{this.menuOutsideClickListener||(this.menuOutsideClickListener=this.renderer.listen("document","click",w=>{!(this.appSidebar.el.nativeElement.isSameNode(w.target)||this.appSidebar.el.nativeElement.contains(w.target)||this.appTopbar.menuButton.nativeElement.isSameNode(w.target)||this.appTopbar.menuButton.nativeElement.contains(w.target))&&this.hideMenu()})),this.profileMenuOutsideClickListener||(this.profileMenuOutsideClickListener=this.renderer.listen("document","click",w=>{!(this.appTopbar.menu.nativeElement.isSameNode(w.target)||this.appTopbar.menu.nativeElement.contains(w.target)||this.appTopbar.topbarMenuButton.nativeElement.isSameNode(w.target)||this.appTopbar.topbarMenuButton.nativeElement.contains(w.target))&&this.hideProfileMenu()})),this.layoutService.state.staticMenuMobileActive&&this.blockBodyScroll()}),this.router.events.pipe((0,pe.h)(w=>w instanceof K.m2)).subscribe(()=>{this.hideMenu(),this.hideProfileMenu()})}hideMenu(){this.layoutService.state.overlayMenuActive=!1,this.layoutService.state.staticMenuMobileActive=!1,this.layoutService.state.menuHoverActive=!1,this.menuOutsideClickListener&&(this.menuOutsideClickListener(),this.menuOutsideClickListener=null),this.unblockBodyScroll()}hideProfileMenu(){this.layoutService.state.profileSidebarVisible=!1,this.profileMenuOutsideClickListener&&(this.profileMenuOutsideClickListener(),this.profileMenuOutsideClickListener=null)}blockBodyScroll(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"}unblockBodyScroll(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")}get containerClass(){return{"layout-theme-light":"light"===this.layoutService.config.colorScheme,"layout-theme-dark":"dark"===this.layoutService.config.colorScheme,"layout-overlay":"overlay"===this.layoutService.config.menuMode,"layout-static":"static"===this.layoutService.config.menuMode,"layout-static-inactive":this.layoutService.state.staticMenuDesktopInactive&&"static"===this.layoutService.config.menuMode,"layout-overlay-active":this.layoutService.state.overlayMenuActive,"layout-mobile-active":this.layoutService.state.staticMenuMobileActive,"p-input-filled":"filled"===this.layoutService.config.inputStyle,"p-ripple-disabled":!this.layoutService.config.ripple}}ngOnDestroy(){this.overlayMenuOpenSubscription&&this.overlayMenuOpenSubscription.unsubscribe(),this.menuOutsideClickListener&&this.menuOutsideClickListener()}}return l.\u0275fac=function(i){return new(i||l)(E.Y36(ee.P),E.Y36(E.Qsj),E.Y36(K.F0))},l.\u0275cmp=E.Xpm({type:l,selectors:[["app-layout"]],viewQuery:function(i,c){if(1&i&&(E.Gf(bt,5),E.Gf(ut,5)),2&i){let f;E.iGM(f=E.CRH())&&(c.appSidebar=f.first),E.iGM(f=E.CRH())&&(c.appTopbar=f.first)}},decls:10,vars:1,consts:[[1,"layout-wrapper",3,"ngClass"],[1,"layout-sidebar"],[1,"layout-main-container"],[1,"layout-main"],[1,"layout-mask"]],template:function(i,c){1&i&&(E.TgZ(0,"div",0),E._UZ(1,"app-topbar"),E.TgZ(2,"div",1),E._UZ(3,"app-sidebar"),E.qZA(),E.TgZ(4,"div",2)(5,"div",3),E._UZ(6,"router-outlet"),E.qZA(),E._UZ(7,"app-footer"),E.qZA(),E._UZ(8,"app-config")(9,"div",4),E.qZA()),2&i&&E.Q6J("ngClass",c.containerClass)},dependencies:[Z.mk,K.lC,xn,ut,ir,bt],encapsulation:2}),l})(),Ur=(()=>{class l{constructor(i,c){this.authService=i,this.router=c}canActivate(){return!0!==this.authService.isLogado&&this.router.navigate(["/auth/login"]),!0}}return l.\u0275fac=function(i){return new(i||l)(E.LFG(Bt.e),E.LFG(K.F0))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),mr=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({imports:[K.Bz.forRoot([{path:"",component:Yn,children:[{path:"",loadChildren:()=>Promise.all([U.e(5920),U.e(585),U.e(1997),U.e(99),U.e(9364),U.e(1327),U.e(7919),U.e(8592),U.e(2650)]).then(U.bind(U,2650)).then(r=>r.DashboardModule)},{path:"orcamentos",loadChildren:()=>U.e(438).then(U.bind(U,438)).then(r=>r.OrcamentoModule)},{path:"uikit",loadChildren:()=>U.e(3598).then(U.bind(U,3598)).then(r=>r.UIkitModule)},{path:"utilities",loadChildren:()=>U.e(9761).then(U.bind(U,9761)).then(r=>r.UtilitiesModule)},{path:"documentation",loadChildren:()=>U.e(3173).then(U.bind(U,3173)).then(r=>r.DocumentationModule)},{path:"blocks",loadChildren:()=>Promise.all([U.e(3425),U.e(8592),U.e(7294)]).then(U.bind(U,7294)).then(r=>r.PrimeBlocksModule)},{path:"pages",loadChildren:()=>U.e(5013).then(U.bind(U,5013)).then(r=>r.PagesModule)}],canActivate:[Ur]},{path:"auth",loadChildren:()=>U.e(8878).then(U.bind(U,8878)).then(r=>r.AuthModule)},{path:"landing",loadChildren:()=>Promise.all([U.e(9364),U.e(8592),U.e(4225)]).then(U.bind(U,4225)).then(r=>r.LandingModule)},{path:"notfound",component:he},{path:"**",redirectTo:"/notfound"}],{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",onSameUrlNavigation:"reload"}),K.Bz]}),l})();var gn=U(529);function zr(l){return new E.vHH(3e3,!1)}function Le(){return typeof window<"u"&&typeof window.document<"u"}function Ne(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function fe(l){switch(l.length){case 0:return new se.ZN;case 1:return l[0];default:return new se.ZE(l)}}function He(l,r,i,c,f=new Map,w=new Map){const D=[],L=[];let q=-1,te=null;if(c.forEach(xe=>{const Fe=xe.get("offset"),nt=Fe==q,It=nt&&te||new Map;xe.forEach((Pt,Xt)=>{let Cn=Xt,nr=Pt;if("offset"!==Xt)switch(Cn=r.normalizePropertyName(Cn,D),nr){case se.k1:nr=f.get(Xt);break;case se.l3:nr=w.get(Xt);break;default:nr=r.normalizeStyleValue(Xt,Cn,nr,D)}It.set(Cn,nr)}),nt||L.push(It),te=It,q=Fe}),D.length)throw function nn(l){return new E.vHH(3502,!1)}();return L}function gt(l,r,i,c){switch(r){case"start":l.onStart(()=>c(i&&Lt(i,"start",l)));break;case"done":l.onDone(()=>c(i&&Lt(i,"done",l)));break;case"destroy":l.onDestroy(()=>c(i&&Lt(i,"destroy",l)))}}function Lt(l,r,i){const w=fn(l.element,l.triggerName,l.fromState,l.toState,r||l.phaseName,i.totalTime??l.totalTime,!!i.disabled),D=l._data;return null!=D&&(w._data=D),w}function fn(l,r,i,c,f="",w=0,D){return{element:l,triggerName:r,fromState:i,toState:c,phaseName:f,totalTime:w,disabled:!!D}}function hn(l,r,i){let c=l.get(r);return c||l.set(r,c=i),c}function Kn(l){const r=l.indexOf(":");return[l.substring(1,r),l.slice(r+1)]}let Ai=(l,r)=>!1,Li=(l,r,i)=>[],bs=null;function is(l){const r=l.parentNode||l.host;return r===bs?null:r}(Ne()||typeof Element<"u")&&(Le()?(bs=(()=>document.documentElement)(),Ai=(l,r)=>{for(;r;){if(r===l)return!0;r=is(r)}return!1}):Ai=(l,r)=>l.contains(r),Li=(l,r,i)=>{if(i)return Array.from(l.querySelectorAll(r));const c=l.querySelector(r);return c?[c]:[]});let gs=null,Xn=!1;const Qr=Ai,No=Li;let Ts=(()=>{class l{validateStyleProperty(i){return function kr(l){gs||(gs=function Is(){return typeof document<"u"?document.body:null}()||{},Xn=!!gs.style&&"WebkitAppearance"in gs.style);let r=!0;return gs.style&&!function Fi(l){return"ebkit"==l.substring(1,6)}(l)&&(r=l in gs.style,!r&&Xn&&(r="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in gs.style)),r}(i)}matchesElement(i,c){return!1}containsElement(i,c){return Qr(i,c)}getParentElement(i){return is(i)}query(i,c,f){return No(i,c,f)}computeStyle(i,c,f){return f||""}animate(i,c,f,w,D,L=[],q){return new se.ZN(f,w)}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})(),di=(()=>{class l{}return l.NOOP=new Ts,l})();const rn=1e3,Zn="ng-enter",Mi="ng-leave",hi="ng-trigger",Ri=".ng-trigger",sr="ng-animating",Oo=".ng-animating";function fi(l){if("number"==typeof l)return l;const r=l.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:Gn(parseFloat(r[1]),r[2])}function Gn(l,r){return"s"===r?l*rn:l}function Ss(l,r,i){return l.hasOwnProperty("duration")?l:function mi(l,r,i){let f,w=0,D="";if("string"==typeof l){const L=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===L)return r.push(zr()),{duration:0,delay:0,easing:""};f=Gn(parseFloat(L[1]),L[2]);const q=L[3];null!=q&&(w=Gn(parseFloat(q),L[4]));const te=L[5];te&&(D=te)}else f=l;if(!i){let L=!1,q=r.length;f<0&&(r.push(function Dr(){return new E.vHH(3100,!1)}()),L=!0),w<0&&(r.push(function Nn(){return new E.vHH(3101,!1)}()),L=!0),L&&r.splice(q,0,zr())}return{duration:f,delay:w,easing:D}}(l,r,i)}function Qi(l,r={}){return Object.keys(l).forEach(i=>{r[i]=l[i]}),r}function jr(l){const r=new Map;return Object.keys(l).forEach(i=>{r.set(i,l[i])}),r}function xi(l,r=new Map,i){if(i)for(let[c,f]of i)r.set(c,f);for(let[c,f]of l)r.set(c,f);return r}function pr(l,r,i){return i?r+":"+i+";":""}function Fs(l){let r="";for(let i=0;i<l.style.length;i++){const c=l.style.item(i);r+=pr(0,c,l.style.getPropertyValue(c))}for(const i in l.style)l.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=pr(0,Wr(i),l.style[i]));l.setAttribute("style",r)}function Vi(l,r,i){l.style&&(r.forEach((c,f)=>{const w=gr(f);i&&!i.has(f)&&i.set(f,l.style[w]),l.style[w]=c}),Ne()&&Fs(l))}function Ue(l,r){l.style&&(r.forEach((i,c)=>{const f=gr(c);l.style[f]=""}),Ne()&&Fs(l))}function je(l){return Array.isArray(l)?1==l.length?l[0]:(0,se.vP)(l):l}const At=new RegExp("{{\\s*(.+?)\\s*}}","g");function $t(l){let r=[];if("string"==typeof l){let i;for(;i=At.exec(l);)r.push(i[1]);At.lastIndex=0}return r}function mn(l,r,i){const c=l.toString(),f=c.replace(At,(w,D)=>{let L=r[D];return null==L&&(i.push(function Dn(l){return new E.vHH(3003,!1)}()),L=""),L.toString()});return f==c?l:f}function Mn(l){const r=[];let i=l.next();for(;!i.done;)r.push(i.value),i=l.next();return r}const kn=/-+([a-z0-9])/g;function gr(l){return l.replace(kn,(...r)=>r[1].toUpperCase())}function Wr(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bi(l,r,i){switch(r.type){case 7:return l.visitTrigger(r,i);case 0:return l.visitState(r,i);case 1:return l.visitTransition(r,i);case 2:return l.visitSequence(r,i);case 3:return l.visitGroup(r,i);case 4:return l.visitAnimate(r,i);case 5:return l.visitKeyframes(r,i);case 6:return l.visitStyle(r,i);case 8:return l.visitReference(r,i);case 9:return l.visitAnimateChild(r,i);case 10:return l.visitAnimateRef(r,i);case 11:return l.visitQuery(r,i);case 12:return l.visitStagger(r,i);default:throw function li(l){return new E.vHH(3004,!1)}()}}function ko(l,r){return window.getComputedStyle(l)[r]}const so="*";function ya(l,r){const i=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(c=>function Xo(l,r,i){if(":"==l[0]){const q=function ss(l,r){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,c)=>parseFloat(c)>parseFloat(i);case":decrement":return(i,c)=>parseFloat(c)<parseFloat(i);default:return r.push(function ci(l){return new E.vHH(3016,!1)}()),"* => *"}}(l,i);if("function"==typeof q)return void r.push(q);l=q}const c=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return i.push(function ur(l){return new E.vHH(3015,!1)}()),r;const f=c[1],w=c[2],D=c[3];r.push(os(f,D));"<"==w[0]&&!(f==so&&D==so)&&r.push(os(D,f))}(c,i,r)):i.push(l),i}const oo=new Set(["true","1"]),Ws=new Set(["false","0"]);function os(l,r){const i=oo.has(l)||Ws.has(l),c=oo.has(r)||Ws.has(r);return(f,w)=>{let D=l==so||l==f,L=r==so||r==w;return!D&&i&&"boolean"==typeof f&&(D=f?oo.has(l):Ws.has(l)),!L&&c&&"boolean"==typeof w&&(L=w?oo.has(r):Ws.has(r)),D&&L}}const Oa=new RegExp("s*:selfs*,?","g");function ka(l,r,i,c){return new As(l).build(r,i,c)}class As{constructor(r){this._driver=r}build(r,i,c){const f=new ta(i);return this._resetContextStyleTimingState(f),Bi(this,je(r),f)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,i){let c=i.queryCount=0,f=i.depCount=0;const w=[],D=[];return"@"==r.name.charAt(0)&&i.errors.push(function qi(){return new E.vHH(3006,!1)}()),r.definitions.forEach(L=>{if(this._resetContextStyleTimingState(i),0==L.type){const q=L,te=q.name;te.toString().split(/\s*,\s*/).forEach(xe=>{q.name=xe,w.push(this.visitState(q,i))}),q.name=te}else if(1==L.type){const q=this.visitTransition(L,i);c+=q.queryCount,f+=q.depCount,D.push(q)}else i.errors.push(function wi(){return new E.vHH(3007,!1)}())}),{type:7,name:r.name,states:w,transitions:D,queryCount:c,depCount:f,options:null}}visitState(r,i){const c=this.visitStyle(r.styles,i),f=r.options&&r.options.params||null;if(c.containsDynamicStyles){const w=new Set,D=f||{};c.styles.forEach(L=>{L instanceof Map&&L.forEach(q=>{$t(q).forEach(te=>{D.hasOwnProperty(te)||w.add(te)})})}),w.size&&(Mn(w.values()),i.errors.push(function Sn(l,r){return new E.vHH(3008,!1)}()))}return{type:0,name:r.name,style:c,options:f?{params:f}:null}}visitTransition(r,i){i.queryCount=0,i.depCount=0;const c=Bi(this,je(r.animation),i);return{type:1,matchers:ya(r.expr,i.errors),animation:c,queryCount:i.queryCount,depCount:i.depCount,options:Hi(r.options)}}visitSequence(r,i){return{type:2,steps:r.steps.map(c=>Bi(this,c,i)),options:Hi(r.options)}}visitGroup(r,i){const c=i.currentTime;let f=0;const w=r.steps.map(D=>{i.currentTime=c;const L=Bi(this,D,i);return f=Math.max(f,i.currentTime),L});return i.currentTime=f,{type:3,steps:w,options:Hi(r.options)}}visitAnimate(r,i){const c=function Ks(l,r){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return Us(Ss(l,r).duration,0,"");const i=l;if(i.split(/\s+/).some(w=>"{"==w.charAt(0)&&"{"==w.charAt(1))){const w=Us(0,0,"");return w.dynamic=!0,w.strValue=i,w}const f=Ss(i,r);return Us(f.duration,f.delay,f.easing)}(r.timings,i.errors);i.currentAnimateTimings=c;let f,w=r.styles?r.styles:(0,se.oB)({});if(5==w.type)f=this.visitKeyframes(w,i);else{let D=r.styles,L=!1;if(!D){L=!0;const te={};c.easing&&(te.easing=c.easing),D=(0,se.oB)(te)}i.currentTime+=c.duration+c.delay;const q=this.visitStyle(D,i);q.isEmptyStep=L,f=q}return i.currentAnimateTimings=null,{type:4,timings:c,style:f,options:null}}visitStyle(r,i){const c=this._makeStyleAst(r,i);return this._validateStyleAst(c,i),c}_makeStyleAst(r,i){const c=[],f=Array.isArray(r.styles)?r.styles:[r.styles];for(let L of f)"string"==typeof L?L===se.l3?c.push(L):i.errors.push(new E.vHH(3002,!1)):c.push(jr(L));let w=!1,D=null;return c.forEach(L=>{if(L instanceof Map&&(L.has("easing")&&(D=L.get("easing"),L.delete("easing")),!w))for(let q of L.values())if(q.toString().indexOf("{{")>=0){w=!0;break}}),{type:6,styles:c,easing:D,offset:r.offset,containsDynamicStyles:w,options:null}}_validateStyleAst(r,i){const c=i.currentAnimateTimings;let f=i.currentTime,w=i.currentTime;c&&w>0&&(w-=c.duration+c.delay),r.styles.forEach(D=>{"string"!=typeof D&&D.forEach((L,q)=>{const te=i.collectedStyles.get(i.currentQuerySelector),xe=te.get(q);let Fe=!0;xe&&(w!=f&&w>=xe.startTime&&f<=xe.endTime&&(i.errors.push(function Yt(l,r,i,c,f){return new E.vHH(3010,!1)}()),Fe=!1),w=xe.startTime),Fe&&te.set(q,{startTime:w,endTime:f}),i.options&&function lt(l,r,i){const c=r.params||{},f=$t(l);f.length&&f.forEach(w=>{c.hasOwnProperty(w)||i.push(function qt(l){return new E.vHH(3001,!1)}())})}(L,i.options,i.errors)})})}visitKeyframes(r,i){const c={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function Yr(){return new E.vHH(3011,!1)}()),c;let w=0;const D=[];let L=!1,q=!1,te=0;const xe=r.steps.map(nr=>{const Pr=this._makeStyleAst(nr,i);let lr=null!=Pr.offset?Pr.offset:function cr(l){if("string"==typeof l)return null;let r=null;if(Array.isArray(l))l.forEach(i=>{if(i instanceof Map&&i.has("offset")){const c=i;r=parseFloat(c.get("offset")),c.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const i=l;r=parseFloat(i.get("offset")),i.delete("offset")}return r}(Pr.styles),Nr=0;return null!=lr&&(w++,Nr=Pr.offset=lr),q=q||Nr<0||Nr>1,L=L||Nr<te,te=Nr,D.push(Nr),Pr});q&&i.errors.push(function Vr(){return new E.vHH(3012,!1)}()),L&&i.errors.push(function Ar(){return new E.vHH(3200,!1)}());const Fe=r.steps.length;let nt=0;w>0&&w<Fe?i.errors.push(function Br(){return new E.vHH(3202,!1)}()):0==w&&(nt=1/(Fe-1));const It=Fe-1,Pt=i.currentTime,Xt=i.currentAnimateTimings,Cn=Xt.duration;return xe.forEach((nr,Pr)=>{const lr=nt>0?Pr==It?1:nt*Pr:D[Pr],Nr=lr*Cn;i.currentTime=Pt+Xt.delay+Nr,Xt.duration=Nr,this._validateStyleAst(nr,i),nr.offset=lr,c.styles.push(nr)}),c}visitReference(r,i){return{type:8,animation:Bi(this,je(r.animation),i),options:Hi(r.options)}}visitAnimateChild(r,i){return i.depCount++,{type:9,options:Hi(r.options)}}visitAnimateRef(r,i){return{type:10,animation:this.visitReference(r.animation,i),options:Hi(r.options)}}visitQuery(r,i){const c=i.currentQuerySelector,f=r.options||{};i.queryCount++,i.currentQuery=r;const[w,D]=function ea(l){const r=!!l.split(/\s*,\s*/).find(i=>":self"==i);return r&&(l=l.replace(Oa,"")),l=l.replace(/@\*/g,Ri).replace(/@\w+/g,i=>Ri+"-"+i.slice(1)).replace(/:animating/g,Oo),[l,r]}(r.selector);i.currentQuerySelector=c.length?c+" "+w:w,hn(i.collectedStyles,i.currentQuerySelector,new Map);const L=Bi(this,je(r.animation),i);return i.currentQuery=null,i.currentQuerySelector=c,{type:11,selector:w,limit:f.limit||0,optional:!!f.optional,includeSelf:D,animation:L,originalSelector:r.selector,options:Hi(r.options)}}visitStagger(r,i){i.currentQuery||i.errors.push(function ui(){return new E.vHH(3013,!1)}());const c="full"===r.timings?{duration:0,delay:0,easing:"full"}:Ss(r.timings,i.errors,!0);return{type:12,animation:Bi(this,je(r.animation),i),timings:c,options:null}}}class ta{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hi(l){return l?(l=Qi(l)).params&&(l.params=function as(l){return l?Qi(l):null}(l.params)):l={},l}function Us(l,r,i){return{duration:l,delay:r,easing:i}}function va(l,r,i,c,f,w,D=null,L=!1){return{type:1,element:l,keyframes:r,preStyleProps:i,postStyleProps:c,duration:f,delay:w,totalTime:f+w,easing:D,subTimeline:L}}class ls{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,i){let c=this._map.get(r);c||this._map.set(r,c=[]),c.push(...i)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const Ea=new RegExp(":enter","g"),Ms=new RegExp(":leave","g");function _r(l,r,i,c,f,w=new Map,D=new Map,L,q,te=[]){return(new _i).buildKeyframes(l,r,i,c,f,w,D,L,q,te)}class _i{buildKeyframes(r,i,c,f,w,D,L,q,te,xe=[]){te=te||new ls;const Fe=new ti(r,i,te,f,w,xe,[]);Fe.options=q;const nt=q.delay?fi(q.delay):0;Fe.currentTimeline.delayNextStep(nt),Fe.currentTimeline.setStyles([D],null,Fe.errors,q),Bi(this,c,Fe);const It=Fe.timelines.filter(Pt=>Pt.containsAnimation());if(It.length&&L.size){let Pt;for(let Xt=It.length-1;Xt>=0;Xt--){const Cn=It[Xt];if(Cn.element===i){Pt=Cn;break}}Pt&&!Pt.allowOnlyTimelineStyles()&&Pt.setStyles([L],null,Fe.errors,q)}return It.length?It.map(Pt=>Pt.buildKeyframes()):[va(i,[],[],[],0,nt,"",!1)]}visitTrigger(r,i){}visitState(r,i){}visitTransition(r,i){}visitAnimateChild(r,i){const c=i.subInstructions.get(i.element);if(c){const f=i.createSubContext(r.options),w=i.currentTimeline.currentTime,D=this._visitSubInstructions(c,f,f.options);w!=D&&i.transformIntoNewTimeline(D)}i.previousNode=r}visitAnimateRef(r,i){const c=i.createSubContext(r.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],i,c),this.visitReference(r.animation,c),i.transformIntoNewTimeline(c.currentTimeline.currentTime),i.previousNode=r}_applyAnimationRefDelays(r,i,c){for(const f of r){const w=f?.delay;if(w){const D="number"==typeof w?w:fi(mn(w,f?.params??{},i.errors));c.delayNextStep(D)}}}_visitSubInstructions(r,i,c){let w=i.currentTimeline.currentTime;const D=null!=c.duration?fi(c.duration):null,L=null!=c.delay?fi(c.delay):null;return 0!==D&&r.forEach(q=>{const te=i.appendInstructionToTimeline(q,D,L);w=Math.max(w,te.duration+te.delay)}),w}visitReference(r,i){i.updateOptions(r.options,!0),Bi(this,r.animation,i),i.previousNode=r}visitSequence(r,i){const c=i.subContextCount;let f=i;const w=r.options;if(w&&(w.params||w.delay)&&(f=i.createSubContext(w),f.transformIntoNewTimeline(),null!=w.delay)){6==f.previousNode.type&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=co);const D=fi(w.delay);f.delayNextStep(D)}r.steps.length&&(r.steps.forEach(D=>Bi(this,D,f)),f.currentTimeline.applyStylesToKeyframe(),f.subContextCount>c&&f.transformIntoNewTimeline()),i.previousNode=r}visitGroup(r,i){const c=[];let f=i.currentTimeline.currentTime;const w=r.options&&r.options.delay?fi(r.options.delay):0;r.steps.forEach(D=>{const L=i.createSubContext(r.options);w&&L.delayNextStep(w),Bi(this,D,L),f=Math.max(f,L.currentTimeline.currentTime),c.push(L.currentTimeline)}),c.forEach(D=>i.currentTimeline.mergeTimelineCollectedStyles(D)),i.transformIntoNewTimeline(f),i.previousNode=r}_visitTiming(r,i){if(r.dynamic){const c=r.strValue;return Ss(i.params?mn(c,i.params,i.errors):c,i.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,i){const c=i.currentAnimateTimings=this._visitTiming(r.timings,i),f=i.currentTimeline;c.delay&&(i.incrementTime(c.delay),f.snapshotCurrentStyles());const w=r.style;5==w.type?this.visitKeyframes(w,i):(i.incrementTime(c.duration),this.visitStyle(w,i),f.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=r}visitStyle(r,i){const c=i.currentTimeline,f=i.currentAnimateTimings;!f&&c.hasCurrentStyleProperties()&&c.forwardFrame();const w=f&&f.easing||r.easing;r.isEmptyStep?c.applyEmptyStep(w):c.setStyles(r.styles,w,i.errors,i.options),i.previousNode=r}visitKeyframes(r,i){const c=i.currentAnimateTimings,f=i.currentTimeline.duration,w=c.duration,L=i.createSubContext().currentTimeline;L.easing=c.easing,r.styles.forEach(q=>{L.forwardTime((q.offset||0)*w),L.setStyles(q.styles,q.easing,i.errors,i.options),L.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(L),i.transformIntoNewTimeline(f+w),i.previousNode=r}visitQuery(r,i){const c=i.currentTimeline.currentTime,f=r.options||{},w=f.delay?fi(f.delay):0;w&&(6===i.previousNode.type||0==c&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=co);let D=c;const L=i.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!f.optional,i.errors);i.currentQueryTotal=L.length;let q=null;L.forEach((te,xe)=>{i.currentQueryIndex=xe;const Fe=i.createSubContext(r.options,te);w&&Fe.delayNextStep(w),te===i.element&&(q=Fe.currentTimeline),Bi(this,r.animation,Fe),Fe.currentTimeline.applyStylesToKeyframe(),D=Math.max(D,Fe.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(D),q&&(i.currentTimeline.mergeTimelineCollectedStyles(q),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=r}visitStagger(r,i){const c=i.parentContext,f=i.currentTimeline,w=r.timings,D=Math.abs(w.duration),L=D*(i.currentQueryTotal-1);let q=D*i.currentQueryIndex;switch(w.duration<0?"reverse":w.easing){case"reverse":q=L-q;break;case"full":q=c.currentStaggerTime}const xe=i.currentTimeline;q&&xe.delayNextStep(q);const Fe=xe.currentTime;Bi(this,r.animation,i),i.previousNode=r,c.currentStaggerTime=f.currentTime-Fe+(f.startTime-c.currentTimeline.startTime)}}const co={};class ti{constructor(r,i,c,f,w,D,L,q){this._driver=r,this.element=i,this.subInstructions=c,this._enterClassName=f,this._leaveClassName=w,this.errors=D,this.timelines=L,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=co,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=q||new _s(this._driver,i,0),L.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,i){if(!r)return;const c=r;let f=this.options;null!=c.duration&&(f.duration=fi(c.duration)),null!=c.delay&&(f.delay=fi(c.delay));const w=c.params;if(w){let D=f.params;D||(D=this.options.params={}),Object.keys(w).forEach(L=>{(!i||!D.hasOwnProperty(L))&&(D[L]=mn(w[L],D,this.errors))})}}_copyOptions(){const r={};if(this.options){const i=this.options.params;if(i){const c=r.params={};Object.keys(i).forEach(f=>{c[f]=i[f]})}}return r}createSubContext(r=null,i,c){const f=i||this.element,w=new ti(this._driver,f,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(f,c||0));return w.previousNode=this.previousNode,w.currentAnimateTimings=this.currentAnimateTimings,w.options=this._copyOptions(),w.updateOptions(r),w.currentQueryIndex=this.currentQueryIndex,w.currentQueryTotal=this.currentQueryTotal,w.parentContext=this,this.subContextCount++,w}transformIntoNewTimeline(r){return this.previousNode=co,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,i,c){const f={duration:i??r.duration,delay:this.currentTimeline.currentTime+(c??0)+r.delay,easing:""},w=new na(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,f,r.stretchStartingKeyframe);return this.timelines.push(w),f}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,i,c,f,w,D){let L=[];if(f&&L.push(this.element),r.length>0){r=(r=r.replace(Ea,"."+this._enterClassName)).replace(Ms,"."+this._leaveClassName);let te=this._driver.query(this.element,r,1!=c);0!==c&&(te=c<0?te.slice(te.length+c,te.length):te.slice(0,c)),L.push(...te)}return!w&&0==L.length&&D.push(function Cs(l){return new E.vHH(3014,!1)}()),L}}class _s{constructor(r,i,c,f){this._driver=r,this.element=i,this.startTime=c,this._elementTimelineStylesLookup=f,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+r),i&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,i){return this.applyStylesToKeyframe(),new _s(this._driver,r,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,i){this._localTimelineStyles.set(r,i),this._globalTimelineStyles.set(r,i),this._styleSummary.set(r,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[i,c]of this._globalTimelineStyles)this._backFill.set(i,c||se.l3),this._currentKeyframe.set(i,se.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,i,c,f){i&&this._previousKeyframe.set("easing",i);const w=f&&f.params||{},D=function ra(l,r){const i=new Map;let c;return l.forEach(f=>{if("*"===f){c=c||r.keys();for(let w of c)i.set(w,se.l3)}else xi(f,i)}),i}(r,this._globalTimelineStyles);for(let[L,q]of D){const te=mn(q,w,c);this._pendingStyles.set(L,te),this._localTimelineStyles.has(L)||this._backFill.set(L,this._globalTimelineStyles.get(L)??se.l3),this._updateStyle(L,te)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,i)=>{this._currentKeyframe.set(i,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,r)}))}snapshotCurrentStyles(){for(let[r,i]of this._localTimelineStyles)this._pendingStyles.set(r,i),this._updateStyle(r,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let i in this._currentKeyframe)r.push(i);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((i,c)=>{const f=this._styleSummary.get(c);(!f||i.time>f.time)&&this._updateStyle(c,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,i=new Set,c=1===this._keyframes.size&&0===this.duration;let f=[];this._keyframes.forEach((L,q)=>{const te=xi(L,new Map,this._backFill);te.forEach((xe,Fe)=>{xe===se.k1?r.add(Fe):xe===se.l3&&i.add(Fe)}),c||te.set("offset",q/this.duration),f.push(te)});const w=r.size?Mn(r.values()):[],D=i.size?Mn(i.values()):[];if(c){const L=f[0],q=new Map(L);L.set("offset",0),q.set("offset",1),f=[L,q]}return va(this.element,f,w,D,this.duration,this.startTime,this.easing,!1)}}class na extends _s{constructor(r,i,c,f,w,D,L=!1){super(r,i,D.delay),this.keyframes=c,this.preStyleProps=f,this.postStyleProps=w,this._stretchStartingKeyframe=L,this.timings={duration:D.duration,delay:D.delay,easing:D.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:i,duration:c,easing:f}=this.timings;if(this._stretchStartingKeyframe&&i){const w=[],D=c+i,L=i/D,q=xi(r[0]);q.set("offset",0),w.push(q);const te=xi(r[0]);te.set("offset",ji(L)),w.push(te);const xe=r.length-1;for(let Fe=1;Fe<=xe;Fe++){let nt=xi(r[Fe]);const It=nt.get("offset");nt.set("offset",ji((i+It*c)/D)),w.push(nt)}c=D,i=0,f="",r=w}return va(this.element,r,this.preStyleProps,this.postStyleProps,c,i,f,!0)}}function ji(l,r=3){const i=Math.pow(10,r-1);return Math.round(l*i)/i}class ys{}const ho=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gi extends ys{normalizePropertyName(r,i){return gr(r)}normalizeStyleValue(r,i,c,f){let w="";const D=c.toString().trim();if(ho.has(i)&&0!==c&&"0"!==c)if("number"==typeof c)w="px";else{const L=c.match(/^[+-]?[\d\.]+([a-z]*)$/);L&&0==L[1].length&&f.push(function Or(l,r){return new E.vHH(3005,!1)}())}return D+w}}function el(l,r,i,c,f,w,D,L,q,te,xe,Fe,nt){return{type:0,element:l,triggerName:r,isRemovalTransition:f,fromState:i,fromStyles:w,toState:c,toStyles:D,timelines:L,queriedElements:q,preStyleProps:te,postStyleProps:xe,totalTime:Fe,errors:nt}}const Zi={};class Lo{constructor(r,i,c){this._triggerName=r,this.ast=i,this._stateStyles=c}match(r,i,c,f){return function Vn(l,r,i,c,f){return l.some(w=>w(r,i,c,f))}(this.ast.matchers,r,i,c,f)}buildStyles(r,i,c){let f=this._stateStyles.get("*");return void 0!==r&&(f=this._stateStyles.get(r?.toString())||f),f?f.buildStyles(i,c):new Map}build(r,i,c,f,w,D,L,q,te,xe){const Fe=[],nt=this.ast.options&&this.ast.options.params||Zi,Pt=this.buildStyles(c,L&&L.params||Zi,Fe),Xt=q&&q.params||Zi,Cn=this.buildStyles(f,Xt,Fe),nr=new Set,Pr=new Map,lr=new Map,Nr="void"===f,Pl={params:Fo(Xt,nt),delay:this.ast.options?.delay},s=xe?[]:_r(r,i,this.ast.animation,w,D,Pt,Cn,Pl,te,Fe);let e=0;if(s.forEach(a=>{e=Math.max(a.duration+a.delay,e)}),Fe.length)return el(i,this._triggerName,c,f,Nr,Pt,Cn,[],[],Pr,lr,e,Fe);s.forEach(a=>{const h=a.element,m=hn(Pr,h,new Set);a.preStyleProps.forEach(R=>m.add(R));const C=hn(lr,h,new Set);a.postStyleProps.forEach(R=>C.add(R)),h!==i&&nr.add(h)});const t=Mn(nr.values());return el(i,this._triggerName,c,f,Nr,Pt,Cn,s,t,Pr,lr,e)}}function Fo(l,r){const i=Qi(r);for(const c in l)l.hasOwnProperty(c)&&null!=l[c]&&(i[c]=l[c]);return i}class Fa{constructor(r,i,c){this.styles=r,this.defaultParams=i,this.normalizer=c}buildStyles(r,i){const c=new Map,f=Qi(this.defaultParams);return Object.keys(r).forEach(w=>{const D=r[w];null!==D&&(f[w]=D)}),this.styles.styles.forEach(w=>{"string"!=typeof w&&w.forEach((D,L)=>{D&&(D=mn(D,f,i));const q=this.normalizer.normalizePropertyName(L,i);D=this.normalizer.normalizeStyleValue(L,q,D,i),c.set(L,D)})}),c}}class Co{constructor(r,i,c){this.name=r,this.ast=i,this._normalizer=c,this.transitionFactories=[],this.states=new Map,i.states.forEach(f=>{this.states.set(f.name,new Fa(f.style,f.options&&f.options.params||{},c))}),yl(this.states,"true","1"),yl(this.states,"false","0"),i.transitions.forEach(f=>{this.transitionFactories.push(new Lo(r,f,this.states))}),this.fallbackTransition=function fo(l,r,i){return new Lo(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[(D,L)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,i,c,f){return this.transitionFactories.find(D=>D.match(r,i,c,f))||null}matchStyles(r,i,c){return this.fallbackTransition.buildStyles(r,i,c)}}function yl(l,r,i){l.has(r)?l.has(i)||l.set(i,l.get(r)):l.has(i)&&l.set(r,l.get(i))}const sa=new ls;class bo{constructor(r,i,c){this.bodyNode=r,this._driver=i,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,i){const c=[],f=[],w=ka(this._driver,i,c,f);if(c.length)throw function Tt(l){return new E.vHH(3503,!1)}();this._animations.set(r,w)}_buildPlayer(r,i,c){const f=r.element,w=He(0,this._normalizer,0,r.keyframes,i,c);return this._driver.animate(f,w,r.duration,r.delay,r.easing,[],!0)}create(r,i,c={}){const f=[],w=this._animations.get(r);let D;const L=new Map;if(w?(D=_r(this._driver,i,w,Zn,Mi,new Map,new Map,c,sa,f),D.forEach(xe=>{const Fe=hn(L,xe.element,new Map);xe.postStyleProps.forEach(nt=>Fe.set(nt,null))})):(f.push(function We(){return new E.vHH(3300,!1)}()),D=[]),f.length)throw function Se(l){return new E.vHH(3504,!1)}();L.forEach((xe,Fe)=>{xe.forEach((nt,It)=>{xe.set(It,this._driver.computeStyle(Fe,It,se.l3))})});const te=fe(D.map(xe=>{const Fe=L.get(xe.element);return this._buildPlayer(xe,new Map,Fe)}));return this._playersById.set(r,te),te.onDestroy(()=>this.destroy(r)),this.players.push(te),te}destroy(r){const i=this._getPlayer(r);i.destroy(),this._playersById.delete(r);const c=this.players.indexOf(i);c>=0&&this.players.splice(c,1)}_getPlayer(r){const i=this._playersById.get(r);if(!i)throw function Pe(l){return new E.vHH(3301,!1)}();return i}listen(r,i,c,f){const w=fn(i,"","","");return gt(this._getPlayer(r),c,w,f),()=>{}}command(r,i,c,f){if("register"==c)return void this.register(r,f[0]);if("create"==c)return void this.create(r,i,f[0]||{});const w=this._getPlayer(r);switch(c){case"play":w.play();break;case"pause":w.pause();break;case"reset":w.reset();break;case"restart":w.restart();break;case"finish":w.finish();break;case"init":w.init();break;case"setPosition":w.setPosition(parseFloat(f[0]));break;case"destroy":this.destroy(r)}}}const O="ng-animate-queued",F="ng-animate-disabled",yr=[],ni={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pi="__ng_removed";class xs{get params(){return this.options.params}constructor(r,i=""){this.namespaceId=i;const c=r&&r.hasOwnProperty("value");if(this.value=function Vo(l){return l??null}(c?r.value:r),c){const w=Qi(r);delete w.value,this.options=w}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const i=r.params;if(i){const c=this.options.params;Object.keys(i).forEach(f=>{null==c[f]&&(c[f]=i[f])})}}}const Ci="void",Io=new xs(Ci);class us{constructor(r,i,c){this.id=r,this.hostElement=i,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Ni(i,this._hostClassName)}listen(r,i,c,f){if(!this._triggers.has(i))throw function St(l,r){return new E.vHH(3302,!1)}();if(null==c||0==c.length)throw function Et(l){return new E.vHH(3303,!1)}();if(!function Ca(l){return"start"==l||"done"==l}(c))throw function ve(l,r){return new E.vHH(3400,!1)}();const w=hn(this._elementListeners,r,[]),D={name:i,phase:c,callback:f};w.push(D);const L=hn(this._engine.statesByElement,r,new Map);return L.has(i)||(Ni(r,hi),Ni(r,hi+"-"+i),L.set(i,Io)),()=>{this._engine.afterFlush(()=>{const q=w.indexOf(D);q>=0&&w.splice(q,1),this._triggers.has(i)||L.delete(i)})}}register(r,i){return!this._triggers.has(r)&&(this._triggers.set(r,i),!0)}_getTrigger(r){const i=this._triggers.get(r);if(!i)throw function Ee(l){return new E.vHH(3401,!1)}();return i}trigger(r,i,c,f=!0){const w=this._getTrigger(i),D=new po(this.id,i,r);let L=this._engine.statesByElement.get(r);L||(Ni(r,hi),Ni(r,hi+"-"+i),this._engine.statesByElement.set(r,L=new Map));let q=L.get(i);const te=new xs(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&q&&te.absorbOptions(q.options),L.set(i,te),q||(q=Io),te.value!==Ci&&q.value===te.value){if(!function Va(l,r){const i=Object.keys(l),c=Object.keys(r);if(i.length!=c.length)return!1;for(let f=0;f<i.length;f++){const w=i[f];if(!r.hasOwnProperty(w)||l[w]!==r[w])return!1}return!0}(q.params,te.params)){const Xt=[],Cn=w.matchStyles(q.value,q.params,Xt),nr=w.matchStyles(te.value,te.params,Xt);Xt.length?this._engine.reportError(Xt):this._engine.afterFlush(()=>{Ue(r,Cn),Vi(r,nr)})}return}const nt=hn(this._engine.playersByElement,r,[]);nt.forEach(Xt=>{Xt.namespaceId==this.id&&Xt.triggerName==i&&Xt.queued&&Xt.destroy()});let It=w.matchTransition(q.value,te.value,r,te.params),Pt=!1;if(!It){if(!f)return;It=w.fallbackTransition,Pt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:i,transition:It,fromState:q,toState:te,player:D,isFallbackTransition:Pt}),Pt||(Ni(r,O),D.onStart(()=>{Bo(r,O)})),D.onDone(()=>{let Xt=this.players.indexOf(D);Xt>=0&&this.players.splice(Xt,1);const Cn=this._engine.playersByElement.get(r);if(Cn){let nr=Cn.indexOf(D);nr>=0&&Cn.splice(nr,1)}}),this.players.push(D),nt.push(D),D}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(i=>i.delete(r)),this._elementListeners.forEach((i,c)=>{this._elementListeners.set(c,i.filter(f=>f.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const i=this._engine.playersByElement.get(r);i&&(i.forEach(c=>c.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,i){const c=this._engine.driver.query(r,Ri,!0);c.forEach(f=>{if(f[pi])return;const w=this._engine.fetchNamespacesByElement(f);w.size?w.forEach(D=>D.triggerLeaveAnimation(f,i,!1,!0)):this.clearElementCache(f)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(f=>this.clearElementCache(f)))}triggerLeaveAnimation(r,i,c,f){const w=this._engine.statesByElement.get(r),D=new Map;if(w){const L=[];if(w.forEach((q,te)=>{if(D.set(te,q.value),this._triggers.has(te)){const xe=this.trigger(r,te,Ci,f);xe&&L.push(xe)}}),L.length)return this._engine.markElementAsRemoved(this.id,r,!0,i,D),c&&fe(L).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const i=this._elementListeners.get(r),c=this._engine.statesByElement.get(r);if(i&&c){const f=new Set;i.forEach(w=>{const D=w.name;if(f.has(D))return;f.add(D);const q=this._triggers.get(D).fallbackTransition,te=c.get(D)||Io,xe=new xs(Ci),Fe=new po(this.id,D,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:D,transition:q,fromState:te,toState:xe,player:Fe,isFallbackTransition:!0})})}}removeNode(r,i){const c=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,i),this.triggerLeaveAnimation(r,i,!0))return;let f=!1;if(c.totalAnimations){const w=c.players.length?c.playersByQueriedElement.get(r):[];if(w&&w.length)f=!0;else{let D=r;for(;D=D.parentNode;)if(c.statesByElement.get(D)){f=!0;break}}}if(this.prepareLeaveAnimationListeners(r),f)c.markElementAsRemoved(this.id,r,!1,i);else{const w=r[pi];(!w||w===ni)&&(c.afterFlush(()=>this.clearElementCache(r)),c.destroyInnerAnimations(r),c._onRemovalComplete(r,i))}}insertNode(r,i){Ni(r,this._hostClassName)}drainQueuedTransitions(r){const i=[];return this._queue.forEach(c=>{const f=c.player;if(f.destroyed)return;const w=c.element,D=this._elementListeners.get(w);D&&D.forEach(L=>{if(L.name==c.triggerName){const q=fn(w,c.triggerName,c.fromState.value,c.toState.value);q._data=r,gt(c.player,L.phase,q,L.callback)}}),f.markedForDestroy?this._engine.afterFlush(()=>{f.destroy()}):i.push(c)}),this._queue=[],i.sort((c,f)=>{const w=c.transition.ast.depCount,D=f.transition.ast.depCount;return 0==w||0==D?w-D:this._engine.driver.containsElement(c.element,f.element)?1:-1})}destroy(r){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let i=!1;return this._elementListeners.has(r)&&(i=!0),i=!!this._queue.find(c=>c.element===r)||i,i}}class cs{_onRemovalComplete(r,i){this.onRemovalComplete(r,i)}constructor(r,i,c){this.bodyNode=r,this.driver=i,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(f,w)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(i=>{i.players.forEach(c=>{c.queued&&r.push(c)})}),r}createNamespace(r,i){const c=new us(r,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(c,i):(this.newHostElements.set(i,c),this.collectEnterElement(i)),this._namespaceLookup[r]=c}_balanceNamespaceList(r,i){const c=this._namespaceList,f=this.namespacesByHostElement;if(c.length-1>=0){let D=!1,L=this.driver.getParentElement(i);for(;L;){const q=f.get(L);if(q){const te=c.indexOf(q);c.splice(te+1,0,r),D=!0;break}L=this.driver.getParentElement(L)}D||c.unshift(r)}else c.push(r);return f.set(i,r),r}register(r,i){let c=this._namespaceLookup[r];return c||(c=this.createNamespace(r,i)),c}registerTrigger(r,i,c){let f=this._namespaceLookup[r];f&&f.register(i,c)&&this.totalAnimations++}destroy(r,i){if(!r)return;const c=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[r];const f=this._namespaceList.indexOf(c);f>=0&&this._namespaceList.splice(f,1)}),this.afterFlushAnimationsDone(()=>c.destroy(i))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const i=new Set,c=this.statesByElement.get(r);if(c)for(let f of c.values())if(f.namespaceId){const w=this._fetchNamespace(f.namespaceId);w&&i.add(w)}return i}trigger(r,i,c,f){if(wa(i)){const w=this._fetchNamespace(r);if(w)return w.trigger(i,c,f),!0}return!1}insertNode(r,i,c,f){if(!wa(i))return;const w=i[pi];if(w&&w.setForRemoval){w.setForRemoval=!1,w.setForMove=!0;const D=this.collectedLeaveElements.indexOf(i);D>=0&&this.collectedLeaveElements.splice(D,1)}if(r){const D=this._fetchNamespace(r);D&&D.insertNode(i,c)}f&&this.collectEnterElement(i)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,i){i?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Ni(r,F)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Bo(r,F))}removeNode(r,i,c,f){if(wa(i)){const w=r?this._fetchNamespace(r):null;if(w?w.removeNode(i,f):this.markElementAsRemoved(r,i,!1,f),c){const D=this.namespacesByHostElement.get(i);D&&D.id!==r&&D.removeNode(i,f)}}else this._onRemovalComplete(i,f)}markElementAsRemoved(r,i,c,f,w){this.collectedLeaveElements.push(i),i[pi]={namespaceId:r,setForRemoval:f,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:w}}listen(r,i,c,f,w){return wa(i)?this._fetchNamespace(r).listen(i,c,f,w):()=>{}}_buildInstruction(r,i,c,f,w){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,c,f,r.fromState.options,r.toState.options,i,w)}destroyInnerAnimations(r){let i=this.driver.query(r,Ri,!0);i.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(r,Oo,!0),i.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(r){const i=this.playersByElement.get(r);i&&i.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(r){const i=this.playersByQueriedElement.get(r);i&&i.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return fe(this.players).onDone(()=>r());r()})}processLeaveNode(r){const i=r[pi];if(i&&i.setForRemoval){if(r[pi]=ni,i.namespaceId){this.destroyInnerAnimations(r);const c=this._fetchNamespace(i.namespaceId);c&&c.clearElementCache(r)}this._onRemovalComplete(r,i.setForRemoval)}r.classList?.contains(F)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(r=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,f)=>this._balanceNamespaceList(c,f)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)Ni(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{i=this._flushAnimations(c,r)}finally{for(let f=0;f<c.length;f++)c[f]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],i.length?fe(i).onDone(()=>{c.forEach(f=>f())}):c.forEach(f=>f())}}reportError(r){throw function Oe(l){return new E.vHH(3402,!1)}()}_flushAnimations(r,i){const c=new ls,f=[],w=new Map,D=[],L=new Map,q=new Map,te=new Map,xe=new Set;this.disabledNodes.forEach(re=>{xe.add(re);const we=this.driver.query(re,".ng-animate-queued",!0);for(let $e=0;$e<we.length;$e++)xe.add(we[$e])});const Fe=this.bodyNode,nt=Array.from(this.statesByElement.keys()),It=Ua(nt,this.collectedEnterElements),Pt=new Map;let Xt=0;It.forEach((re,we)=>{const $e=Zn+Xt++;Pt.set(we,$e),re.forEach(dt=>Ni(dt,$e))});const Cn=[],nr=new Set,Pr=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){const we=this.collectedLeaveElements[re],$e=we[pi];$e&&$e.setForRemoval&&(Cn.push(we),nr.add(we),$e.hasAnimation?this.driver.query(we,".ng-star-inserted",!0).forEach(dt=>nr.add(dt)):Pr.add(we))}const lr=new Map,Nr=Ua(nt,Array.from(nr));Nr.forEach((re,we)=>{const $e=Mi+Xt++;lr.set(we,$e),re.forEach(dt=>Ni(dt,$e))}),r.push(()=>{It.forEach((re,we)=>{const $e=Pt.get(we);re.forEach(dt=>Bo(dt,$e))}),Nr.forEach((re,we)=>{const $e=lr.get(we);re.forEach(dt=>Bo(dt,$e))}),Cn.forEach(re=>{this.processLeaveNode(re)})});const Pl=[],s=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(i).forEach($e=>{const dt=$e.player,Ut=$e.element;if(Pl.push(dt),this.collectedEnterElements.length){const Er=Ut[pi];if(Er&&Er.setForMove){if(Er.previousTriggersValues&&Er.previousTriggersValues.has($e.triggerName)){const Ei=Er.previousTriggersValues.get($e.triggerName),rs=this.statesByElement.get($e.element);if(rs&&rs.has($e.triggerName)){const ru=rs.get($e.triggerName);ru.value=Ei,rs.set($e.triggerName,ru)}}return void dt.destroy()}}const an=!Fe||!this.driver.containsElement(Fe,Ut),vn=lr.get(Ut),Tr=Pt.get(Ut),Jn=this._buildInstruction($e,c,Tr,vn,an);if(Jn.errors&&Jn.errors.length)return void s.push(Jn);if(an)return dt.onStart(()=>Ue(Ut,Jn.fromStyles)),dt.onDestroy(()=>Vi(Ut,Jn.toStyles)),void f.push(dt);if($e.isFallbackTransition)return dt.onStart(()=>Ue(Ut,Jn.fromStyles)),dt.onDestroy(()=>Vi(Ut,Jn.toStyles)),void f.push(dt);const Sr=[];Jn.timelines.forEach(Er=>{Er.stretchStartingKeyframe=!0,this.disabledNodes.has(Er.element)||Sr.push(Er)}),Jn.timelines=Sr,c.append(Ut,Jn.timelines),D.push({instruction:Jn,player:dt,element:Ut}),Jn.queriedElements.forEach(Er=>hn(L,Er,[]).push(dt)),Jn.preStyleProps.forEach((Er,Ei)=>{if(Er.size){let rs=q.get(Ei);rs||q.set(Ei,rs=new Set),Er.forEach((ru,Xy)=>rs.add(Xy))}}),Jn.postStyleProps.forEach((Er,Ei)=>{let rs=te.get(Ei);rs||te.set(Ei,rs=new Set),Er.forEach((ru,Xy)=>rs.add(Xy))})});if(s.length){const re=[];s.forEach(we=>{re.push(function Je(l,r){return new E.vHH(3505,!1)}())}),Pl.forEach(we=>we.destroy()),this.reportError(re)}const e=new Map,t=new Map;D.forEach(re=>{const we=re.element;c.has(we)&&(t.set(we,we),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,e))}),f.forEach(re=>{const we=re.element;this._getPreviousPlayers(we,!1,re.namespaceId,re.triggerName,null).forEach(dt=>{hn(e,we,[]).push(dt),dt.destroy()})});const a=Cn.filter(re=>El(re,q,te)),h=new Map;iu(h,this.driver,Pr,te,se.l3).forEach(re=>{El(re,q,te)&&a.push(re)});const C=new Map;It.forEach((re,we)=>{iu(C,this.driver,new Set(re),q,se.k1)}),a.forEach(re=>{const we=h.get(re),$e=C.get(re);h.set(re,new Map([...Array.from(we?.entries()??[]),...Array.from($e?.entries()??[])]))});const R=[],G=[],X={};D.forEach(re=>{const{element:we,player:$e,instruction:dt}=re;if(c.has(we)){if(xe.has(we))return $e.onDestroy(()=>Vi(we,dt.toStyles)),$e.disabled=!0,$e.overrideTotalTime(dt.totalTime),void f.push($e);let Ut=X;if(t.size>1){let vn=we;const Tr=[];for(;vn=vn.parentNode;){const Jn=t.get(vn);if(Jn){Ut=Jn;break}Tr.push(vn)}Tr.forEach(Jn=>t.set(Jn,Ut))}const an=this._buildAnimation($e.namespaceId,dt,e,w,C,h);if($e.setRealPlayer(an),Ut===X)R.push($e);else{const vn=this.playersByElement.get(Ut);vn&&vn.length&&($e.parentPlayer=fe(vn)),f.push($e)}}else Ue(we,dt.fromStyles),$e.onDestroy(()=>Vi(we,dt.toStyles)),G.push($e),xe.has(we)&&f.push($e)}),G.forEach(re=>{const we=w.get(re.element);if(we&&we.length){const $e=fe(we);re.setRealPlayer($e)}}),f.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<Cn.length;re++){const we=Cn[re],$e=we[pi];if(Bo(we,Mi),$e&&$e.hasAnimation)continue;let dt=[];if(L.size){let an=L.get(we);an&&an.length&&dt.push(...an);let vn=this.driver.query(we,Oo,!0);for(let Tr=0;Tr<vn.length;Tr++){let Jn=L.get(vn[Tr]);Jn&&Jn.length&&dt.push(...Jn)}}const Ut=dt.filter(an=>!an.destroyed);Ut.length?tl(this,we,Ut):this.processLeaveNode(we)}return Cn.length=0,R.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();const we=this.players.indexOf(re);this.players.splice(we,1)}),re.play()}),R}elementContainsData(r,i){let c=!1;const f=i[pi];return f&&f.setForRemoval&&(c=!0),this.playersByElement.has(i)&&(c=!0),this.playersByQueriedElement.has(i)&&(c=!0),this.statesByElement.has(i)&&(c=!0),this._fetchNamespace(r).elementContainsData(i)||c}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,i,c,f,w){let D=[];if(i){const L=this.playersByQueriedElement.get(r);L&&(D=L)}else{const L=this.playersByElement.get(r);if(L){const q=!w||w==Ci;L.forEach(te=>{te.queued||!q&&te.triggerName!=f||D.push(te)})}}return(c||f)&&(D=D.filter(L=>!(c&&c!=L.namespaceId||f&&f!=L.triggerName))),D}_beforeAnimationBuild(r,i,c){const w=i.element,D=i.isRemovalTransition?void 0:r,L=i.isRemovalTransition?void 0:i.triggerName;for(const q of i.timelines){const te=q.element,xe=te!==w,Fe=hn(c,te,[]);this._getPreviousPlayers(te,xe,D,L,i.toState).forEach(It=>{const Pt=It.getRealPlayer();Pt.beforeDestroy&&Pt.beforeDestroy(),It.destroy(),Fe.push(It)})}Ue(w,i.fromStyles)}_buildAnimation(r,i,c,f,w,D){const L=i.triggerName,q=i.element,te=[],xe=new Set,Fe=new Set,nt=i.timelines.map(Pt=>{const Xt=Pt.element;xe.add(Xt);const Cn=Xt[pi];if(Cn&&Cn.removedBeforeQueried)return new se.ZN(Pt.duration,Pt.delay);const nr=Xt!==q,Pr=function oa(l){const r=[];return Nl(l,r),r}((c.get(Xt)||yr).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===Xt),lr=w.get(Xt),Nr=D.get(Xt),Pl=He(0,this._normalizer,0,Pt.keyframes,lr,Nr),s=this._buildPlayer(Pt,Pl,Pr);if(Pt.subTimeline&&f&&Fe.add(Xt),nr){const e=new po(r,L,Xt);e.setRealPlayer(s),te.push(e)}return s});te.forEach(Pt=>{hn(this.playersByQueriedElement,Pt.element,[]).push(Pt),Pt.onDone(()=>function Uo(l,r,i){let c=l.get(r);if(c){if(c.length){const f=c.indexOf(i);c.splice(f,1)}0==c.length&&l.delete(r)}return c}(this.playersByQueriedElement,Pt.element,Pt))}),xe.forEach(Pt=>Ni(Pt,sr));const It=fe(nt);return It.onDestroy(()=>{xe.forEach(Pt=>Bo(Pt,sr)),Vi(q,i.toStyles)}),Fe.forEach(Pt=>{hn(f,Pt,[]).push(It)}),It}_buildPlayer(r,i,c){return i.length>0?this.driver.animate(r.element,i,r.duration,r.delay,r.easing,c):new se.ZN(r.duration,r.delay)}}class po{constructor(r,i,c){this.namespaceId=r,this.triggerName=i,this.element=c,this._player=new se.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((i,c)=>{i.forEach(f=>gt(r,c,void 0,f))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const i=this._player;i.triggerCallback&&r.onStart(()=>i.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,i){hn(this._queuedCallbacks,r,[]).push(i)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const i=this._player;i.triggerCallback&&i.triggerCallback(r)}}function wa(l){return l&&1===l.nodeType}function vl(l,r){const i=l.style.display;return l.style.display=r??"none",i}function iu(l,r,i,c,f){const w=[];i.forEach(q=>w.push(vl(q)));const D=[];c.forEach((q,te)=>{const xe=new Map;q.forEach(Fe=>{const nt=r.computeStyle(te,Fe,f);xe.set(Fe,nt),(!nt||0==nt.length)&&(te[pi]=Rs,D.push(te))}),l.set(te,xe)});let L=0;return i.forEach(q=>vl(q,w[L++])),D}function Ua(l,r){const i=new Map;if(l.forEach(L=>i.set(L,[])),0==r.length)return i;const c=1,f=new Set(r),w=new Map;function D(L){if(!L)return c;let q=w.get(L);if(q)return q;const te=L.parentNode;return q=i.has(te)?te:f.has(te)?c:D(te),w.set(L,q),q}return r.forEach(L=>{const q=D(L);q!==c&&i.get(q).push(L)}),i}function Ni(l,r){l.classList?.add(r)}function Bo(l,r){l.classList?.remove(r)}function tl(l,r,i){fe(i).onDone(()=>l.processLeaveNode(r))}function Nl(l,r){for(let i=0;i<l.length;i++){const c=l[i];c instanceof se.ZE?Nl(c.players,r):r.push(c)}}function El(l,r,i){const c=i.get(l);if(!c)return!1;let f=r.get(l);return f?c.forEach(w=>f.add(w)):r.set(l,c),i.delete(l),!0}class nl{constructor(r,i,c){this.bodyNode=r,this._driver=i,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(f,w)=>{},this._transitionEngine=new cs(r,i,c),this._timelineEngine=new bo(r,i,c),this._transitionEngine.onRemovalComplete=(f,w)=>this.onRemovalComplete(f,w)}registerTrigger(r,i,c,f,w){const D=r+"-"+f;let L=this._triggerCache[D];if(!L){const q=[],te=[],xe=ka(this._driver,w,q,te);if(q.length)throw function $n(l,r){return new E.vHH(3404,!1)}();L=function wo(l,r,i){return new Co(l,r,i)}(f,xe,this._normalizer),this._triggerCache[D]=L}this._transitionEngine.registerTrigger(i,f,L)}register(r,i){this._transitionEngine.register(r,i)}destroy(r,i){this._transitionEngine.destroy(r,i)}onInsert(r,i,c,f){this._transitionEngine.insertNode(r,i,c,f)}onRemove(r,i,c,f){this._transitionEngine.removeNode(r,i,f||!1,c)}disableAnimations(r,i){this._transitionEngine.markElementAsDisabled(r,i)}process(r,i,c,f){if("@"==c.charAt(0)){const[w,D]=Kn(c);this._timelineEngine.command(w,i,D,f)}else this._transitionEngine.trigger(r,i,c,f)}listen(r,i,c,f,w){if("@"==c.charAt(0)){const[D,L]=Kn(c);return this._timelineEngine.listen(D,i,L,w)}return this._transitionEngine.listen(r,i,c,f,w)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let go=(()=>{class l{constructor(i,c,f){this._element=i,this._startStyles=c,this._endStyles=f,this._state=0;let w=l.initialStylesByElement.get(i);w||l.initialStylesByElement.set(i,w=new Map),this._initialStyles=w}start(){this._state<1&&(this._startStyles&&Vi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vi(this._element,this._initialStyles),this._endStyles&&(Vi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(Ue(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ue(this._element,this._endStyles),this._endStyles=null),Vi(this._element,this._initialStyles),this._state=3)}}return l.initialStylesByElement=new WeakMap,l})();function wl(l){let r=null;return l.forEach((i,c)=>{(function rl(l){return"display"===l||"position"===l})(c)&&(r=r||new Map,r.set(c,i))}),r}class ba{constructor(r,i,c,f){this.element=r,this.keyframes=i,this.options=c,this._specialStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const i=[];return r.forEach(c=>{i.push(Object.fromEntries(c))}),i}_triggerWebAnimation(r,i,c){return r.animate(this._convertKeyframesToObject(i),c)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,f)=>{"offset"!==f&&r.set(f,this._finished?c:ko(this.element,f))}),this.currentSnapshot=r}triggerCallback(r){const i="start"===r?this._onStartFns:this._onDoneFns;i.forEach(c=>c()),i.length=0}}class ds{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,i){return!1}containsElement(r,i){return Qr(r,i)}getParentElement(r){return is(r)}query(r,i,c){return No(r,i,c)}computeStyle(r,i,c){return window.getComputedStyle(r)[i]}animate(r,i,c,f,w,D=[]){const q={duration:c,delay:f,fill:0==f?"both":"forwards"};w&&(q.easing=w);const te=new Map,xe=D.filter(It=>It instanceof ba);(function Pi(l,r){return 0===l||0===r})(c,f)&&xe.forEach(It=>{It.currentSnapshot.forEach((Pt,Xt)=>te.set(Xt,Pt))});let Fe=function Jr(l){return l.length?l[0]instanceof Map?l:l.map(r=>jr(r)):[]}(i).map(It=>xi(It));Fe=function Ji(l,r,i){if(i.size&&r.length){let c=r[0],f=[];if(i.forEach((w,D)=>{c.has(D)||f.push(D),c.set(D,w)}),f.length)for(let w=1;w<r.length;w++){let D=r[w];f.forEach(L=>D.set(L,ko(l,L)))}}return r}(r,Fe,te);const nt=function Ol(l,r){let i=null,c=null;return Array.isArray(r)&&r.length?(i=wl(r[0]),r.length>1&&(c=wl(r[r.length-1]))):r instanceof Map&&(i=wl(r)),i||c?new go(l,i,c):null}(r,Fe);return new ba(r,Fe,q,nt)}}let Ps=(()=>{class l extends se._j{constructor(i,c){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(c.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(i){const c=this._nextAnimationId.toString();this._nextAnimationId++;const f=Array.isArray(i)?(0,se.vP)(i):i;return aa(this._renderer,null,c,"register",[f]),new or(c,this._renderer)}}return l.\u0275fac=function(i){return new(i||l)(E.LFG(E.FYo),E.LFG(Z.K0))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();class or extends se.LC{constructor(r,i){super(),this._id=r,this._renderer=i}create(r,i){return new xu(this._id,r,i||{},this._renderer)}}class xu{constructor(r,i,c,f){this.id=r,this.element=i,this._renderer=f,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(r,i){return this._renderer.listen(this.element,`@@${this.id}:${r}`,i)}_command(r,...i){return aa(this._renderer,this.element,this.id,r,i)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function aa(l,r,i,c,f){return l.setProperty(r,`@@${i}:${c}`,f)}const oc="@.disabled";let qs=(()=>{class l{constructor(i,c,f){this.delegate=i,this.engine=c,this._zone=f,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(w,D)=>{const L=D?.parentNode(w);L&&D.removeChild(L,w)}}createRenderer(i,c){const w=this.delegate.createRenderer(i,c);if(!(i&&c&&c.data&&c.data.animation)){let xe=this._rendererCache.get(w);return xe||(xe=new kl("",w,this.engine,()=>this._rendererCache.delete(w)),this._rendererCache.set(w,xe)),xe}const D=c.id,L=c.id+"-"+this._currentId;this._currentId++,this.engine.register(L,i);const q=xe=>{Array.isArray(xe)?xe.forEach(q):this.engine.registerTrigger(D,L,i,xe.name,xe)};return c.data.animation.forEach(q),new Ll(this,L,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,c,f){i>=0&&i<this._microtaskId?this._zone.run(()=>c(f)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(w=>{const[D,L]=w;D(L)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,f]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return l.\u0275fac=function(i){return new(i||l)(E.LFG(E.FYo),E.LFG(nl),E.LFG(E.R0b))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();class kl{constructor(r,i,c,f){this.namespaceId=r,this.delegate=i,this.engine=c,this._onDestroy=f,this.destroyNode=this.delegate.destroyNode?w=>i.destroyNode(w):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(r,i){return this.delegate.createElement(r,i)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,i){this.delegate.appendChild(r,i),this.engine.onInsert(this.namespaceId,i,r,!1)}insertBefore(r,i,c,f=!0){this.delegate.insertBefore(r,i,c),this.engine.onInsert(this.namespaceId,i,r,f)}removeChild(r,i,c){this.engine.onRemove(this.namespaceId,i,this.delegate,c)}selectRootElement(r,i){return this.delegate.selectRootElement(r,i)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,i,c,f){this.delegate.setAttribute(r,i,c,f)}removeAttribute(r,i,c){this.delegate.removeAttribute(r,i,c)}addClass(r,i){this.delegate.addClass(r,i)}removeClass(r,i){this.delegate.removeClass(r,i)}setStyle(r,i,c,f){this.delegate.setStyle(r,i,c,f)}removeStyle(r,i,c){this.delegate.removeStyle(r,i,c)}setProperty(r,i,c){"@"==i.charAt(0)&&i==oc?this.disableAnimations(r,!!c):this.delegate.setProperty(r,i,c)}setValue(r,i){this.delegate.setValue(r,i)}listen(r,i,c){return this.delegate.listen(r,i,c)}disableAnimations(r,i){this.engine.disableAnimations(r,i)}}class Ll extends kl{constructor(r,i,c,f,w){super(i,c,f,w),this.factory=r,this.namespaceId=i}setProperty(r,i,c){"@"==i.charAt(0)?"."==i.charAt(1)&&i==oc?this.disableAnimations(r,c=void 0===c||!!c):this.engine.process(this.namespaceId,r,i.slice(1),c):this.delegate.setProperty(r,i,c)}listen(r,i,c){if("@"==i.charAt(0)){const f=function su(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(r);let w=i.slice(1),D="";return"@"!=w.charAt(0)&&([w,D]=function ou(l){const r=l.indexOf(".");return[l.substring(0,r),l.slice(r+1)]}(w)),this.engine.listen(this.namespaceId,f,w,D,L=>{this.factory.scheduleListenerCallback(L._data||-1,c,L)})}return this.delegate.listen(r,i,c)}}const le=[{provide:se._j,useClass:Ps},{provide:ys,useFactory:function Q(){return new Gi}},{provide:nl,useClass:(()=>{class l extends nl{constructor(i,c,f,w){super(i.body,c,f)}ngOnDestroy(){this.flush()}}return l.\u0275fac=function(i){return new(i||l)(E.LFG(Z.K0),E.LFG(di),E.LFG(ys),E.LFG(E.z2F))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})()},{provide:E.FYo,useFactory:function j(l,r,i){return new qs(l,r,i)},deps:[_.se,nl,E.R0b]}],Ie=[{provide:di,useFactory:()=>new ds},{provide:E.QbO,useValue:"BrowserAnimations"},...le],mt=[{provide:di,useClass:Ts},{provide:E.QbO,useValue:"NoopAnimations"},...le];let xt=(()=>{class l{static withConfig(i){return{ngModule:l,providers:i.disableAnimations?mt:Ie}}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({providers:Ie,imports:[_.b2]}),l})();var Ln=U(1740),Wn=U(8639),Oi=U(7913);let zt=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({imports:[Z.ez,wt.u5,yt.l,Ot.cc,Rt.hJ,Oi.Iu]}),l})(),sn=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({imports:[_.b2,wt.u5,gn.JF,xt,Ln.j,yt.l,Wn.TX,Ot.cc,Oi.Iu,Ge.T,K.Bz,zt]}),l})();var Ia=U(6122),Wt=U(2359),ct=U(1726);let Mt=(()=>{class l{constructor(i){this.http=i}getEvents(){return this.http.get("assets/demo/data/scheduleevents.json").toPromise().then(i=>i.data).then(i=>i)}}return l.\u0275fac=function(i){return new(i||l)(E.LFG(gn.eN))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac}),l})();var ii=U(3205),mo=U(1419),Ta=U(9748),To=U(2011),So=U(1205),Fl=U(9751),Ul=U(9646),Ho=U(8996),zc=U(4986),es=U(4482),Pu=U(5403),Rn=U(4004),la=U(3900),er=U(2122),si=U(3942),bn=U(5861),Zs=U(9681),ge=U(2090),il=U(4859);const yi="firebasestorage.googleapis.com",tn="storageBucket";class Lr extends ge.ZR{constructor(r,i,c=0){super(Sa(r),`Firebase Storage: ${i} (${Sa(r)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lr.prototype)}get status(){return this.status_}set status(r){this.status_=r}_codeEquals(r){return Sa(r)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(r){this.customData.serverResponse=r,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Cr=(()=>{return(l=Cr||(Cr={})).UNKNOWN="unknown",l.OBJECT_NOT_FOUND="object-not-found",l.BUCKET_NOT_FOUND="bucket-not-found",l.PROJECT_NOT_FOUND="project-not-found",l.QUOTA_EXCEEDED="quota-exceeded",l.UNAUTHENTICATED="unauthenticated",l.UNAUTHORIZED="unauthorized",l.UNAUTHORIZED_APP="unauthorized-app",l.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",l.INVALID_CHECKSUM="invalid-checksum",l.CANCELED="canceled",l.INVALID_EVENT_NAME="invalid-event-name",l.INVALID_URL="invalid-url",l.INVALID_DEFAULT_BUCKET="invalid-default-bucket",l.NO_DEFAULT_BUCKET="no-default-bucket",l.CANNOT_SLICE_BLOB="cannot-slice-blob",l.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",l.NO_DOWNLOAD_URL="no-download-url",l.INVALID_ARGUMENT="invalid-argument",l.INVALID_ARGUMENT_COUNT="invalid-argument-count",l.APP_DELETED="app-deleted",l.INVALID_ROOT_OPERATION="invalid-root-operation",l.INVALID_FORMAT="invalid-format",l.INTERNAL_ERROR="internal-error",l.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Cr;var l})();function Sa(l){return"storage/"+l}function Vs(){return new Lr(Cr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sl(){return new Lr(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hs(){return new Lr(Cr.CANCELED,"User canceled the upload/download.")}function vs(){return new Lr(Cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function al(l){return new Lr(Cr.INVALID_ARGUMENT,l)}function Ba(){return new Lr(Cr.APP_DELETED,"The Firebase app was deleted.")}function uu(l){return new Lr(Cr.INVALID_ROOT_OPERATION,"The operation '"+l+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vl(l,r){return new Lr(Cr.INVALID_FORMAT,"String does not match format '"+l+"': "+r)}function Bl(l){throw new Lr(Cr.INTERNAL_ERROR,"Internal error: "+l)}class Qs{constructor(r,i){this.bucket=r,this.path_=i}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const r=encodeURIComponent;return"/b/"+r(this.bucket)+"/o/"+r(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(r,i){let c;try{c=Qs.makeFromUrl(r,i)}catch{return new Qs(r,"")}if(""===c.path)return c;throw function ht(l){return new Lr(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+l+"'.")}(r)}static makeFromUrl(r,i){let c=null;const f="([A-Za-z0-9.\\-_]+)",L=new RegExp("^gs://"+f+"(/(.*))?$","i");function te(Nr){Nr.path_=decodeURIComponent(Nr.path)}const Fe=i.replace(/[.]/g,"\\."),lr=[{regex:L,indices:{bucket:1,path:3},postModify:function w(Nr){"/"===Nr.path.charAt(Nr.path.length-1)&&(Nr.path_=Nr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Fe}/v[A-Za-z0-9_]+/b/${f}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:te},{regex:new RegExp(`^https?://${i===yi?"(?:storage.googleapis.com|storage.cloud.google.com)":i}/${f}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:te}];for(let Nr=0;Nr<lr.length;Nr++){const Pl=lr[Nr],s=Pl.regex.exec(r);if(s){let t=s[Pl.indices.path];t||(t=""),c=new Qs(s[Pl.indices.bucket],t),Pl.postModify(c);break}}if(null==c)throw function ol(l){return new Lr(Cr.INVALID_URL,"Invalid URL '"+l+"'.")}(r);return c}}class Ao{constructor(r){this.promise_=Promise.reject(r)}getPromise(){return this.promise_}cancel(r=!1){}}function ja(l){return"string"==typeof l||l instanceof String}function Go(l){return Ns()&&l instanceof Blob}function Ns(){return typeof Blob<"u"&&!(0,ge.UG)()}function _o(l,r,i,c){if(c<r)throw al(`Invalid value for '${l}'. Expected ${r} or greater.`);if(c>i)throw al(`Invalid value for '${l}'. Expected ${i} or less.`)}function Js(l,r,i){let c=r;return null==i&&(c=`https://${r}`),`${i}://${c}/v0${l}`}function Tl(l){const r=encodeURIComponent;let i="?";for(const c in l)l.hasOwnProperty(c)&&(i=i+(r(c)+"=")+r(l[c])+"&");return i=i.slice(0,-1),i}var Hs=(()=>{return(l=Hs||(Hs={}))[l.NO_ERROR=0]="NO_ERROR",l[l.NETWORK_ERROR=1]="NETWORK_ERROR",l[l.ABORT=2]="ABORT",Hs;var l})();function Nu(l,r){const i=l>=500&&l<600,f=-1!==[408,429].indexOf(l),w=-1!==r.indexOf(l);return i||f||w}class Ou{constructor(r,i,c,f,w,D,L,q,te,xe,Fe,nt=!0){this.url_=r,this.method_=i,this.headers_=c,this.body_=f,this.successCodes_=w,this.additionalRetryCodes_=D,this.callback_=L,this.errorCallback_=q,this.timeout_=te,this.progressCallback_=xe,this.connectionFactory_=Fe,this.retry=nt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((It,Pt)=>{this.resolve_=It,this.reject_=Pt,this.start_()})}start_(){const i=(c,f)=>{const w=this.resolve_,D=this.reject_,L=f.connection;if(f.wasSuccessCode)try{const q=this.callback_(L,L.getResponse());!function ep(l){return void 0!==l}(q)?w():w(q)}catch(q){D(q)}else if(null!==L){const q=Vs();q.serverResponse=L.getErrorText(),D(this.errorCallback_?this.errorCallback_(L,q):q)}else D(f.canceled?this.appDelete_?Ba():hs():sl())};this.canceled_?i(0,new $a(!1,null,!0)):this.backoffId_=function Ha(l,r,i){let c=1,f=null,w=null,D=!1,L=0;function q(){return 2===L}let te=!1;function xe(...Cn){te||(te=!0,r.apply(null,Cn))}function Fe(Cn){f=setTimeout(()=>{f=null,l(It,q())},Cn)}function nt(){w&&clearTimeout(w)}function It(Cn,...nr){if(te)return void nt();if(Cn)return nt(),void xe.call(null,Cn,...nr);if(q()||D)return nt(),void xe.call(null,Cn,...nr);let lr;c<64&&(c*=2),1===L?(L=2,lr=0):lr=1e3*(c+Math.random()),Fe(lr)}let Pt=!1;function Xt(Cn){Pt||(Pt=!0,nt(),!te&&(null!==f?(Cn||(L=2),clearTimeout(f),Fe(0)):Cn||(L=1)))}return Fe(0),w=setTimeout(()=>{D=!0,Xt(!0)},i),Xt}((c,f)=>{if(f)return void c(!1,new $a(!1,null,!0));const w=this.connectionFactory_();this.pendingConnection_=w;const D=L=>{null!==this.progressCallback_&&this.progressCallback_(L.loaded,L.lengthComputable?L.total:-1)};null!==this.progressCallback_&&w.addUploadProgressListener(D),w.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&w.removeUploadProgressListener(D),this.pendingConnection_=null;const L=w.getErrorCode()===Hs.NO_ERROR,q=w.getStatus();if(!L||Nu(q,this.additionalRetryCodes_)&&this.retry){const xe=w.getErrorCode()===Hs.ABORT;return void c(!1,new $a(!1,null,xe))}const te=-1!==this.successCodes_.indexOf(q);c(!0,new $a(te,w))})},i,this.timeout_)}getPromise(){return this.promise_}cancel(r){this.canceled_=!0,this.appDelete_=r||!1,null!==this.backoffId_&&function lc(l){l(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class $a{constructor(r,i,c){this.wasSuccessCode=r,this.connection=i,this.canceled=!!c}}function P(...l){const r=function b(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==r){const i=new r;for(let c=0;c<l.length;c++)i.append(l[c]);return i.getBlob()}if(Ns())return new Blob(l);throw new Lr(Cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ce={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qe{constructor(r,i){this.data=r,this.contentType=i||null}}function Dt(l,r){switch(l){case ce.RAW:return new Qe(on(r));case ce.BASE64:case ce.BASE64URL:return new Qe(dr(l,r));case ce.DATA_URL:return new Qe(function vi(l){const r=new gi(l);return r.base64?dr(ce.BASE64,r.rest):function un(l){let r;try{r=decodeURIComponent(l)}catch{throw Vl(ce.DATA_URL,"Malformed data URL.")}return on(r)}(r.rest)}(r),function Xs(l){return new gi(l).contentType}(r))}throw Vs()}function on(l){const r=[];for(let i=0;i<l.length;i++){let c=l.charCodeAt(i);c<=127?r.push(c):c<=2047?r.push(192|c>>6,128|63&c):55296==(64512&c)?i<l.length-1&&56320==(64512&l.charCodeAt(i+1))?(c=65536|(1023&c)<<10|1023&l.charCodeAt(++i),r.push(240|c>>18,128|c>>12&63,128|c>>6&63,128|63&c)):r.push(239,191,189):56320==(64512&c)?r.push(239,191,189):r.push(224|c>>12,128|c>>6&63,128|63&c)}return new Uint8Array(r)}function dr(l,r){switch(l){case ce.BASE64:{const f=-1!==r.indexOf("-"),w=-1!==r.indexOf("_");if(f||w)throw Vl(l,"Invalid character '"+(f?"-":"_")+"' found: is it base64url encoded?");break}case ce.BASE64URL:{const f=-1!==r.indexOf("+"),w=-1!==r.indexOf("/");if(f||w)throw Vl(l,"Invalid character '"+(f?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=function oe(l){if(typeof atob>"u")throw function Fr(l){return new Lr(Cr.UNSUPPORTED_ENVIRONMENT,`${l} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(l)}(r)}catch(f){throw f.message.includes("polyfill")?f:Vl(l,"Invalid character found")}const c=new Uint8Array(i.length);for(let f=0;f<i.length;f++)c[f]=i.charCodeAt(f);return c}class gi{constructor(r){this.base64=!1,this.contentType=null;const i=r.match(/^data:([^,]+)?,/);if(null===i)throw Vl(ce.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const c=i[1]||null;null!=c&&(this.base64=function V(l,r){return l.length>=r.length&&l.substring(l.length-r.length)===r}(c,";base64"),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=r.substring(r.indexOf(",")+1)}}class ${constructor(r,i){let c=0,f="";Go(r)?(this.data_=r,c=r.size,f=r.type):r instanceof ArrayBuffer?(i?this.data_=new Uint8Array(r):(this.data_=new Uint8Array(r.byteLength),this.data_.set(new Uint8Array(r))),c=this.data_.length):r instanceof Uint8Array&&(i?this.data_=r:(this.data_=new Uint8Array(r.length),this.data_.set(r)),c=r.length),this.size_=c,this.type_=f}size(){return this.size_}type(){return this.type_}slice(r,i){if(Go(this.data_)){const f=function z(l,r,i){return l.webkitSlice?l.webkitSlice(r,i):l.mozSlice?l.mozSlice(r,i):l.slice?l.slice(r,i):null}(this.data_,r,i);return null===f?null:new $(f)}{const c=new Uint8Array(this.data_.buffer,r,i-r);return new $(c,!0)}}static getBlob(...r){if(Ns()){const i=r.map(c=>c instanceof $?c.data_:c);return new $(P.apply(null,i))}{const i=r.map(D=>ja(D)?Dt(ce.RAW,D).data:D.data_);let c=0;i.forEach(D=>{c+=D.byteLength});const f=new Uint8Array(c);let w=0;return i.forEach(D=>{for(let L=0;L<D.length;L++)f[w++]=D[L]}),new $(f,!0)}}uploadData(){return this.data_}}function ne(l){let r;try{r=JSON.parse(l)}catch{return null}return function Il(l){return"object"==typeof l&&!Array.isArray(l)}(r)?r:null}function et(l){const r=l.lastIndexOf("/",l.length-2);return-1===r?l:l.slice(r+1)}function jt(l,r){return r}class Qt{constructor(r,i,c,f){this.server=r,this.local=i||r,this.writable=!!c,this.xform=f||jt}}let dn=null;function hr(){if(dn)return dn;const l=[];l.push(new Qt("bucket")),l.push(new Qt("generation")),l.push(new Qt("metageneration")),l.push(new Qt("name","fullPath",!0));const i=new Qt("name");i.xform=function r(w,D){return function Fn(l){return!ja(l)||l.length<2?l:et(l)}(D)},l.push(i);const f=new Qt("size");return f.xform=function c(w,D){return void 0!==D?Number(D):D},l.push(f),l.push(new Qt("timeCreated")),l.push(new Qt("updated")),l.push(new Qt("md5Hash",null,!0)),l.push(new Qt("cacheControl",null,!0)),l.push(new Qt("contentDisposition",null,!0)),l.push(new Qt("contentEncoding",null,!0)),l.push(new Qt("contentLanguage",null,!0)),l.push(new Qt("contentType",null,!0)),l.push(new Qt("metadata","customMetadata",!0)),dn=l,dn}function zi(l,r,i){const c=ne(r);return null===c?null:function Da(l,r,i){const c={type:"file"},f=i.length;for(let w=0;w<f;w++){const D=i[w];c[D.local]=D.xform(c,r[D.server])}return function In(l,r){Object.defineProperty(l,"ref",{get:function i(){const w=new Qs(l.bucket,l.fullPath);return r._makeStorageReference(w)}})}(c,l),c}(l,c,i)}function Ga(l,r){const i={},c=r.length;for(let f=0;f<c;f++){const w=r[f];w.writable&&(i[w.server]=l[w.local])}return JSON.stringify(i)}const Hl="prefixes",js="items";class $s{constructor(r,i,c,f){this.url=r,this.method=i,this.handler=c,this.timeout=f,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Wo(l){if(!l)throw Vs()}function jl(l,r){return function i(c,f){const w=zi(l,f,r);return Wo(null!==w),w}}function Sl(l){return function r(i,c){let f;return f=401===i.getStatus()?i.getErrorText().includes("Firebase App Check token is invalid")?function bl(){return new Lr(Cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ys(){return new Lr(Cr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===i.getStatus()?function lu(l){return new Lr(Cr.QUOTA_EXCEEDED,"Quota for bucket '"+l+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(l.bucket):403===i.getStatus()?function Bs(l){return new Lr(Cr.UNAUTHORIZED,"User does not have permission to access '"+l+"'.")}(l.path):c,f.status=i.getStatus(),f.serverResponse=c.serverResponse,f}}function Ko(l){const r=Sl(l);return function i(c,f){let w=r(c,f);return 404===c.getStatus()&&(w=function au(l){return new Lr(Cr.OBJECT_NOT_FOUND,"Object '"+l+"' does not exist.")}(l.path)),w.serverResponse=f.serverResponse,w}}function dg(l,r,i){const f=Js(r.fullServerUrl(),l.host,l._protocol),D=l.maxOperationRetryTime,L=new $s(f,"GET",jl(l,i),D);return L.errorHandler=Ko(r),L}function Kc(l,r,i,c,f){const w={};w.prefix=r.isRoot?"":r.path+"/",i&&i.length>0&&(w.delimiter=i),c&&(w.pageToken=c),f&&(w.maxResults=f);const L=Js(r.bucketOnlyServerUrl(),l.host,l._protocol),te=l.maxOperationRetryTime,xe=new $s(L,"GET",function cu(l,r){return function i(c,f){const w=function jh(l,r,i){const c=ne(i);return null===c?null:function ua(l,r,i){const c={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[Hl])for(const f of i[Hl]){const w=f.replace(/\/$/,""),D=l._makeStorageReference(new Qs(r,w));c.prefixes.push(D)}if(i[js])for(const f of i[js]){const w=l._makeStorageReference(new Qs(r,f.name));c.items.push(w)}return c}(l,r,c)}(l,r,f);return Wo(null!==w),w}}(l,r.bucket),te);return xe.urlParams=w,xe.errorHandler=Sl(r),xe}function fg(l,r,i){const c=Object.assign({},i);return c.fullPath=l.path,c.size=r.size(),c.contentType||(c.contentType=function tp(l,r){return l&&l.contentType||r&&r.type()||"application/octet-stream"}(null,r)),c}class du{constructor(r,i,c,f){this.current=r,this.total=i,this.finalized=!!c,this.metadata=f||null}}function ku(l,r){let i=null;try{i=l.getResponseHeader("X-Goog-Upload-Status")}catch{Wo(!1)}return Wo(!!i&&-1!==(r||["active"]).indexOf(i)),i}const Os={STATE_CHANGED:"state_changed"},qo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ki(l){switch(l){case"running":case"pausing":case"canceling":return qo.RUNNING;case"paused":return qo.PAUSED;case"success":return qo.SUCCESS;case"canceled":return qo.CANCELED;default:return qo.ERROR}}class hu{constructor(r,i,c){if(function Mr(l){return"function"==typeof l}(r)||null!=i||null!=c)this.next=r,this.error=i??void 0,this.complete=c??void 0;else{const w=r;this.next=w.next,this.error=w.error,this.complete=w.complete}}}function fu(l){return(...r)=>{Promise.resolve().then(()=>l(...r))}}let np=null;class qc{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hs.NO_ERROR,this.sendPromise_=new Promise(r=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hs.ABORT,r()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hs.NETWORK_ERROR,r()}),this.xhr_.addEventListener("load",()=>{r()})})}send(r,i,c,f){if(this.sent_)throw Bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,r,!0),void 0!==f)for(const w in f)f.hasOwnProperty(w)&&this.xhr_.setRequestHeader(w,f[w].toString());return void 0!==c?this.xhr_.send(c):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(r){return this.xhr_.getResponseHeader(r)}addUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",r)}removeUploadProgressListener(r){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",r)}}class Um extends qc{initXhr(){this.xhr_.responseType="text"}}function za(){return np?np():new Um}class $d{constructor(r,i,c=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=r,this._blob=i,this._metadata=c,this._mappings=hr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=f=>{if(this._request=void 0,this._chunkMultiplier=1,f._codeEquals(Cr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const w=this.isExponentialBackoffExpired();if(Nu(f.status,[])){if(!w)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();f=sl()}this._error=f,this._transition("error")}},this._metadataErrorHandler=f=>{this._request=void 0,f._codeEquals(Cr.CANCELED)?this.completeTransitions_():(this._error=f,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((f,w)=>{this._resolve=f,this._reject=w,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const r=this._transferred;return i=>this._updateProgress(r+i)}_shouldDoResumable(r){return r.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(r){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,c])=>{switch(this._state){case"running":r(i,c);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((r,i)=>{const c=function pg(l,r,i,c,f){const w=r.bucketOnlyServerUrl(),D=fg(r,c,f),L={name:D.fullPath},q=Js(w,l.host,l._protocol),xe={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${c.size()}`,"X-Goog-Upload-Header-Content-Type":D.contentType,"Content-Type":"application/json; charset=utf-8"},Fe=Ga(D,i),Pt=new $s(q,"POST",function It(Xt){let Cn;ku(Xt);try{Cn=Xt.getResponseHeader("X-Goog-Upload-URL")}catch{Wo(!1)}return Wo(ja(Cn)),Cn},l.maxUploadRetryTime);return Pt.urlParams=L,Pt.headers=xe,Pt.body=Fe,Pt.errorHandler=Sl(r),Pt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),f=this._ref.storage._makeRequest(c,za,r,i);this._request=f,f.getPromise().then(w=>{this._request=void 0,this._uploadUrl=w,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const r=this._uploadUrl;this._resolveToken((i,c)=>{const f=function gg(l,r,i,c){const q=new $s(i,"POST",function w(te){const xe=ku(te,["active","final"]);let Fe=null;try{Fe=te.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Wo(!1)}Fe||Wo(!1);const nt=Number(Fe);return Wo(!isNaN(nt)),new du(nt,c.size(),"final"===xe)},l.maxUploadRetryTime);return q.headers={"X-Goog-Upload-Command":"query"},q.errorHandler=Sl(r),q}(this._ref.storage,this._ref._location,r,this._blob),w=this._ref.storage._makeRequest(f,za,i,c);this._request=w,w.getPromise().then(D=>{this._request=void 0,this._updateProgress(D.current),this._needToFetchStatus=!1,D.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const r=262144*this._chunkMultiplier,i=new du(this._transferred,this._blob.size()),c=this._uploadUrl;this._resolveToken((f,w)=>{let D;try{D=function Dl(l,r,i,c,f,w,D,L){const q=new du(0,0);if(D?(q.current=D.current,q.total=D.total):(q.current=0,q.total=c.size()),c.size()!==q.total)throw function Xf(){return new Lr(Cr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const te=q.total-q.current;let xe=te;f>0&&(xe=Math.min(xe,f));const Fe=q.current;let It="";It=0===xe?"finalize":te===xe?"upload, finalize":"upload";const Pt={"X-Goog-Upload-Command":It,"X-Goog-Upload-Offset":`${q.current}`},Xt=c.slice(Fe,Fe+xe);if(null===Xt)throw vs();const lr=new $s(i,"POST",function Cn(Nr,Pl){const s=ku(Nr,["active","final"]),e=q.current+xe,t=c.size();let a;return a="final"===s?jl(r,w)(Nr,Pl):null,new du(e,t,"final"===s,a)},r.maxUploadRetryTime);return lr.headers=Pt,lr.body=Xt.uploadData(),lr.progressCallback=L||null,lr.errorHandler=Sl(l),lr}(this._ref._location,this._ref.storage,c,this._blob,r,this._mappings,i,this._makeProgressCallback())}catch(q){return this._error=q,void this._transition("error")}const L=this._ref.storage._makeRequest(D,za,f,w,!1);this._request=L,L.getPromise().then(q=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(q.current),q.finalized?(this._metadata=q.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((r,i)=>{const c=dg(this._ref.storage,this._ref._location,this._mappings),f=this._ref.storage._makeRequest(c,za,r,i);this._request=f,f.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((r,i)=>{const c=function Bd(l,r,i,c,f){const w=r.bucketOnlyServerUrl(),D={"X-Goog-Upload-Protocol":"multipart"},q=function L(){let lr="";for(let Nr=0;Nr<2;Nr++)lr+=Math.random().toString().slice(2);return lr}();D["Content-Type"]="multipart/related; boundary="+q;const te=fg(r,c,f),xe=Ga(te,i),It=$.getBlob("--"+q+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xe+"\r\n--"+q+"\r\nContent-Type: "+te.contentType+"\r\n\r\n",c,"\r\n--"+q+"--");if(null===It)throw vs();const Pt={name:te.fullPath},Xt=Js(w,l.host,l._protocol),nr=l.maxUploadRetryTime,Pr=new $s(Xt,"POST",jl(l,i),nr);return Pr.urlParams=Pt,Pr.headers=D,Pr.body=It.uploadData(),Pr.errorHandler=Sl(r),Pr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),f=this._ref.storage._makeRequest(c,za,r,i);this._request=f,f.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(r){const i=this._transferred;this._transferred=r,this._transferred!==i&&this._notifyObservers()}_transition(r){if(this._state!==r)switch(r){case"canceling":case"pausing":this._state=r,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const i="paused"===this._state;this._state=r,i&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=r,this._notifyObservers();break;case"canceled":this._error=hs(),this._state=r,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const r=ki(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:r,metadata:this._metadata,task:this,ref:this._ref}}on(r,i,c,f){const w=new hu(i||void 0,c||void 0,f||void 0);return this._addObserver(w),()=>{this._removeObserver(w)}}then(r,i){return this._promise.then(r,i)}catch(r){return this.then(null,r)}_addObserver(r){this._observers.push(r),this._notifyObserver(r)}_removeObserver(r){const i=this._observers.indexOf(r);-1!==i&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(void 0!==this._resolve){let r=!0;switch(ki(this._state)){case qo.SUCCESS:fu(this._resolve.bind(null,this.snapshot))();break;case qo.CANCELED:case qo.ERROR:fu(this._reject.bind(null,this._error))();break;default:r=!1}r&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(r){switch(ki(this._state)){case qo.RUNNING:case qo.PAUSED:r.next&&fu(r.next.bind(r,this.snapshot))();break;case qo.SUCCESS:r.complete&&fu(r.complete.bind(r))();break;default:r.error&&fu(r.error.bind(r,this._error))()}}resume(){const r="paused"===this._state||"pausing"===this._state;return r&&this._transition("running"),r}pause(){const r="running"===this._state;return r&&this._transition("pausing"),r}cancel(){const r="running"===this._state||"pausing"===this._state;return r&&this._transition("canceling"),r}}class $l{constructor(r,i){this._service=r,this._location=i instanceof Qs?i:Qs.makeFromUrl(i,r.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(r,i){return new $l(r,i)}get root(){const r=new Qs(this._location.bucket,"");return this._newRef(this._service,r)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return et(this._location.path)}get storage(){return this._service}get parent(){const r=function Ae(l){if(0===l.length)return null;const r=l.lastIndexOf("/");return-1===r?"":l.slice(0,r)}(this._location.path);if(null===r)return null;const i=new Qs(this._location.bucket,r);return new $l(this._service,i)}_throwIfRoot(r){if(""===this._location.path)throw uu(r)}}function Gh(l,r,i){return hc.apply(this,arguments)}function hc(){return(hc=(0,bn.Z)(function*(l,r,i){const f=yield _g(l,{pageToken:i});r.prefixes.push(...f.prefixes),r.items.push(...f.items),null!=f.nextPageToken&&(yield Gh(l,r,f.nextPageToken))})).apply(this,arguments)}function _g(l,r){null!=r&&"number"==typeof r.maxResults&&_o("options.maxResults",1,1e3,r.maxResults);const i=r||{},c=Kc(l.storage,l._location,"/",i.pageToken,i.maxResults);return l.storage.makeRequestWithTokens(c,za)}function yg(l){l._throwIfRoot("getDownloadURL");const r=function dc(l,r,i){const f=Js(r.fullServerUrl(),l.host,l._protocol),D=l.maxOperationRetryTime,L=new $s(f,"GET",function ll(l,r){return function i(c,f){const w=zi(l,f,r);return Wo(null!==w),function bi(l,r,i,c){const f=ne(r);if(null===f||!ja(f.downloadTokens))return null;const w=f.downloadTokens;if(0===w.length)return null;const D=encodeURIComponent;return w.split(",").map(te=>{const Fe=l.fullPath;return Js("/b/"+D(l.bucket)+"/o/"+D(Fe),i,c)+Tl({alt:"media",token:te})})[0]}(w,f,l.host,l._protocol)}}(l,i),D);return L.errorHandler=Ko(r),L}(l.storage,l._location,hr());return l.storage.makeRequestWithTokens(r,za).then(i=>{if(null===i)throw function ac(){return new Lr(Cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return i})}function Lu(l,r){const i=function Ke(l,r){const i=r.split("/").filter(c=>c.length>0).join("/");return 0===l.length?i:l+"/"+i}(l._location.path,r),c=new Qs(l._location.bucket,i);return new $l(l.storage,c)}function pc(l,r){if(l instanceof Wa){const i=l;if(null==i._bucket)throw function $o(){return new Lr(Cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tn+"' property when initializing the app?")}();const c=new $l(i,i._bucket);return null!=r?pc(c,r):c}return void 0!==r?Lu(l,r):l}function zd(l,r){if(r&&function fc(l){return/^[A-Za-z]+:\/\//.test(l)}(r)){if(l instanceof Wa)return function Fu(l,r){return new $l(l,r)}(l,r);throw al("To use ref(service, url), the first argument must be a Storage instance.")}return pc(l,r)}function Uu(l,r){const i=r?.[tn];return null==i?null:Qs.makeFromBucketSpec(i,l)}class Wa{constructor(r,i,c,f,w){this.app=r,this._authProvider=i,this._appCheckProvider=c,this._url=f,this._firebaseVersion=w,this._bucket=null,this._host=yi,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=f?Qs.makeFromBucketSpec(f,this._host):Uu(this._host,this.app.options)}get host(){return this._host}set host(r){this._host=r,this._bucket=null!=this._url?Qs.makeFromBucketSpec(this._url,r):Uu(r,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(r){_o("time",0,Number.POSITIVE_INFINITY,r),this._maxUploadRetryTime=r}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(r){_o("time",0,Number.POSITIVE_INFINITY,r),this._maxOperationRetryTime=r}_getAuthToken(){var r=this;return(0,bn.Z)(function*(){if(r._overrideAuthToken)return r._overrideAuthToken;const i=r._authProvider.getImmediate({optional:!0});if(i){const c=yield i.getToken();if(null!==c)return c.accessToken}return null})()}_getAppCheckToken(){var r=this;return(0,bn.Z)(function*(){const i=r._appCheckProvider.getImmediate({optional:!0});return i?(yield i.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(r=>r.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(r){return new $l(this,r)}_makeRequest(r,i,c,f,w=!0){if(this._deleted)return new Ao(Ba());{const D=function M(l,r,i,c,f,w,D=!0){const L=Tl(l.urlParams),q=l.url+L,te=Object.assign({},l.headers);return function uc(l,r){r&&(l["X-Firebase-GMPID"]=r)}(te,r),function Wc(l,r){null!==r&&r.length>0&&(l.Authorization="Firebase "+r)}(te,i),function zo(l,r){l["X-Firebase-Storage-Version"]="webjs/"+(r??"AppManager")}(te,w),function S(l,r){null!==r&&(l["X-Firebase-AppCheck"]=r)}(te,c),new Ou(q,l.method,te,l.body,l.successCodes,l.additionalRetryCodes,l.handler,l.errorHandler,l.timeout,l.progressCallback,f,D)}(r,this._appId,c,f,i,this._firebaseVersion,w);return this._requests.add(D),D.getPromise().then(()=>this._requests.delete(D),()=>this._requests.delete(D)),D}}makeRequestWithTokens(r,i){var c=this;return(0,bn.Z)(function*(){const[f,w]=yield Promise.all([c._getAuthToken(),c._getAppCheckToken()]);return c._makeRequest(r,i,f,w).getPromise()})()}}const Vu="@firebase/storage";function mu(l,r){return zd(l=(0,ge.m9)(l),r)}function Es(l,{instanceIdentifier:r}){const i=l.getProvider("app").getImmediate(),c=l.getProvider("auth-internal"),f=l.getProvider("app-check-internal");return new Wa(i,c,f,r,Zs.SDK_VERSION)}!function op(){(0,Zs._registerComponent)(new il.wA("storage",Es,"PUBLIC").setMultipleInstances(!0)),(0,Zs.registerVersion)(Vu,"0.11.2",""),(0,Zs.registerVersion)(Vu,"0.11.2","esm2017")}();class _u{constructor(r,i,c){this._delegate=r,this.task=i,this.ref=c}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ap{constructor(r,i){this._delegate=r,this._ref=i,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new _u(this._delegate.snapshot,this,this._ref)}then(r,i){return this._delegate.then(c=>{if(r)return r(new _u(c,this,this._ref))},i)}on(r,i,c,f){let w;return i&&(w="function"==typeof i?D=>i(new _u(D,this,this._ref)):{next:i.next?D=>i.next(new _u(D,this,this._ref)):void 0,complete:i.complete||void 0,error:i.error||void 0}),this._delegate.on(r,w,c||void 0,f||void 0)}}class Gl{constructor(r,i){this._delegate=r,this._service=i}get prefixes(){return this._delegate.prefixes.map(r=>new Ka(r,this._service))}get items(){return this._delegate.items.map(r=>new Ka(r,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ka{constructor(r,i){this._delegate=r,this.storage=i}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(r){const i=function Kh(l,r){return Lu(l,r)}(this._delegate,r);return new Ka(i,this.storage)}get root(){return new Ka(this._delegate.root,this.storage)}get parent(){const r=this._delegate.parent;return null==r?null:new Ka(r,this.storage)}put(r,i){return this._throwIfRoot("put"),new ap(function gc(l,r,i){return function rp(l,r,i){return l._throwIfRoot("uploadBytesResumable"),new $d(l,new $(r),i)}(l=(0,ge.m9)(l),r,i)}(this._delegate,r,i),this)}putString(r,i=ce.RAW,c){this._throwIfRoot("putString");const f=Dt(i,r),w=Object.assign({},c);return null==w.contentType&&null!=f.contentType&&(w.contentType=f.contentType),new ap(new $d(this._delegate,new $(f.data,!0),w),this)}listAll(){return function qd(l){return function mg(l){const r={prefixes:[],items:[]};return Gh(l,r).then(()=>r)}(l=(0,ge.m9)(l))}(this._delegate).then(r=>new Gl(r,this.storage))}list(r){return function Wh(l,r){return _g(l=(0,ge.m9)(l),r)}(this._delegate,r||void 0).then(i=>new Gl(i,this.storage))}getMetadata(){return function Aa(l){return function Gd(l){l._throwIfRoot("getMetadata");const r=dg(l.storage,l._location,hr());return l.storage.makeRequestWithTokens(r,za)}(l=(0,ge.m9)(l))}(this._delegate)}updateMetadata(r){return function gu(l,r){return function Bm(l,r){l._throwIfRoot("updateMetadata");const i=function hg(l,r,i,c){const w=Js(r.fullServerUrl(),l.host,l._protocol),L=Ga(i,c),te=l.maxOperationRetryTime,xe=new $s(w,"PATCH",jl(l,c),te);return xe.headers={"Content-Type":"application/json; charset=utf-8"},xe.body=L,xe.errorHandler=Ko(r),xe}(l.storage,l._location,r,hr());return l.storage.makeRequestWithTokens(i,za)}(l=(0,ge.m9)(l),r)}(this._delegate,r)}getDownloadURL(){return function Zd(l){return yg(l=(0,ge.m9)(l))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Yd(l){return function ip(l){l._throwIfRoot("deleteObject");const r=function Vd(l,r){const c=Js(r.fullServerUrl(),l.host,l._protocol),L=new $s(c,"DELETE",function D(q,te){},l.maxOperationRetryTime);return L.successCodes=[200,204],L.errorHandler=Ko(r),L}(l.storage,l._location);return l.storage.makeRequestWithTokens(r,za)}(l=(0,ge.m9)(l))}(this._delegate)}_throwIfRoot(r){if(""===this._delegate._location.path)throw uu(r)}}class mc{constructor(r,i){this.app=r,this._delegate=i}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(r){if(Qd(r))throw al("ref() expected a child path but got a URL, use refFromURL instead.");return new Ka(mu(this._delegate,r),this)}refFromURL(r){if(!Qd(r))throw al("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qs.makeFromUrl(r,this._delegate.host)}catch{throw al("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ka(mu(this._delegate,r),this)}setMaxUploadRetryTime(r){this._delegate.maxUploadRetryTime=r}setMaxOperationRetryTime(r){this._delegate.maxOperationRetryTime=r}useEmulator(r,i,c={}){!function qh(l,r,i,c={}){!function Wd(l,r,i,c={}){l.host=`${r}:${i}`,l._protocol="http";const{mockUserToken:f}=c;f&&(l._overrideAuthToken="string"==typeof f?f:(0,ge.Sg)(f,l.app.options.projectId))}(l,r,i,c)}(this._delegate,r,i,c)}}function Qd(l){return/^[A-Za-z]+:\/\//.test(l)}function _c(l,{instanceIdentifier:r}){const i=l.getProvider("app-compat").getImmediate(),c=l.getProvider("storage").getImmediate({identifier:r});return new mc(i,c)}!function Xd(l){const r={TaskState:qo,TaskEvent:Os,StringFormat:ce,Storage:mc,Reference:Ka};l.INTERNAL.registerComponent(new il.wA("storage-compat",_c,"PUBLIC").setServiceProps(r).setMultipleInstances(!0)),l.registerVersion("@firebase/storage-compat","0.3.2")}(si.Z);var Yc=U(6217),yc=U(9260);function Zh(l){const r=function Qc(l){return new Fl.y(r=>{const i=D=>r.next(D);i(l.snapshot);const w=l.on("state_changed",i);return l.then(D=>{i(D),r.complete()},D=>{i(l.snapshot),(D=>{r.error(D)})(D)}),function(){w()}}).pipe(function Cl(l,r=zc.z){return(0,es.e)((i,c)=>{let f=null,w=null,D=null;const L=()=>{if(f){f.unsubscribe(),f=null;const te=w;w=null,c.next(te)}};function q(){const te=D+l,xe=r.now();if(xe<te)return f=this.schedule(void 0,te-xe),void c.add(f);L()}i.subscribe((0,Pu.x)(c,te=>{w=te,D=r.now(),f||(f=r.schedule(q,l),c.add(f))},()=>{L(),c.complete()},void 0,()=>{w=f=null}))})}(0))}(l);return{task:l,then:l.then.bind(l),catch:l.catch.bind(l),pause:l.pause.bind(l),cancel:l.cancel.bind(l),resume:l.resume.bind(l),snapshotChanges:()=>r,percentageChanges:()=>r.pipe((0,Rn.U)(i=>i.bytesTransferred/i.totalBytes*100))}}function Jc(l){return{getDownloadURL:()=>(0,Ul.of)(void 0).pipe(er.fc,(0,la.w)(()=>l.getDownloadURL()),er.iC),getMetadata:()=>(0,Ul.of)(void 0).pipe(er.fc,(0,la.w)(()=>l.getMetadata()),er.iC),delete:()=>(0,Ho.D)(l.delete()),child:r=>Jc(l.child(r)),updateMetadata:r=>(0,Ho.D)(l.updateMetadata(r)),put:(r,i)=>Zh(l.put(r,i)),putString:(r,i,c)=>Zh(l.putString(r,i,c)),list:r=>(0,Ho.D)(l.list(r)),listAll:()=>(0,Ho.D)(l.listAll())}}const vc=new E.OlP("angularfire2.storageBucket"),Xc=new E.OlP("angularfire2.storage.maxUploadRetryTime"),Hu=new E.OlP("angularfire2.storage.maxOperationRetryTime"),wg=new E.OlP("angularfire2.storage.use-emulator");let Ec=(()=>{class l{constructor(i,c,f,w,D,L,q,te,xe,Fe){const nt=(0,To.on)(i,D,c);this.storage=(0,To.cc)(`${nt.name}.storage.${f}`,"AngularFireStorage",nt.name,()=>{const It=D.runOutsideAngular(()=>nt.storage(f||void 0)),Pt=xe;return Pt&&It.useEmulator(...Pt),q&&It.setMaxUploadRetryTime(q),te&&It.setMaxOperationRetryTime(te),It},[q,te])}ref(i){return Jc(this.storage.ref(i))}refFromURL(i){return Jc(this.storage.refFromURL(i))}upload(i,c,f){return Jc(this.storage.ref(i)).put(c,f)}}return l.\u0275fac=function(i){return new(i||l)(E.LFG(To.Dh),E.LFG(To.xv,8),E.LFG(vc,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(er.HU),E.LFG(Xc,8),E.LFG(Hu,8),E.LFG(wg,8),E.LFG(Yc.nm,8))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac,providedIn:"any"}),l})(),wc=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({}),l})(),Yh=(()=>{class l{constructor(){yc.Z.registerVersion("angularfire",er.q4.full,"gcs-compat")}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({providers:[Ec],imports:[wc]}),l})();var th=U(3101),ju=U(6451),ed=U(3099),Cg=U(5026),Yi=U(1884),nh=U(8421),td=U(4671),rh=U(5032),$m=U(3269);U(6689);var qa=U(1877);const ul="@firebase/database";let cl="";function ih(l){cl=l}class nd{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,i){null==i?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,ge.Wl)(i))}get(r){const i=this.domStorage_.getItem(this.prefixedName_(r));return null==i?null:(0,ge.cI)(i)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class Xh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,i){null==i?delete this.cache_[r]:this.cache_[r]=i}get(r){return(0,ge.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const ef=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const r=window[l];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new nd(r)}}catch{}return new Xh},Zo=ef("localStorage"),Ma=ef("sessionStorage"),Al=new qa.Yd("@firebase/database"),tf=function(){let l=1;return function(){return l++}}(),bg=function(l){const r=(0,ge.dS)(l),i=new ge.gQ;i.update(r);const c=i.digest();return ge.US.encodeByteArray(c)},rd=function(...l){let r="";for(let i=0;i<l.length;i++){const c=l[i];Array.isArray(c)||c&&"object"==typeof c&&"number"==typeof c.length?r+=rd.apply(null,c):r+="object"==typeof c?(0,ge.Wl)(c):c,r+=" "}return r};let vr=null,Rr=!0;const sh=function(l,r){(0,ge.hu)(!r||!0===l||!1===l,"Can't turn on custom loggers persistently."),!0===l?(Al.logLevel=qa.in.VERBOSE,vr=Al.log.bind(Al),r&&Ma.set("logging_enabled",!0)):"function"==typeof l?vr=l:(vr=null,Ma.remove("logging_enabled"))},Gs=function(...l){if(!0===Rr&&(Rr=!1,null===vr&&!0===Ma.get("logging_enabled")&&sh(!0)),vr){const r=rd.apply(null,l);vr(r)}},da=function(l){return function(...r){Gs(l,...r)}},zl=function(...l){const r="FIREBASE INTERNAL ERROR: "+rd(...l);Al.error(r)},ha=function(...l){const r=`FIREBASE FATAL ERROR: ${rd(...l)}`;throw Al.error(r),new Error(r)},ks=function(...l){const r="FIREBASE WARNING: "+rd(...l);Al.warn(r)},fa=function(l){return"number"==typeof l&&(l!=l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},Wl="[MIN_NAME]",Kl="[MAX_NAME]",yu=function(l,r){if(l===r)return 0;if(l===Wl||r===Kl)return-1;if(r===Wl||l===Kl)return 1;{const i=Kr(l),c=Kr(r);return null!==i?null!==c?i-c==0?l.length-r.length:i-c:-1:null!==c?1:l<r?-1:1}},I=function(l,r){return l===r?0:l<r?-1:1},g=function(l,r){if(r&&l in r)return r[l];throw new Error("Missing required key ("+l+") in object: "+(0,ge.Wl)(r))},y=function(l){if("object"!=typeof l||null===l)return(0,ge.Wl)(l);const r=[];for(const c in l)r.push(c);r.sort();let i="{";for(let c=0;c<r.length;c++)0!==c&&(i+=","),i+=(0,ge.Wl)(r[c]),i+=":",i+=y(l[r[c]]);return i+="}",i},A=function(l,r){const i=l.length;if(i<=r)return[l];const c=[];for(let f=0;f<i;f+=r)c.push(l.substring(f,f+r>i?i:f+r));return c};function W(l,r){for(const i in l)l.hasOwnProperty(i)&&r(i,l[i])}const ae=function(l){(0,ge.hu)(!fa(l),"Invalid JSON number");const c=1023;let f,w,D,L,q;0===l?(w=0,D=0,f=1/l==-1/0?1:0):(f=l<0,(l=Math.abs(l))>=Math.pow(2,1-c)?(L=Math.min(Math.floor(Math.log(l)/Math.LN2),c),w=L+c,D=Math.round(l*Math.pow(2,52-L)-Math.pow(2,52))):(w=0,D=Math.round(l/Math.pow(2,-1074))));const te=[];for(q=52;q;q-=1)te.push(D%2?1:0),D=Math.floor(D/2);for(q=11;q;q-=1)te.push(w%2?1:0),w=Math.floor(w/2);te.push(f?1:0),te.reverse();const xe=te.join("");let Fe="";for(q=0;q<64;q+=8){let nt=parseInt(xe.substr(q,8),2).toString(16);1===nt.length&&(nt="0"+nt),Fe+=nt}return Fe.toLowerCase()},Jt=new RegExp("^-?(0*)\\d{1,10}$"),Kr=function(l){if(Jt.test(l)){const r=Number(l);if(r>=-2147483648&&r<=2147483647)return r}return null},Ls=function(l){try{l()}catch(r){setTimeout(()=>{throw ks("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},sd=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dl=function(l,r){const i=setTimeout(l,r);return"number"==typeof i&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):"object"==typeof i&&i.unref&&i.unref(),i};class nf{constructor(r,i){this.appName_=r,this.appCheckProvider=i,this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(c=>this.appCheck=c)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((i,c)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(i,c):i(null)},0)})}addTokenChangeListener(r){var i;null===(i=this.appCheckProvider)||void 0===i||i.get().then(c=>c.addTokenListener(r))}notifyForInvalidToken(){ks(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fs{constructor(r,i,c){this.appName_=r,this.firebaseOptions_=i,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(f=>this.auth_=f)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(i=>i&&"auth/token-not-initialized"===i.code?(Gs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,c)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(i,c):i(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(i=>i.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(i=>i.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ks(r)}}let Gu=(()=>{class l{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}return l.OWNER="owner",l})();const up=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J_="websocket",sf="long_polling";class cp{constructor(r,i,c,f,w=!1,D="",L=!1,q=!1){this.secure=i,this.namespace=c,this.webSocketOnly=f,this.nodeAdmin=w,this.persistenceKey=D,this.includeNamespaceInQueryParams=L,this.isUsingEmulator=q,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zo.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Zo.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Wu(l,r,i){let c;if((0,ge.hu)("string"==typeof r,"typeof type must == string"),(0,ge.hu)("object"==typeof i,"typeof params must == object"),r===J_)c=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else{if(r!==sf)throw new Error("Unknown connection type: "+r);c=(l.secure?"https://":"http://")+l.internalHost+"/.lp?"}(function X_(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams})(l)&&(i.ns=l.namespace);const f=[];return W(i,(w,D)=>{f.push(w+"="+D)}),c+f.join("&")}class ah{constructor(){this.counters_={}}incrementCounter(r,i=1){(0,ge.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=i}get(){return(0,ge.p$)(this.counters_)}}const Ig={},Gm={};function dp(l){const r=l.toString();return Ig[r]||(Ig[r]=new ah),Ig[r]}class Tg{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,i){this.closeAfterResponse=r,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,i){for(this.pendingResponses[r]=i;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let f=0;f<c.length;++f)c[f]&&Ls(()=>{this.onMessage_(c[f])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class hl{constructor(r,i,c,f,w,D,L){this.connId=r,this.repoInfo=i,this.applicationId=c,this.appCheckToken=f,this.authToken=w,this.transportSessionId=D,this.lastSessionId=L,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=da(r),this.stats_=dp(i),this.urlFn=q=>(this.appCheckToken&&(q.ac=this.appCheckToken),Wu(i,sf,q))}open(r,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Tg(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(l){if((0,ge.Yr)()||"complete"===document.readyState)l();else{let r=!1;const i=function(){document.body?r||(r=!0,l()):setTimeout(i,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&i()}),window.attachEvent("onload",i))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mg((...w)=>{const[D,L,q,te,xe]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===D)this.id=L,this.password=q;else{if("close"!==D)throw new Error("Unrecognized command received: "+D);L?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(L,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[D,L]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(D,L)},()=>{this.onClosed_()},this.urlFn);const c={start:"t"};c.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(c.cb=this.scriptTagHolder.uniqueCallbackIdentifier),c.v="5",this.transportSessionId&&(c.s=this.transportSessionId),this.lastSessionId&&(c.ls=this.lastSessionId),this.applicationId&&(c.p=this.applicationId),this.appCheckToken&&(c.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&up.test(location.hostname)&&(c.r="f");const f=this.urlFn(c);this.log_("Connecting via long-poll to "+f),this.scriptTagHolder.addTag(f,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hl.forceAllow_=!0}static forceDisallow(){hl.forceDisallow_=!0}static isAvailable(){return!((0,ge.Yr)()||!hl.forceAllow_&&(hl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const i=(0,ge.Wl)(r);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const c=(0,ge.h$)(i),f=A(c,1840);for(let w=0;w<f.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,f.length,f[w]),this.curSegmentNum++}addDisconnectPingFrame(r,i){if((0,ge.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const c={dframe:"t"};c.id=r,c.pw=i,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const i=(0,ge.Wl)(r).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Mg{constructor(r,i,c,f){if(this.onDisconnect=c,this.urlFn=f,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ge.Yr)())this.commandCB=r,this.onMessageCB=i;else{this.uniqueCallbackIdentifier=tf(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=i,this.myIFrame=Mg.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const D="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(D),this.myIFrame.doc.close()}catch(L){Gs("frame writing exception"),L.stack&&Gs(L.stack),Gs(L)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||Gs("No IE domain setting required")}catch{const c=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,i){for(this.myID=r,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let i=this.urlFn(r),c="",f=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+c.length<=1870;){const D=this.pendingSegs.shift();c=c+"&seg"+f+"="+D.seg+"&ts"+f+"="+D.ts+"&d"+f+"="+D.d,f++}return i+=c,this.addLongPollTag_(i,this.currentSerial),!0}return!1}enqueueSegment(r,i,c){this.pendingSegs.push({seg:r,ts:i,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(r,i){this.outstandingRequests.add(i);const c=()=>{this.outstandingRequests.delete(i),this.newRequest_()},f=setTimeout(c,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(f),c()})}addTag(r,i){(0,ge.Yr)()?this.doNodeLongPoll(r,i):setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=r,c.onload=c.onreadystatechange=function(){const f=c.readyState;(!f||"loaded"===f||"complete"===f)&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),i())},c.onerror=()=>{Gs("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))}}let Rg=null;typeof MozWebSocket<"u"?Rg=MozWebSocket:typeof WebSocket<"u"&&(Rg=WebSocket);let uf=(()=>{class l{constructor(i,c,f,w,D,L,q){this.connId=i,this.applicationId=f,this.appCheckToken=w,this.authToken=D,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=da(this.connId),this.stats_=dp(c),this.connURL=l.connectionURL_(c,L,q,w,f),this.nodeAdmin=c.nodeAdmin}static connectionURL_(i,c,f,w,D){const L={v:"5"};return!(0,ge.Yr)()&&typeof location<"u"&&location.hostname&&up.test(location.hostname)&&(L.r="f"),c&&(L.s=c),f&&(L.ls=f),w&&(L.ac=w),D&&(L.p=D),Wu(i,J_,L)}open(i,c){this.onDisconnect=c,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zo.set("previous_websocket_failure",!0);try{let f;if((0,ge.Yr)()){f={headers:{"User-Agent":`Firebase/5/${cl}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(f.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(f.headers["X-Firebase-AppCheck"]=this.appCheckToken);const D=process.env,L=0===this.connURL.indexOf("wss://")?D.HTTPS_PROXY||D.https_proxy:D.HTTP_PROXY||D.http_proxy;L&&(f.proxy={origin:L})}this.mySock=new Rg(this.connURL,[],f)}catch(f){this.log_("Error instantiating WebSocket.");const w=f.message||f.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=f=>{this.handleIncomingFrame(f)},this.mySock.onerror=f=>{this.log_("WebSocket error.  Closing connection.");const w=f.message||f.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){l.forceDisallow_=!0}static isAvailable(){let i=!1;if(typeof navigator<"u"&&navigator.userAgent){const f=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);f&&f.length>1&&parseFloat(f[1])<4.4&&(i=!0)}return!i&&null!==Rg&&!l.forceDisallow_}static previouslyFailed(){return Zo.isInMemoryStorage||!0===Zo.get("previous_websocket_failure")}markConnectionHealthy(){Zo.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){const c=this.frames.join("");this.frames=null;const f=(0,ge.cI)(c);this.onMessage(f)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if((0,ge.hu)(null===this.frames,"We already have a frame buffer"),i.length<=6){const c=Number(i);if(!isNaN(c))return this.handleNewFrameCount_(c),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(null===this.mySock)return;const c=i.data;if(this.bytesReceived+=c.length,this.stats_.incrementCounter("bytes_received",c.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(c);else{const f=this.extractFrameCount_(c);null!==f&&this.appendFrame_(f)}}send(i){this.resetKeepAlive();const c=(0,ge.Wl)(i);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const f=A(c,16384);f.length>1&&this.sendString_(String(f.length));for(let w=0;w<f.length;w++)this.sendString_(f[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(i){try{this.mySock.send(i)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return l.responsesRequiredToBeHealthy=2,l.healthyTimeout=3e4,l})(),ud=(()=>{class l{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[hl,uf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(i){const c=uf&&uf.isAvailable();let f=c&&!uf.previouslyFailed();if(i.webSocketOnly&&(c||ks("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),f=!0),f)this.transports_=[uf];else{const w=this.transports_=[];for(const D of l.ALL_TRANSPORTS)D&&D.isAvailable()&&w.push(D);l.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return l.globalTransportInitialized_=!1,l})();class Og{constructor(r,i,c,f,w,D,L,q,te,xe){this.id=r,this.repoInfo_=i,this.applicationId_=c,this.appCheckToken_=f,this.authToken_=w,this.onMessage_=D,this.onReady_=L,this.onDisconnect_=q,this.onKill_=te,this.lastSessionId=xe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=da("c:"+this.id+":"),this.transportManager_=new ud(i),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,c)},Math.floor(0));const f=r.healthyTimeout||0;f>0&&(this.healthyTimeout_=dl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(f)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return i=>{r===this.conn_?this.onConnectionLost_(i):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return i=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(i):r===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const i=r.t;"a"===i?this.upgradeIfSecondaryHealthy_():"r"===i?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===i&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const i=g("t",r),c=g("d",r);if("c"===i)this.onSecondaryControl_(c);else{if("d"!==i)throw new Error("Unknown protocol layer: "+i);this.pendingDataMessages.push(c)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const i=g("t",r),c=g("d",r);"c"===i?this.onControl_(c):"d"===i&&this.onDataMessage_(c)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const i=g("t",r);if("d"in r){const c=r.d;if("h"===i){const f=Object.assign({},c);this.repoInfo_.isUsingEmulator&&(f.h=this.repoInfo_.host),this.onHandshake_(f)}else if("n"===i){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let f=0;f<this.pendingDataMessages.length;++f)this.onDataMessage_(this.pendingDataMessages[f]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===i?this.onConnectionShutdown_(c):"r"===i?this.onReset_(c):"e"===i?zl("Server Error: "+c):"o"===i?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zl("Unknown control packet command: "+i)}}onHandshake_(r){const i=r.ts,c=r.v,f=r.h;this.sessionId=r.s,this.repoInfo_.host=f,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),"5"!==c&&ks("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,c),dl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,i){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class cf{put(r,i,c,f){}merge(r,i,c,f){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,i,c){}onDisconnectMerge(r,i,c){}onDisconnectCancel(r,i){}reportStats(r){}}class Km{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,ge.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...i){if(Array.isArray(this.listeners_[r])){const c=[...this.listeners_[r]];for(let f=0;f<c.length;f++)c[f].callback.apply(c[f].context,i)}}on(r,i,c){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:i,context:c});const f=this.getInitialEvent(r);f&&i.apply(c,f)}off(r,i,c){this.validateEventType_(r);const f=this.listeners_[r]||[];for(let w=0;w<f.length;w++)if(f[w].callback===i&&(!c||c===f[w].context))return void f.splice(w,1)}validateEventType_(r){(0,ge.hu)(this.allowedEvents_.find(i=>i===r),"Unknown event: "+r)}}class hh extends Km{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ge.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new hh}getInitialEvent(r){return(0,ge.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}const dd=32,mp=768;class qr{constructor(r,i){if(void 0===i){this.pieces_=r.split("/");let c=0;for(let f=0;f<this.pieces_.length;f++)this.pieces_[f].length>0&&(this.pieces_[c]=this.pieces_[f],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=i}toString(){let r="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(r+="/"+this.pieces_[i]);return r||"/"}}function Gr(){return new qr("")}function Ir(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function no(l){return l.pieces_.length-l.pieceNum_}function Wi(l){let r=l.pieceNum_;return r<l.pieces_.length&&r++,new qr(l.pieces_,r)}function df(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function hf(l,r=0){return l.pieces_.slice(l.pieceNum_+r)}function Mc(l){if(l.pieceNum_>=l.pieces_.length)return null;const r=[];for(let i=l.pieceNum_;i<l.pieces_.length-1;i++)r.push(l.pieces_[i]);return new qr(r,0)}function ai(l,r){const i=[];for(let c=l.pieceNum_;c<l.pieces_.length;c++)i.push(l.pieces_[c]);if(r instanceof qr)for(let c=r.pieceNum_;c<r.pieces_.length;c++)i.push(r.pieces_[c]);else{const c=r.split("/");for(let f=0;f<c.length;f++)c[f].length>0&&i.push(c[f])}return new qr(i,0)}function Qn(l){return l.pieceNum_>=l.pieces_.length}function ro(l,r){const i=Ir(l),c=Ir(r);if(null===i)return r;if(i===c)return ro(Wi(l),Wi(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+l+")")}function sv(l,r){const i=hf(l,0),c=hf(r,0);for(let f=0;f<i.length&&f<c.length;f++){const w=yu(i[f],c[f]);if(0!==w)return w}return i.length===c.length?0:i.length<c.length?-1:1}function fh(l,r){if(no(l)!==no(r))return!1;for(let i=l.pieceNum_,c=r.pieceNum_;i<=l.pieces_.length;i++,c++)if(l.pieces_[i]!==r.pieces_[c])return!1;return!0}function Zl(l,r){let i=l.pieceNum_,c=r.pieceNum_;if(no(l)>no(r))return!1;for(;i<l.pieces_.length;){if(l.pieces_[i]!==r.pieces_[c])return!1;++i,++c}return!0}class Rc{constructor(r,i){this.errorPrefix_=i,this.parts_=hf(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=(0,ge.ug)(this.parts_[c]);qm(this)}}function qm(l){if(l.byteLength_>mp)throw new Error(l.errorPrefix_+"has a key path longer than "+mp+" bytes ("+l.byteLength_+").");if(l.parts_.length>dd)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+dd+") or object contains a cycle "+ph(l))}function ph(l){return 0===l.parts_.length?"":"in property '"+l.parts_.join(".")+"'"}class Lg extends Km{constructor(){let r,i;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const c=!document[r];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}static getInstance(){return new Lg}getInitialEvent(r){return(0,ge.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const hd=1e3;let Fg,vu=(()=>{class l extends cf{constructor(i,c,f,w,D,L,q,te){if(super(),this.repoInfo_=i,this.applicationId_=c,this.onDataUpdate_=f,this.onConnectStatus_=w,this.onServerInfoUpdate_=D,this.authTokenProvider_=L,this.appCheckTokenProvider_=q,this.authOverride_=te,this.id=l.nextPersistentConnectionId_++,this.log_=da("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,te&&!(0,ge.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lg.getInstance().on("visible",this.onVisible_,this),-1===i.host.indexOf("fblocal")&&hh.getInstance().on("online",this.onOnline_,this)}sendRequest(i,c,f){const w=++this.requestNumber_,D={r:w,a:i,b:c};this.log_((0,ge.Wl)(D)),(0,ge.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(D),f&&(this.requestCBHash_[w]=f)}get(i){this.initConnection_();const c=new ge.BH,w={action:"g",request:{p:i._path.toString(),q:i._queryObject},onComplete:L=>{const q=L.d;"ok"===L.s?c.resolve(q):c.reject(q)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),c.promise}listen(i,c,f,w){this.initConnection_();const D=i._queryIdentifier,L=i._path.toString();this.log_("Listen called for "+L+" "+D),this.listens.has(L)||this.listens.set(L,new Map),(0,ge.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ge.hu)(!this.listens.get(L).has(D),"listen() called twice for same path/queryId.");const q={onComplete:w,hashFn:c,query:i,tag:f};this.listens.get(L).set(D,q),this.connected_&&this.sendListen_(q)}sendGet_(i){const c=this.outstandingGets_[i];this.sendRequest("g",c.request,f=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),c.onComplete&&c.onComplete(f)})}sendListen_(i){const c=i.query,f=c._path.toString(),w=c._queryIdentifier;this.log_("Listen on "+f+" for "+w);const D={p:f};i.tag&&(D.q=c._queryObject,D.t=i.tag),D.h=i.hashFn(),this.sendRequest("q",D,q=>{const te=q.d,xe=q.s;l.warnOnListenWarnings_(te,c),(this.listens.get(f)&&this.listens.get(f).get(w))===i&&(this.log_("listen response",q),"ok"!==xe&&this.removeListen_(f,w),i.onComplete&&i.onComplete(xe,te))})}static warnOnListenWarnings_(i,c){if(i&&"object"==typeof i&&(0,ge.r3)(i,"w")){const f=(0,ge.DV)(i,"w");if(Array.isArray(f)&&~f.indexOf("no_index")){const w='".indexOn": "'+c._queryParams.getIndex().toString()+'"',D=c._path.toString();ks(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${D} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&40===i.length||(0,ge.GJ)(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const i=this.authToken_,c=(0,ge.w9)(i)?"auth":"gauth",f={cred:i};null===this.authOverride_?f.noauth=!0:"object"==typeof this.authOverride_&&(f.authvar=this.authOverride_),this.sendRequest(c,f,w=>{const D=w.s,L=w.d||"error";this.authToken_===i&&("ok"===D?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(D,L))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{const c=i.s,f=i.d||"error";"ok"===c?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(c,f)})}unlisten(i,c){const f=i._path.toString(),w=i._queryIdentifier;this.log_("Unlisten called for "+f+" "+w),(0,ge.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(f,w)&&this.connected_&&this.sendUnlisten_(f,w,i._queryObject,c)}sendUnlisten_(i,c,f,w){this.log_("Unlisten on "+i+" for "+c);const D={p:i};w&&(D.q=f,D.t=w),this.sendRequest("n",D)}onDisconnectPut(i,c,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,c,f):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:c,onComplete:f})}onDisconnectMerge(i,c,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,c,f):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:c,onComplete:f})}onDisconnectCancel(i,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,c):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:c})}sendOnDisconnect_(i,c,f,w){const D={p:c,d:f};this.log_("onDisconnect "+i,D),this.sendRequest(i,D,L=>{w&&setTimeout(()=>{w(L.s,L.d)},Math.floor(0))})}put(i,c,f,w){this.putInternal("p",i,c,f,w)}merge(i,c,f,w){this.putInternal("m",i,c,f,w)}putInternal(i,c,f,w,D){this.initConnection_();const L={p:c,d:f};void 0!==D&&(L.h=D),this.outstandingPuts_.push({action:i,request:L,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+c)}sendPut_(i){const c=this.outstandingPuts_[i].action,f=this.outstandingPuts_[i].request,w=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(c,f,D=>{this.log_(c+" response",D),delete this.outstandingPuts_[i],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(D.s,D.d)})}reportStats(i){if(this.connected_){const c={c:i};this.log_("reportStats",c),this.sendRequest("s",c,f=>{"ok"!==f.s&&this.log_("reportStats","Error sending stats: "+f.d)})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+(0,ge.Wl)(i));const c=i.r,f=this.requestCBHash_[c];f&&(delete this.requestCBHash_[c],f(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,c){this.log_("handleServerMessage",i,c),"d"===i?this.onDataUpdate_(c.p,c.d,!1,c.t):"m"===i?this.onDataUpdate_(c.p,c.d,!0,c.t):"c"===i?this.onListenRevoked_(c.p,c.q):"ac"===i?this.onAuthRevoked_(c.s,c.d):"apc"===i?this.onAppCheckRevoked_(c.s,c.d):"sd"===i?this.onSecurityDebugPacket_(c):zl("Unrecognized action received from server: "+(0,ge.Wl)(i)+"\nAre you using the latest client?")}onReady_(i,c){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(i),this.lastSessionId=c,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){(0,ge.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const i=(new Date).getTime()-this.lastConnectionAttemptTime_;let c=Math.max(0,this.reconnectDelay_-i);c=Math.random()*c,this.log_("Trying to reconnect in "+c+"ms"),this.scheduleConnect_(c),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var i=this;return(0,bn.Z)(function*(){if(i.shouldReconnect_()){i.log_("Making a connection attempt"),i.lastConnectionAttemptTime_=(new Date).getTime(),i.lastConnectionEstablishedTime_=null;const c=i.onDataMessage_.bind(i),f=i.onReady_.bind(i),w=i.onRealtimeDisconnect_.bind(i),D=i.id+":"+l.nextConnectionId_++,L=i.lastSessionId;let q=!1,te=null;const xe=function(){te?te.close():(q=!0,w())};i.realtime_={close:xe,sendRequest:function(It){(0,ge.hu)(te,"sendRequest call when we're not connected not allowed."),te.sendRequest(It)}};const nt=i.forceTokenRefresh_;i.forceTokenRefresh_=!1;try{const[It,Pt]=yield Promise.all([i.authTokenProvider_.getToken(nt),i.appCheckTokenProvider_.getToken(nt)]);q?Gs("getToken() completed but was canceled"):(Gs("getToken() completed. Creating connection."),i.authToken_=It&&It.accessToken,i.appCheckToken_=Pt&&Pt.token,te=new Og(D,i.repoInfo_,i.applicationId_,i.appCheckToken_,i.authToken_,c,f,w,Xt=>{ks(Xt+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},L))}catch(It){i.log_("Failed to get token: "+It),q||(i.repoInfo_.nodeAdmin&&ks(It),xe())}}})()}interrupt(i){Gs("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){Gs("Resuming connection for reason: "+i),delete this.interruptReasons_[i],(0,ge.xb)(this.interruptReasons_)&&(this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){const c=i-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:c})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const c=this.outstandingPuts_[i];c&&"h"in c.request&&c.queued&&(c.onComplete&&c.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(i,c){let f;f=c?c.map(D=>y(D)).join("$"):"default";const w=this.removeListen_(i,f);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(i,c){const f=new qr(i).toString();let w;if(this.listens.has(f)){const D=this.listens.get(f);w=D.get(c),D.delete(c),0===D.size&&this.listens.delete(f)}else w=void 0;return w}onAuthRevoked_(i,c){Gs("Auth token revoked: "+i+"/"+c),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===i||"permission_denied"===i)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,c){Gs("App check token revoked: "+i+"/"+c),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===i||"permission_denied"===i)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const i of this.listens.values())for(const c of i.values())this.sendListen_(c);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const i={};let c="js";(0,ge.Yr)()&&(c=this.repoInfo_.nodeAdmin?"admin_node":"node"),i["sdk."+c+"."+cl.replace(/\./g,"-")]=1,(0,ge.uI)()?i["framework.cordova"]=1:(0,ge.b$)()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){const i=hh.getInstance().currentlyOnline();return(0,ge.xb)(this.interruptReasons_)&&i}}return l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l})();class xr{constructor(r,i){this.name=r,this.node=i}static Wrap(r,i){return new xr(r,i)}}class ff{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,i){const c=new xr(Wl,r),f=new xr(Wl,i);return 0!==this.compare(c,f)}minPost(){return xr.MIN}}class Zm extends ff{static get __EMPTY_NODE(){return Fg}static set __EMPTY_NODE(r){Fg=r}compare(r,i){return yu(r.name,i.name)}isDefinedOn(r){throw(0,ge.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,i){return!1}minPost(){return xr.MIN}maxPost(){return new xr(Kl,Fg)}makePost(r,i){return(0,ge.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new xr(r,Fg)}toString(){return".key"}}const Ku=new Zm;class tr{constructor(r,i,c,f,w=null){this.isReverse_=f,this.resultGenerator_=w,this.nodeStack_=[];let D=1;for(;!r.isEmpty();)if(D=i?c(r.key,i):1,f&&(D*=-1),D<0)r=this.isReverse_?r.left:r.right;else{if(0===D){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let i,r=this.nodeStack_.pop();if(i=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Ug,fl=(()=>{class l{constructor(i,c,f,w,D){this.key=i,this.value=c,this.color=f??l.RED,this.left=w??Za.EMPTY_NODE,this.right=D??Za.EMPTY_NODE}copy(i,c,f,w,D){return new l(i??this.key,c??this.value,f??this.color,w??this.left,D??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,c,f){let w=this;const D=f(i,w.key);return w=D<0?w.copy(null,null,null,w.left.insert(i,c,f),null):0===D?w.copy(null,c,null,null,null):w.copy(null,null,null,null,w.right.insert(i,c,f)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return Za.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,c){let f,w;if(f=this,c(i,f.key)<0)!f.left.isEmpty()&&!f.left.isRed_()&&!f.left.left.isRed_()&&(f=f.moveRedLeft_()),f=f.copy(null,null,null,f.left.remove(i,c),null);else{if(f.left.isRed_()&&(f=f.rotateRight_()),!f.right.isEmpty()&&!f.right.isRed_()&&!f.right.left.isRed_()&&(f=f.moveRedRight_()),0===c(i,f.key)){if(f.right.isEmpty())return Za.EMPTY_NODE;w=f.right.min_(),f=f.copy(w.key,w.value,null,null,f.right.removeMin_())}f=f.copy(null,null,null,null,f.right.remove(i,c))}return f.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){const i=this.copy(null,null,l.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){const i=this.copy(null,null,l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){const i=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,c)}checkMaxDepth_(){const i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}return l.RED=!0,l.BLACK=!1,l})();class Za{constructor(r,i=Za.EMPTY_NODE){this.comparator_=r,this.root_=i}insert(r,i){return new Za(this.comparator_,this.root_.insert(r,i,this.comparator_).copy(null,null,fl.BLACK,null,null))}remove(r){return new Za(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,fl.BLACK,null,null))}get(r){let i,c=this.root_;for(;!c.isEmpty();){if(i=this.comparator_(r,c.key),0===i)return c.value;i<0?c=c.left:i>0&&(c=c.right)}return null}getPredecessorKey(r){let i,c=this.root_,f=null;for(;!c.isEmpty();){if(i=this.comparator_(r,c.key),0===i){if(c.left.isEmpty())return f?f.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}i<0?c=c.left:i>0&&(f=c,c=c.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new tr(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,i){return new tr(this.root_,r,this.comparator_,!1,i)}getReverseIteratorFrom(r,i){return new tr(this.root_,r,this.comparator_,!0,i)}getReverseIterator(r){return new tr(this.root_,null,this.comparator_,!0,r)}}function av(l,r){return yu(l.name,r.name)}function Ym(l,r){return yu(l,r)}Za.EMPTY_NODE=new class Mo{copy(r,i,c,f,w){return this}insert(r,i,c){return new fl(r,i,null)}remove(r,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Qm=function(l){return"number"==typeof l?"number:"+ae(l):"string:"+l},_p=function(l){if(l.isLeafNode()){const r=l.val();(0,ge.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,ge.r3)(r,".sv"),"Priority must be a string or number.")}else(0,ge.hu)(l===Ug||l.isEmpty(),"priority of unexpected type.");(0,ge.hu)(l===Ug||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let dy,yp,vp,pf=(()=>{class l{constructor(i,c=l.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=c,this.lazyHash_=null,(0,ge.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),_p(this.priorityNode_)}static set __childrenNodeConstructor(i){dy=i}static get __childrenNodeConstructor(){return dy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new l(this.value_,i)}getImmediateChild(i){return".priority"===i?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return Qn(i)?this:".priority"===Ir(i)?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,c){return null}updateImmediateChild(i,c){return".priority"===i?this.updatePriority(c):c.isEmpty()&&".priority"!==i?this:l.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,c).updatePriority(this.priorityNode_)}updateChild(i,c){const f=Ir(i);return null===f?c:c.isEmpty()&&".priority"!==f?this:((0,ge.hu)(".priority"!==f||1===no(i),".priority must be the last token in a path"),this.updateImmediateChild(f,l.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wi(i),c)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,c){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+Qm(this.priorityNode_.val())+":");const c=typeof this.value_;i+=c+":",i+="number"===c?ae(this.value_):this.value_,this.lazyHash_=bg(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===l.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof l.__childrenNodeConstructor?-1:((0,ge.hu)(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){const c=typeof i.value_,f=typeof this.value_,w=l.VALUE_TYPE_ORDER.indexOf(c),D=l.VALUE_TYPE_ORDER.indexOf(f);return(0,ge.hu)(w>=0,"Unknown leaf type: "+c),(0,ge.hu)(D>=0,"Unknown leaf type: "+f),w===D?"object"===f?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:D-w}withIndex(){return this}isIndexed(){return!0}equals(i){return i===this||!!i.isLeafNode()&&(this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_))}}return l.VALUE_TYPE_ORDER=["object","boolean","number","string"],l})();const Di=new class Ep extends ff{compare(r,i){const c=r.node.getPriority(),f=i.node.getPriority(),w=c.compareTo(f);return 0===w?yu(r.name,i.name):w}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,i){return!r.getPriority().equals(i.getPriority())}minPost(){return xr.MIN}maxPost(){return new xr(Kl,new pf("[PRIORITY-POST]",vp))}makePost(r,i){const c=yp(r);return new xr(i,new pf("[PRIORITY-POST]",c))}toString(){return".priority"}},hy=Math.log(2);class Wv{constructor(r){this.count=parseInt(Math.log(r+1)/hy,10),this.current_=this.count-1;const f=(w=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&f}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const Bg=function(l,r,i,c){l.sort(r);const f=function(q,te){const xe=te-q;let Fe,nt;if(0===xe)return null;if(1===xe)return Fe=l[q],nt=i?i(Fe):Fe,new fl(nt,Fe.node,fl.BLACK,null,null);{const It=parseInt(xe/2,10)+q,Pt=f(q,It),Xt=f(It+1,te);return Fe=l[It],nt=i?i(Fe):Fe,new fl(nt,Fe.node,fl.BLACK,Pt,Xt)}},L=function(q){let te=null,xe=null,Fe=l.length;const nt=function(Pt,Xt){const Cn=Fe-Pt,nr=Fe;Fe-=Pt;const Pr=f(Cn+1,nr),lr=l[Cn],Nr=i?i(lr):lr;It(new fl(Nr,lr.node,Xt,null,Pr))},It=function(Pt){te?(te.left=Pt,te=Pt):(xe=Pt,te=Pt)};for(let Pt=0;Pt<q.count;++Pt){const Xt=q.nextBitIsOne(),Cn=Math.pow(2,q.count-(Pt+1));Xt?nt(Cn,fl.BLACK):(nt(Cn,fl.BLACK),nt(Cn,fl.RED))}return xe}(new Wv(l.length));return new Za(c||r,L)};let Jm;const pd={};class qu{constructor(r,i){this.indexes_=r,this.indexSet_=i}static get Default(){return(0,ge.hu)(pd&&Di,"ChildrenNode.ts has not been loaded"),Jm=Jm||new qu({".priority":pd},{".priority":Di}),Jm}get(r){const i=(0,ge.DV)(this.indexes_,r);if(!i)throw new Error("No index defined for "+r);return i instanceof Za?i:null}hasIndex(r){return(0,ge.r3)(this.indexSet_,r.toString())}addIndex(r,i){(0,ge.hu)(r!==Ku,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let f=!1;const w=i.getIterator(xr.Wrap);let L,D=w.getNext();for(;D;)f=f||r.isDefinedOn(D.node),c.push(D),D=w.getNext();L=f?Bg(c,r.getCompare()):pd;const q=r.toString(),te=Object.assign({},this.indexSet_);te[q]=r;const xe=Object.assign({},this.indexes_);return xe[q]=L,new qu(xe,te)}addToIndexes(r,i){const c=(0,ge.UI)(this.indexes_,(f,w)=>{const D=(0,ge.DV)(this.indexSet_,w);if((0,ge.hu)(D,"Missing index implementation for "+w),f===pd){if(D.isDefinedOn(r.node)){const L=[],q=i.getIterator(xr.Wrap);let te=q.getNext();for(;te;)te.name!==r.name&&L.push(te),te=q.getNext();return L.push(r),Bg(L,D.getCompare())}return pd}{const L=i.get(r.name);let q=f;return L&&(q=q.remove(new xr(r.name,L))),q.insert(r,r.node)}});return new qu(c,this.indexSet_)}removeFromIndexes(r,i){const c=(0,ge.UI)(this.indexes_,f=>{if(f===pd)return f;{const w=i.get(r.name);return w?f.remove(new xr(r.name,w)):f}});return new qu(c,this.indexSet_)}}let wp,fr=(()=>{class l{constructor(i,c,f){this.children_=i,this.priorityNode_=c,this.indexMap_=f,this.lazyHash_=null,this.priorityNode_&&_p(this.priorityNode_),this.children_.isEmpty()&&(0,ge.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wp||(wp=new l(new Za(Ym),null,qu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wp}updatePriority(i){return this.children_.isEmpty()?this:new l(this.children_,i,this.indexMap_)}getImmediateChild(i){if(".priority"===i)return this.getPriority();{const c=this.children_.get(i);return null===c?wp:c}}getChild(i){const c=Ir(i);return null===c?this:this.getImmediateChild(c).getChild(Wi(i))}hasChild(i){return null!==this.children_.get(i)}updateImmediateChild(i,c){if((0,ge.hu)(c,"We should always be passing snapshot nodes"),".priority"===i)return this.updatePriority(c);{const f=new xr(i,c);let w,D;c.isEmpty()?(w=this.children_.remove(i),D=this.indexMap_.removeFromIndexes(f,this.children_)):(w=this.children_.insert(i,c),D=this.indexMap_.addToIndexes(f,this.children_));const L=w.isEmpty()?wp:this.priorityNode_;return new l(w,L,D)}}updateChild(i,c){const f=Ir(i);if(null===f)return c;{(0,ge.hu)(".priority"!==Ir(i)||1===no(i),".priority must be the last token in a path");const w=this.getImmediateChild(f).updateChild(Wi(i),c);return this.updateImmediateChild(f,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;const c={};let f=0,w=0,D=!0;if(this.forEachChild(Di,(L,q)=>{c[L]=q.val(i),f++,D&&l.INTEGER_REGEXP_.test(L)?w=Math.max(w,Number(L)):D=!1}),!i&&D&&w<2*f){const L=[];for(const q in c)L[q]=c[q];return L}return i&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c}hash(){if(null===this.lazyHash_){let i="";this.getPriority().isEmpty()||(i+="priority:"+Qm(this.getPriority().val())+":"),this.forEachChild(Di,(c,f)=>{const w=f.hash();""!==w&&(i+=":"+c+":"+w)}),this.lazyHash_=""===i?"":bg(i)}return this.lazyHash_}getPredecessorChildName(i,c,f){const w=this.resolveIndex_(f);if(w){const D=w.getPredecessorKey(new xr(i,c));return D?D.name:null}return this.children_.getPredecessorKey(i)}getFirstChildName(i){const c=this.resolveIndex_(i);if(c){const f=c.minKey();return f&&f.name}return this.children_.minKey()}getFirstChild(i){const c=this.getFirstChildName(i);return c?new xr(c,this.children_.get(c)):null}getLastChildName(i){const c=this.resolveIndex_(i);if(c){const f=c.maxKey();return f&&f.name}return this.children_.maxKey()}getLastChild(i){const c=this.getLastChildName(i);return c?new xr(c,this.children_.get(c)):null}forEachChild(i,c){const f=this.resolveIndex_(i);return f?f.inorderTraversal(w=>c(w.name,w.node)):this.children_.inorderTraversal(c)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,c){const f=this.resolveIndex_(c);if(f)return f.getIteratorFrom(i,w=>w);{const w=this.children_.getIteratorFrom(i.name,xr.Wrap);let D=w.peek();for(;null!=D&&c.compare(D,i)<0;)w.getNext(),D=w.peek();return w}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,c){const f=this.resolveIndex_(c);if(f)return f.getReverseIteratorFrom(i,w=>w);{const w=this.children_.getReverseIteratorFrom(i.name,xr.Wrap);let D=w.peek();for(;null!=D&&c.compare(D,i)>0;)w.getNext(),D=w.peek();return w}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===Cp?-1:0}withIndex(i){if(i===Ku||this.indexMap_.hasIndex(i))return this;{const c=this.indexMap_.addIndex(i,this.children_);return new l(this.children_,this.priorityNode_,c)}}isIndexed(i){return i===Ku||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{const c=i;if(this.getPriority().equals(c.getPriority())){if(this.children_.count()===c.children_.count()){const f=this.getIterator(Di),w=c.getIterator(Di);let D=f.getNext(),L=w.getNext();for(;D&&L;){if(D.name!==L.name||!D.node.equals(L.node))return!1;D=f.getNext(),L=w.getNext()}return null===D&&null===L}return!1}return!1}}resolveIndex_(i){return i===Ku?null:this.indexMap_.get(i.toString())}}return l.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,l})();const Cp=new class gh extends fr{constructor(){super(new Za(Ym),fr.EMPTY_NODE,qu.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return fr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(xr,{MIN:{value:new xr(Wl,fr.EMPTY_NODE)},MAX:{value:new xr(Kl,Cp)}}),Zm.__EMPTY_NODE=fr.EMPTY_NODE,pf.__childrenNodeConstructor=fr,function cy(l){Ug=l}(Cp),function Vg(l){vp=l}(Cp);const mh=!0;function Ti(l,r=null){if(null===l)return fr.EMPTY_NODE;if("object"==typeof l&&".priority"in l&&(r=l[".priority"]),(0,ge.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof l&&".value"in l&&null!==l[".value"]&&(l=l[".value"]),"object"!=typeof l||".sv"in l)return new pf(l,Ti(r));if(l instanceof Array||!mh){let i=fr.EMPTY_NODE;return W(l,(c,f)=>{if((0,ge.r3)(l,c)&&"."!==c.substring(0,1)){const w=Ti(f);(w.isLeafNode()||!w.isEmpty())&&(i=i.updateImmediateChild(c,w))}}),i.updatePriority(Ti(r))}{const i=[];let c=!1;if(W(l,(D,L)=>{if("."!==D.substring(0,1)){const q=Ti(L);q.isEmpty()||(c=c||!q.getPriority().isEmpty(),i.push(new xr(D,q)))}}),0===i.length)return fr.EMPTY_NODE;const w=Bg(i,av,D=>D.name,Ym);if(c){const D=Bg(i,Di.getCompare());return new fr(w,Ti(r),new qu({".priority":D},{".priority":Di}))}return new fr(w,Ti(r),qu.Default)}}!function Eu(l){yp=l}(Ti);class bp extends ff{constructor(r){super(),this.indexPath_=r,(0,ge.hu)(!Qn(r)&&".priority"!==Ir(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,i){const c=this.extractChild(r.node),f=this.extractChild(i.node),w=c.compareTo(f);return 0===w?yu(r.name,i.name):w}makePost(r,i){const c=Ti(r),f=fr.EMPTY_NODE.updateChild(this.indexPath_,c);return new xr(i,f)}maxPost(){const r=fr.EMPTY_NODE.updateChild(this.indexPath_,Cp);return new xr(Kl,r)}toString(){return hf(this.indexPath_,0).join("/")}}const Hg=new class Ip extends ff{compare(r,i){const c=r.node.compareTo(i.node);return 0===c?yu(r.name,i.name):c}isDefinedOn(r){return!0}indexedValueChanged(r,i){return!r.equals(i)}minPost(){return xr.MIN}maxPost(){return xr.MAX}makePost(r,i){const c=Ti(r);return new xr(i,c)}toString(){return".value"}};function Xm(l){return{type:"value",snapshotNode:l}}function _h(l,r){return{type:"child_added",snapshotNode:r,childName:l}}function Tp(l,r){return{type:"child_removed",snapshotNode:r,childName:l}}function yh(l,r,i){return{type:"child_changed",snapshotNode:r,childName:l,oldSnap:i}}class Sp{constructor(r){this.index_=r}updateChild(r,i,c,f,w,D){(0,ge.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const L=r.getImmediateChild(i);return L.getChild(f).equals(c.getChild(f))&&L.isEmpty()===c.isEmpty()||(null!=D&&(c.isEmpty()?r.hasChild(i)?D.trackChildChange(Tp(i,L)):(0,ge.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):L.isEmpty()?D.trackChildChange(_h(i,c)):D.trackChildChange(yh(i,c,L))),r.isLeafNode()&&c.isEmpty())?r:r.updateImmediateChild(i,c).withIndex(this.index_)}updateFullNode(r,i,c){return null!=c&&(r.isLeafNode()||r.forEachChild(Di,(f,w)=>{i.hasChild(f)||c.trackChildChange(Tp(f,w))}),i.isLeafNode()||i.forEachChild(Di,(f,w)=>{if(r.hasChild(f)){const D=r.getImmediateChild(f);D.equals(w)||c.trackChildChange(yh(f,w,D))}else c.trackChildChange(_h(f,w))})),i.withIndex(this.index_)}updatePriority(r,i){return r.isEmpty()?fr.EMPTY_NODE:r.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class vh{constructor(r){this.indexedFilter_=new Sp(r.getIndex()),this.index_=r.getIndex(),this.startPost_=vh.getStartPost_(r),this.endPost_=vh.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,c=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return i&&c}updateChild(r,i,c,f,w,D){return this.matches(new xr(i,c))||(c=fr.EMPTY_NODE),this.indexedFilter_.updateChild(r,i,c,f,w,D)}updateFullNode(r,i,c){i.isLeafNode()&&(i=fr.EMPTY_NODE);let f=i.withIndex(this.index_);f=f.updatePriority(fr.EMPTY_NODE);const w=this;return i.forEachChild(Di,(D,L)=>{w.matches(new xr(D,L))||(f=f.updateImmediateChild(D,fr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,f,c)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const i=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),i)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const i=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),i)}return r.getIndex().maxPost()}}class e_{constructor(r){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const c=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?c<=0:c<0},this.withinEndPost=i=>{const c=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?c<=0:c<0},this.rangedFilter_=new vh(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,i,c,f,w,D){return this.rangedFilter_.matches(new xr(i,c))||(c=fr.EMPTY_NODE),r.getImmediateChild(i).equals(c)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,i,c,f,w,D):this.fullLimitUpdateChild_(r,i,c,w,D)}updateFullNode(r,i,c){let f;if(i.isLeafNode()||i.isEmpty())f=fr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<i.numChildren()&&i.isIndexed(this.index_)){let w;f=fr.EMPTY_NODE.withIndex(this.index_),w=this.reverse_?i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let D=0;for(;w.hasNext()&&D<this.limit_;){const L=w.getNext();if(this.withinDirectionalStart(L)){if(!this.withinDirectionalEnd(L))break;f=f.updateImmediateChild(L.name,L.node),D++}}}else{let w;f=i.withIndex(this.index_),f=f.updatePriority(fr.EMPTY_NODE),w=this.reverse_?f.getReverseIterator(this.index_):f.getIterator(this.index_);let D=0;for(;w.hasNext();){const L=w.getNext();D<this.limit_&&this.withinDirectionalStart(L)&&this.withinDirectionalEnd(L)?D++:f=f.updateImmediateChild(L.name,fr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,f,c)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,i,c,f,w){let D;if(this.reverse_){const Fe=this.index_.getCompare();D=(nt,It)=>Fe(It,nt)}else D=this.index_.getCompare();const L=r;(0,ge.hu)(L.numChildren()===this.limit_,"");const q=new xr(i,c),te=this.reverse_?L.getFirstChild(this.index_):L.getLastChild(this.index_),xe=this.rangedFilter_.matches(q);if(L.hasChild(i)){const Fe=L.getImmediateChild(i);let nt=f.getChildAfterChild(this.index_,te,this.reverse_);for(;null!=nt&&(nt.name===i||L.hasChild(nt.name));)nt=f.getChildAfterChild(this.index_,nt,this.reverse_);const It=null==nt?1:D(nt,q);if(xe&&!c.isEmpty()&&It>=0)return w?.trackChildChange(yh(i,c,Fe)),L.updateImmediateChild(i,c);{w?.trackChildChange(Tp(i,Fe));const Xt=L.updateImmediateChild(i,fr.EMPTY_NODE);return null!=nt&&this.rangedFilter_.matches(nt)?(w?.trackChildChange(_h(nt.name,nt.node)),Xt.updateImmediateChild(nt.name,nt.node)):Xt}}return c.isEmpty()?r:xe&&D(te,q)>=0?(null!=w&&(w.trackChildChange(Tp(te.name,te.node)),w.trackChildChange(_h(i,c))),L.updateImmediateChild(i,c).updateImmediateChild(te.name,fr.EMPTY_NODE)):r}}class gd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Di}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ge.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ge.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ge.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ge.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ge.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Di}copy(){const r=new gd;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function $g(l,r,i){const c=l.copy();return c.startSet_=!0,void 0===r&&(r=null),c.indexStartValue_=r,null!=i?(c.startNameSet_=!0,c.indexStartName_=i):(c.startNameSet_=!1,c.indexStartName_=""),c}function gf(l,r,i){const c=l.copy();return c.endSet_=!0,void 0===r&&(r=null),c.indexEndValue_=r,void 0!==i?(c.endNameSet_=!0,c.indexEndName_=i):(c.endNameSet_=!1,c.indexEndName_=""),c}function Dp(l,r){const i=l.copy();return i.index_=r,i}function n_(l){const r={};if(l.isDefault())return r;let i;if(l.index_===Di?i="$priority":l.index_===Hg?i="$value":l.index_===Ku?i="$key":((0,ge.hu)(l.index_ instanceof bp,"Unrecognized index type!"),i=l.index_.toString()),r.orderBy=(0,ge.Wl)(i),l.startSet_){const c=l.startAfterSet_?"startAfter":"startAt";r[c]=(0,ge.Wl)(l.indexStartValue_),l.startNameSet_&&(r[c]+=","+(0,ge.Wl)(l.indexStartName_))}if(l.endSet_){const c=l.endBeforeSet_?"endBefore":"endAt";r[c]=(0,ge.Wl)(l.indexEndValue_),l.endNameSet_&&(r[c]+=","+(0,ge.Wl)(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?r.limitToFirst=l.limit_:r.limitToLast=l.limit_),r}function Ap(l){const r={};if(l.startSet_&&(r.sp=l.indexStartValue_,l.startNameSet_&&(r.sn=l.indexStartName_),r.sin=!l.startAfterSet_),l.endSet_&&(r.ep=l.indexEndValue_,l.endNameSet_&&(r.en=l.indexEndName_),r.ein=!l.endBeforeSet_),l.limitSet_){r.l=l.limit_;let i=l.viewFrom_;""===i&&(i=l.isViewFromLeft()?"l":"r"),r.vf=i}return l.index_!==Di&&(r.i=l.index_.toString()),r}class xc extends cf{constructor(r,i,c,f){super(),this.repoInfo_=r,this.onDataUpdate_=i,this.authTokenProvider_=c,this.appCheckTokenProvider_=f,this.log_=da("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,i){return void 0!==i?"tag$"+i:((0,ge.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,i,c,f){const w=r._path.toString();this.log_("Listen called for "+w+" "+r._queryIdentifier);const D=xc.getListenId_(r,c),L={};this.listens_[D]=L;const q=n_(r._queryParams);this.restRequest_(w+".json",q,(te,xe)=>{let Fe=xe;if(404===te&&(Fe=null,te=null),null===te&&this.onDataUpdate_(w,Fe,!1,c),(0,ge.DV)(this.listens_,D)===L){let nt;nt=te?401===te?"permission_denied":"rest_error:"+te:"ok",f(nt,null)}})}unlisten(r,i){const c=xc.getListenId_(r,i);delete this.listens_[c]}get(r){const i=n_(r._queryParams),c=r._path.toString(),f=new ge.BH;return this.restRequest_(c+".json",i,(w,D)=>{let L=D;404===w&&(L=null,w=null),null===w?(this.onDataUpdate_(c,L,!1,null),f.resolve(L)):f.reject(new Error(L))}),f.promise}refreshAuthToken(r){}restRequest_(r,i={},c){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([f,w])=>{f&&f.accessToken&&(i.auth=f.accessToken),w&&w.token&&(i.ac=w.token);const D=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,ge.xO)(i);this.log_("Sending REST request for "+D);const L=new XMLHttpRequest;L.onreadystatechange=()=>{if(c&&4===L.readyState){this.log_("REST Response for "+D+" received. status:",L.status,"response:",L.responseText);let q=null;if(L.status>=200&&L.status<300){try{q=(0,ge.cI)(L.responseText)}catch{ks("Failed to parse JSON response for "+D+": "+L.responseText)}c(null,q)}else 401!==L.status&&404!==L.status&&ks("Got unsuccessful REST response for "+D+" Status: "+L.status),c(L.status);c=null}},L.open("GET",D,!0),L.send()})}}class mf{constructor(){this.rootNode_=fr.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,i){this.rootNode_=this.rootNode_.updateChild(r,i)}}function _f(){return{value:null,children:new Map}}function ps(l,r,i){if(Qn(r))l.value=i,l.children.clear();else if(null!==l.value)l.value=l.value.updateChild(r,i);else{const c=Ir(r);l.children.has(c)||l.children.set(c,_f()),ps(l.children.get(c),r=Wi(r),i)}}function Mp(l,r){if(Qn(r))return l.value=null,l.children.clear(),!0;if(null!==l.value){if(l.value.isLeafNode())return!1;{const i=l.value;return l.value=null,i.forEachChild(Di,(c,f)=>{ps(l,new qr(c),f)}),Mp(l,r)}}if(l.children.size>0){const i=Ir(r);return r=Wi(r),l.children.has(i)&&Mp(l.children.get(i),r)&&l.children.delete(i),0===l.children.size}return!0}function wh(l,r,i){null!==l.value?i(r,l.value):function Rp(l,r){l.children.forEach((i,c)=>{r(c,i)})}(l,(c,f)=>{wh(f,new qr(r.toString()+"/"+c),i)})}class Ch{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),i=Object.assign({},r);return this.last_&&W(this.last_,(c,f)=>{i[c]=i[c]-f}),this.last_=r,i}}class r_{constructor(r,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Ch(r);const c=1e4+2e4*Math.random();dl(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const r=this.statsListener_.get(),i={};let c=!1;W(r,(f,w)=>{w>0&&(0,ge.r3)(this.statsToReport_,f)&&(i[f]=w,c=!0)}),c&&this.server_.reportStats(i),dl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ql=(()=>{return(l=Ql||(Ql={}))[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ql;var l})();function s_(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class xp{constructor(r,i,c){this.path=r,this.affectedTree=i,this.revert=c,this.type=Ql.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(Qn(this.path)){if(null!=this.affectedTree.value)return(0,ge.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new qr(r));return new xp(Gr(),i,this.revert)}}return(0,ge.hu)(Ir(this.path)===r,"operationForChild called for unrelated child."),new xp(Wi(this.path),this.affectedTree,this.revert)}}class Zu{constructor(r,i){this.source=r,this.path=i,this.type=Ql.LISTEN_COMPLETE}operationForChild(r){return Qn(this.path)?new Zu(this.source,Gr()):new Zu(this.source,Wi(this.path))}}class Pc{constructor(r,i,c){this.source=r,this.path=i,this.snap=c,this.type=Ql.OVERWRITE}operationForChild(r){return Qn(this.path)?new Pc(this.source,Gr(),this.snap.getImmediateChild(r)):new Pc(this.source,Wi(this.path),this.snap)}}class wu{constructor(r,i,c){this.source=r,this.path=i,this.children=c,this.type=Ql.MERGE}operationForChild(r){if(Qn(this.path)){const i=this.children.subtree(new qr(r));return i.isEmpty()?null:i.value?new Pc(this.source,Gr(),i.value):new wu(this.source,Gr(),i)}return(0,ge.hu)(Ir(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new wu(this.source,Wi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zs{constructor(r,i,c){this.node_=r,this.fullyInitialized_=i,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(Qn(r))return this.isFullyInitialized()&&!this.filtered_;const i=Ir(r);return this.isCompleteForChild(i)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class zg{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Ef(l,r,i,c,f,w){const D=c.filter(L=>L.type===i);D.sort((L,q)=>function Kg(l,r,i){if(null==r.childName||null==i.childName)throw(0,ge.g5)("Should only compare child_ events.");const c=new xr(r.childName,r.snapshotNode),f=new xr(i.childName,i.snapshotNode);return l.index_.compare(c,f)}(l,L,q)),D.forEach(L=>{const q=function Wg(l,r,i){return"value"===r.type||"child_removed"===r.type||(r.prevName=i.getPredecessorChildName(r.childName,r.snapshotNode,l.index_)),r}(l,L,w);f.forEach(te=>{te.respondsTo(L.type)&&r.push(te.createEvent(q,l.query_))})})}function wf(l,r){return{eventCache:l,serverCache:r}}function Jl(l,r,i,c){return wf(new zs(r,i,c),l.serverCache)}function o_(l,r,i,c){return wf(l.eventCache,new zs(r,i,c))}function Np(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Nc(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let a_;class ts{constructor(r,i=(()=>(a_||(a_=new Za(I)),a_))()){this.value=r,this.children=i}static fromObject(r){let i=new ts(null);return W(r,(c,f)=>{i=i.set(new qr(c),f)}),i}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,i){if(null!=this.value&&i(this.value))return{path:Gr(),value:this.value};if(Qn(r))return null;{const c=Ir(r),f=this.children.get(c);if(null!==f){const w=f.findRootMostMatchingPathAndValue(Wi(r),i);return null!=w?{path:ai(new qr(c),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(Qn(r))return this;{const i=Ir(r),c=this.children.get(i);return null!==c?c.subtree(Wi(r)):new ts(null)}}set(r,i){if(Qn(r))return new ts(i,this.children);{const c=Ir(r),w=(this.children.get(c)||new ts(null)).set(Wi(r),i),D=this.children.insert(c,w);return new ts(this.value,D)}}remove(r){if(Qn(r))return this.children.isEmpty()?new ts(null):new ts(null,this.children);{const i=Ir(r),c=this.children.get(i);if(c){const f=c.remove(Wi(r));let w;return w=f.isEmpty()?this.children.remove(i):this.children.insert(i,f),null===this.value&&w.isEmpty()?new ts(null):new ts(this.value,w)}return this}}get(r){if(Qn(r))return this.value;{const i=Ir(r),c=this.children.get(i);return c?c.get(Wi(r)):null}}setTree(r,i){if(Qn(r))return i;{const c=Ir(r),w=(this.children.get(c)||new ts(null)).setTree(Wi(r),i);let D;return D=w.isEmpty()?this.children.remove(c):this.children.insert(c,w),new ts(this.value,D)}}fold(r){return this.fold_(Gr(),r)}fold_(r,i){const c={};return this.children.inorderTraversal((f,w)=>{c[f]=w.fold_(ai(r,f),i)}),i(r,this.value,c)}findOnPath(r,i){return this.findOnPath_(r,Gr(),i)}findOnPath_(r,i,c){const f=!!this.value&&c(i,this.value);if(f)return f;if(Qn(r))return null;{const w=Ir(r),D=this.children.get(w);return D?D.findOnPath_(Wi(r),ai(i,w),c):null}}foreachOnPath(r,i){return this.foreachOnPath_(r,Gr(),i)}foreachOnPath_(r,i,c){if(Qn(r))return this;{this.value&&c(i,this.value);const f=Ir(r),w=this.children.get(f);return w?w.foreachOnPath_(Wi(r),ai(i,f),c):new ts(null)}}foreach(r){this.foreach_(Gr(),r)}foreach_(r,i){this.children.inorderTraversal((c,f)=>{f.foreach_(ai(r,c),i)}),this.value&&i(r,this.value)}foreachChild(r){this.children.inorderTraversal((i,c)=>{c.value&&r(i,c.value)})}}class Ml{constructor(r){this.writeTree_=r}static empty(){return new Ml(new ts(null))}}function _d(l,r,i){if(Qn(r))return new Ml(new ts(i));{const c=l.writeTree_.findRootMostValueAndPath(r);if(null!=c){const f=c.path;let w=c.value;const D=ro(f,r);return w=w.updateChild(D,i),new Ml(l.writeTree_.set(f,w))}{const f=new ts(i),w=l.writeTree_.setTree(r,f);return new Ml(w)}}}function kp(l,r,i){let c=l;return W(i,(f,w)=>{c=_d(c,ai(r,f),w)}),c}function l_(l,r){if(Qn(r))return Ml.empty();{const i=l.writeTree_.setTree(r,new ts(null));return new Ml(i)}}function pa(l,r){return null!=Cu(l,r)}function Cu(l,r){const i=l.writeTree_.findRootMostValueAndPath(r);return null!=i?l.writeTree_.get(i.path).getChild(ro(i.path,r)):null}function my(l){const r=[],i=l.writeTree_.value;return null!=i?i.isLeafNode()||i.forEachChild(Di,(c,f)=>{r.push(new xr(c,f))}):l.writeTree_.children.inorderTraversal((c,f)=>{null!=f.value&&r.push(new xr(c,f.value))}),r}function yd(l,r){if(Qn(r))return l;{const i=Cu(l,r);return new Ml(null!=i?new ts(i):l.writeTree_.subtree(r))}}function Lp(l){return l.writeTree_.isEmpty()}function bh(l,r){return _y(Gr(),l.writeTree_,r)}function _y(l,r,i){if(null!=r.value)return i.updateChild(l,r.value);{let c=null;return r.children.inorderTraversal((f,w)=>{".priority"===f?((0,ge.hu)(null!==w.value,"Priority writes must always be leaf nodes"),c=w.value):i=_y(ai(l,f),w,i)}),!i.getChild(l).isEmpty()&&null!==c&&(i=i.updateChild(ai(l,".priority"),c)),i}}function Cf(l,r){return em(r,l)}function qg(l,r){if(l.snap)return Zl(l.path,r);for(const i in l.children)if(l.children.hasOwnProperty(i)&&Zl(ai(l.path,i),r))return!0;return!1}function uv(l){return l.visible}function Tf(l,r,i){let c=Ml.empty();for(let f=0;f<l.length;++f){const w=l[f];if(r(w)){const D=w.path;let L;if(w.snap)Zl(i,D)?(L=ro(i,D),c=_d(c,L,w.snap)):Zl(D,i)&&(L=ro(D,i),c=_d(c,Gr(),w.snap.getChild(L)));else{if(!w.children)throw(0,ge.g5)("WriteRecord should have .snap or .children");if(Zl(i,D))L=ro(i,D),c=kp(c,L,w.children);else if(Zl(D,i))if(L=ro(D,i),Qn(L))c=kp(c,Gr(),w.children);else{const q=(0,ge.DV)(w.children,Ir(L));if(q){const te=q.getChild(Wi(L));c=_d(c,Gr(),te)}}}}}return c}function d_(l,r,i,c,f){if(c||f){const w=yd(l.visibleWrites,r);return!f&&Lp(w)?i:f||null!=i||pa(w,Gr())?bh(Tf(l.allWrites,function(te){return(te.visible||f)&&(!c||!~c.indexOf(te.writeId))&&(Zl(te.path,r)||Zl(r,te.path))},r),i||fr.EMPTY_NODE):null}{const w=Cu(l.visibleWrites,r);if(null!=w)return w;{const D=yd(l.visibleWrites,r);return Lp(D)?i:null!=i||pa(D,Gr())?bh(D,i||fr.EMPTY_NODE):null}}}function Ed(l,r,i,c){return d_(l.writeTree,l.treePath,r,i,c)}function bu(l,r){return function Zg(l,r,i){let c=fr.EMPTY_NODE;const f=Cu(l.visibleWrites,r);if(f)return f.isLeafNode()||f.forEachChild(Di,(w,D)=>{c=c.updateImmediateChild(w,D)}),c;if(i){const w=yd(l.visibleWrites,r);return i.forEachChild(Di,(D,L)=>{const q=bh(yd(w,new qr(D)),L);c=c.updateImmediateChild(D,q)}),my(w).forEach(D=>{c=c.updateImmediateChild(D.name,D.node)}),c}return my(yd(l.visibleWrites,r)).forEach(D=>{c=c.updateImmediateChild(D.name,D.node)}),c}(l.writeTree,l.treePath,r)}function Sf(l,r,i,c){return function Ih(l,r,i,c,f){(0,ge.hu)(c||f,"Either existingEventSnap or existingServerSnap must exist");const w=ai(r,i);if(pa(l.visibleWrites,w))return null;{const D=yd(l.visibleWrites,w);return Lp(D)?f.getChild(i):bh(D,f.getChild(i))}}(l.writeTree,l.treePath,r,i,c)}function Qg(l,r){return function Yg(l,r){return Cu(l.visibleWrites,r)}(l.writeTree,ai(l.treePath,r))}function Df(l,r,i){return function Oc(l,r,i,c){const f=ai(r,i),w=Cu(l.visibleWrites,f);return null!=w?w:c.isCompleteForChild(i)?bh(yd(l.visibleWrites,f),c.getNode().getImmediateChild(i)):null}(l.writeTree,l.treePath,r,i)}function Xg(l,r){return em(ai(l.treePath,r),l.writeTree)}function em(l,r){return{treePath:l,writeTree:r}}class Fp{constructor(){this.changeMap=new Map}trackChildChange(r){const i=r.type,c=r.childName;(0,ge.hu)("child_added"===i||"child_changed"===i||"child_removed"===i,"Only child changes supported for tracking"),(0,ge.hu)(".priority"!==c,"Only non-priority child changes can be tracked.");const f=this.changeMap.get(c);if(f){const w=f.type;if("child_added"===i&&"child_removed"===w)this.changeMap.set(c,yh(c,r.snapshotNode,f.snapshotNode));else if("child_removed"===i&&"child_added"===w)this.changeMap.delete(c);else if("child_removed"===i&&"child_changed"===w)this.changeMap.set(c,Tp(c,f.oldSnap));else if("child_changed"===i&&"child_added"===w)this.changeMap.set(c,_h(c,r.snapshotNode));else{if("child_changed"!==i||"child_changed"!==w)throw(0,ge.g5)("Illegal combination of changes: "+r+" occurred after "+f);this.changeMap.set(c,yh(c,r.snapshotNode,f.oldSnap))}}else this.changeMap.set(c,r)}getChanges(){return Array.from(this.changeMap.values())}}const h_=new class cv{getCompleteChild(r){return null}getChildAfterChild(r,i,c){return null}};class Up{constructor(r,i,c=null){this.writes_=r,this.viewCache_=i,this.optCompleteServerCache_=c}getCompleteChild(r){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(r))return i.getNode().getImmediateChild(r);{const c=null!=this.optCompleteServerCache_?new zs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Df(this.writes_,r,c)}}getChildAfterChild(r,i,c){const f=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Nc(this.viewCache_),w=function Jg(l,r,i,c,f,w){return function vd(l,r,i,c,f,w,D){let L;const q=yd(l.visibleWrites,r),te=Cu(q,Gr());if(null!=te)L=te;else{if(null==i)return[];L=bh(q,i)}if(L=L.withIndex(D),L.isEmpty()||L.isLeafNode())return[];{const xe=[],Fe=D.getCompare(),nt=w?L.getReverseIteratorFrom(c,D):L.getIteratorFrom(c,D);let It=nt.getNext();for(;It&&xe.length<f;)0!==Fe(It,c)&&xe.push(It),It=nt.getNext();return xe}}(l.writeTree,l.treePath,r,i,c,f,w)}(this.writes_,f,i,1,c,r);return 0===w.length?null:w[0]}}function f_(l,r,i,c,f,w){const D=r.eventCache;if(null!=Qg(c,i))return r;{let L,q;if(Qn(i))if((0,ge.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const te=Nc(r),Fe=bu(c,te instanceof fr?te:fr.EMPTY_NODE);L=l.filter.updateFullNode(r.eventCache.getNode(),Fe,w)}else{const te=Ed(c,Nc(r));L=l.filter.updateFullNode(r.eventCache.getNode(),te,w)}else{const te=Ir(i);if(".priority"===te){(0,ge.hu)(1===no(i),"Can't have a priority with additional path components");const xe=D.getNode();q=r.serverCache.getNode();const Fe=Sf(c,i,xe,q);L=null!=Fe?l.filter.updatePriority(xe,Fe):D.getNode()}else{const xe=Wi(i);let Fe;if(D.isCompleteForChild(te)){q=r.serverCache.getNode();const nt=Sf(c,i,D.getNode(),q);Fe=null!=nt?D.getNode().getImmediateChild(te).updateChild(xe,nt):D.getNode().getImmediateChild(te)}else Fe=Df(c,te,r.serverCache);L=null!=Fe?l.filter.updateChild(D.getNode(),te,Fe,xe,f,w):D.getNode()}}return Jl(r,L,D.isFullyInitialized()||Qn(i),l.filter.filtersNodes())}}function Vp(l,r,i,c,f,w,D,L){const q=r.serverCache;let te;const xe=D?l.filter:l.filter.getIndexedFilter();if(Qn(i))te=xe.updateFullNode(q.getNode(),c,null);else if(xe.filtersNodes()&&!q.isFiltered()){const It=q.getNode().updateChild(i,c);te=xe.updateFullNode(q.getNode(),It,null)}else{const It=Ir(i);if(!q.isCompleteForPath(i)&&no(i)>1)return r;const Pt=Wi(i),Cn=q.getNode().getImmediateChild(It).updateChild(Pt,c);te=".priority"===It?xe.updatePriority(q.getNode(),Cn):xe.updateChild(q.getNode(),It,Cn,Pt,h_,null)}const Fe=o_(r,te,q.isFullyInitialized()||Qn(i),xe.filtersNodes());return f_(l,Fe,i,f,new Up(f,Fe,w),L)}function Bp(l,r,i,c,f,w,D){const L=r.eventCache;let q,te;const xe=new Up(f,r,w);if(Qn(i))te=l.filter.updateFullNode(r.eventCache.getNode(),c,D),q=Jl(r,te,!0,l.filter.filtersNodes());else{const Fe=Ir(i);if(".priority"===Fe)te=l.filter.updatePriority(r.eventCache.getNode(),c),q=Jl(r,te,L.isFullyInitialized(),L.isFiltered());else{const nt=Wi(i),It=L.getNode().getImmediateChild(Fe);let Pt;if(Qn(nt))Pt=c;else{const Xt=xe.getCompleteChild(Fe);Pt=null!=Xt?".priority"===df(nt)&&Xt.getChild(Mc(nt)).isEmpty()?Xt:Xt.updateChild(nt,c):fr.EMPTY_NODE}q=It.equals(Pt)?r:Jl(r,l.filter.updateChild(L.getNode(),Fe,Pt,nt,xe,D),L.isFullyInitialized(),l.filter.filtersNodes())}}return q}function tm(l,r){return l.eventCache.isCompleteForChild(r)}function nm(l,r,i){return i.foreach((c,f)=>{r=r.updateChild(c,f)}),r}function p_(l,r,i,c,f,w,D,L){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let te,q=r;te=Qn(i)?c:new ts(null).setTree(i,c);const xe=r.serverCache.getNode();return te.children.inorderTraversal((Fe,nt)=>{if(xe.hasChild(Fe)){const Pt=nm(0,r.serverCache.getNode().getImmediateChild(Fe),nt);q=Vp(l,q,new qr(Fe),Pt,f,w,D,L)}}),te.children.inorderTraversal((Fe,nt)=>{const It=!r.serverCache.isCompleteForChild(Fe)&&null===nt.value;if(!xe.hasChild(Fe)&&!It){const Xt=nm(0,r.serverCache.getNode().getImmediateChild(Fe),nt);q=Vp(l,q,new qr(Fe),Xt,f,w,D,L)}}),q}class pv{constructor(r,i){this.query_=r,this.eventRegistrations_=[];const c=this.query_._queryParams,f=new Sp(c.getIndex()),w=function t_(l){return l.loadsAllData()?new Sp(l.getIndex()):l.hasLimit()?new e_(l):new vh(l)}(c);this.processor_=function dv(l){return{filter:l}}(w);const D=i.serverCache,L=i.eventCache,q=f.updateFullNode(fr.EMPTY_NODE,D.getNode(),null),te=w.updateFullNode(fr.EMPTY_NODE,L.getNode(),null),xe=new zs(q,D.isFullyInitialized(),f.filtersNodes()),Fe=new zs(te,L.isFullyInitialized(),w.filtersNodes());this.viewCache_=wf(Fe,xe),this.eventGenerator_=new zg(this.query_)}get query(){return this.query_}}function rm(l,r){const i=Nc(l.viewCache_);return i&&(l.query._queryParams.loadsAllData()||!Qn(r)&&!i.getImmediateChild(Ir(r)).isEmpty())?i.getChild(r):null}function im(l){return 0===l.eventRegistrations_.length}function Ey(l,r,i){const c=[];if(i){(0,ge.hu)(null==r,"A cancel should cancel all event registrations.");const f=l.query._path;l.eventRegistrations_.forEach(w=>{const D=w.createCancelEvent(i,f);D&&c.push(D)})}if(r){let f=[];for(let w=0;w<l.eventRegistrations_.length;++w){const D=l.eventRegistrations_[w];if(D.matches(r)){if(r.hasAnyCallback()){f=f.concat(l.eventRegistrations_.slice(w+1));break}}else f.push(D)}l.eventRegistrations_=f}else l.eventRegistrations_=[];return c}function E_(l,r,i,c){r.type===Ql.MERGE&&null!==r.source.queryId&&((0,ge.hu)(Nc(l.viewCache_),"We should always have a full cache before handling merges"),(0,ge.hu)(Np(l.viewCache_),"Missing event cache, even though we have a server cache"));const f=l.viewCache_,w=function hv(l,r,i,c,f){const w=new Fp;let D,L;if(i.type===Ql.OVERWRITE){const te=i;te.source.fromUser?D=Bp(l,r,te.path,te.snap,c,f,w):((0,ge.hu)(te.source.fromServer,"Unknown source."),L=te.source.tagged||r.serverCache.isFiltered()&&!Qn(te.path),D=Vp(l,r,te.path,te.snap,c,f,L,w))}else if(i.type===Ql.MERGE){const te=i;te.source.fromUser?D=function fv(l,r,i,c,f,w,D){let L=r;return c.foreach((q,te)=>{const xe=ai(i,q);tm(r,Ir(xe))&&(L=Bp(l,L,xe,te,f,w,D))}),c.foreach((q,te)=>{const xe=ai(i,q);tm(r,Ir(xe))||(L=Bp(l,L,xe,te,f,w,D))}),L}(l,r,te.path,te.children,c,f,w):((0,ge.hu)(te.source.fromServer,"Unknown source."),L=te.source.tagged||r.serverCache.isFiltered(),D=p_(l,r,te.path,te.children,c,f,L,w))}else if(i.type===Ql.ACK_USER_WRITE){const te=i;D=te.revert?function __(l,r,i,c,f,w){let D;if(null!=Qg(c,i))return r;{const L=new Up(c,r,f),q=r.eventCache.getNode();let te;if(Qn(i)||".priority"===Ir(i)){let xe;if(r.serverCache.isFullyInitialized())xe=Ed(c,Nc(r));else{const Fe=r.serverCache.getNode();(0,ge.hu)(Fe instanceof fr,"serverChildren would be complete if leaf node"),xe=bu(c,Fe)}te=l.filter.updateFullNode(q,xe,w)}else{const xe=Ir(i);let Fe=Df(c,xe,r.serverCache);null==Fe&&r.serverCache.isCompleteForChild(xe)&&(Fe=q.getImmediateChild(xe)),te=null!=Fe?l.filter.updateChild(q,xe,Fe,Wi(i),L,w):r.eventCache.getNode().hasChild(xe)?l.filter.updateChild(q,xe,fr.EMPTY_NODE,Wi(i),L,w):q,te.isEmpty()&&r.serverCache.isFullyInitialized()&&(D=Ed(c,Nc(r)),D.isLeafNode()&&(te=l.filter.updateFullNode(te,D,w)))}return D=r.serverCache.isFullyInitialized()||null!=Qg(c,Gr()),Jl(r,te,D,l.filter.filtersNodes())}}(l,r,te.path,c,f,w):function g_(l,r,i,c,f,w,D){if(null!=Qg(f,i))return r;const L=r.serverCache.isFiltered(),q=r.serverCache;if(null!=c.value){if(Qn(i)&&q.isFullyInitialized()||q.isCompleteForPath(i))return Vp(l,r,i,q.getNode().getChild(i),f,w,L,D);if(Qn(i)){let te=new ts(null);return q.getNode().forEachChild(Ku,(xe,Fe)=>{te=te.set(new qr(xe),Fe)}),p_(l,r,i,te,f,w,L,D)}return r}{let te=new ts(null);return c.foreach((xe,Fe)=>{const nt=ai(i,xe);q.isCompleteForPath(nt)&&(te=te.set(xe,q.getNode().getChild(nt)))}),p_(l,r,i,te,f,w,L,D)}}(l,r,te.path,te.affectedTree,c,f,w)}else{if(i.type!==Ql.LISTEN_COMPLETE)throw(0,ge.g5)("Unknown operation type: "+i.type);D=function m_(l,r,i,c,f){const w=r.serverCache;return f_(l,o_(r,w.getNode(),w.isFullyInitialized()||Qn(i),w.isFiltered()),i,c,h_,f)}(l,r,i.path,c,w)}const q=w.getChanges();return function vy(l,r,i){const c=r.eventCache;if(c.isFullyInitialized()){const f=c.getNode().isLeafNode()||c.getNode().isEmpty(),w=Np(l);(i.length>0||!l.eventCache.isFullyInitialized()||f&&!c.getNode().equals(w)||!c.getNode().getPriority().equals(w.getPriority()))&&i.push(Xm(Np(r)))}}(r,D,q),{viewCache:D,changes:q}}(l.processor_,f,r,i,c);return function yy(l,r){(0,ge.hu)(r.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),(0,ge.hu)(r.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}(l.processor_,w.viewCache),(0,ge.hu)(w.viewCache.serverCache.isFullyInitialized()||!f.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=w.viewCache,Hp(l,w.changes,w.viewCache.eventCache.getNode(),null)}function Hp(l,r,i,c){return function Pp(l,r,i,c){const f=[],w=[];return r.forEach(D=>{"child_changed"===D.type&&l.index_.indexedValueChanged(D.oldSnap,D.snapshotNode)&&w.push(function fy(l,r){return{type:"child_moved",snapshotNode:r,childName:l}}(D.childName,D.snapshotNode))}),Ef(l,f,"child_removed",r,c,i),Ef(l,f,"child_added",r,c,i),Ef(l,f,"child_moved",w,c,i),Ef(l,f,"child_changed",r,c,i),Ef(l,f,"value",r,c,i),f}(l.eventGenerator_,r,i,c?[c]:l.eventRegistrations_)}let Af,Iu;class Cy{constructor(){this.views=new Map}}function kc(l,r,i,c){const f=r.source.queryId;if(null!==f){const w=l.views.get(f);return(0,ge.hu)(null!=w,"SyncTree gave us an op for an invalid query."),E_(w,r,i,c)}{let w=[];for(const D of l.views.values())w=w.concat(E_(D,r,i,c));return w}}function Ro(l,r,i,c,f){const D=l.views.get(r._queryIdentifier);if(!D){let L=Ed(i,f?c:null),q=!1;L?q=!0:c instanceof fr?(L=bu(i,c),q=!1):(L=fr.EMPTY_NODE,q=!1);const te=wf(new zs(L,q,!1),new zs(c,f,!1));return new pv(r,te)}return D}function Ya(l){const r=[];for(const i of l.views.values())i.query._queryParams.loadsAllData()||r.push(i);return r}function Yu(l,r){let i=null;for(const c of l.views.values())i=i||rm(c,r);return i}function Lc(l,r){return r._queryParams.loadsAllData()?Fc(l):l.views.get(r._queryIdentifier)}function Qa(l,r){return null!=Lc(l,r)}function Ja(l){return null!=Fc(l)}function Fc(l){for(const r of l.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let wd=1;class Th{constructor(r){this.listenProvider_=r,this.syncPointTree_=new ts(null),this.pendingWriteTree_=function pl(){return{visibleWrites:Ml.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xf(l,r,i,c,f){return function u_(l,r,i,c,f){(0,ge.hu)(c>l.lastWriteId,"Stacking an older write on top of newer ones"),void 0===f&&(f=!0),l.allWrites.push({path:r,snap:i,writeId:c,visible:f}),f&&(l.visibleWrites=_d(l.visibleWrites,r,i)),l.lastWriteId=c}(l.pendingWriteTree_,r,i,c,f),f?Uc(l,new Pc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,i)):[]}function Tu(l,r,i=!1){const c=function lv(l,r){for(let i=0;i<l.allWrites.length;i++){const c=l.allWrites[i];if(c.writeId===r)return c}return null}(l.pendingWriteTree_,r);if(function bf(l,r){const i=l.allWrites.findIndex(L=>L.writeId===r);(0,ge.hu)(i>=0,"removeWrite called with nonexistent writeId.");const c=l.allWrites[i];l.allWrites.splice(i,1);let f=c.visible,w=!1,D=l.allWrites.length-1;for(;f&&D>=0;){const L=l.allWrites[D];L.visible&&(D>=i&&qg(L,c.path)?f=!1:Zl(c.path,L.path)&&(w=!0)),D--}return!!f&&(w?(function If(l){l.visibleWrites=Tf(l.allWrites,uv,Gr()),l.lastWriteId=l.allWrites.length>0?l.allWrites[l.allWrites.length-1].writeId:-1}(l),!0):(c.snap?l.visibleWrites=l_(l.visibleWrites,c.path):W(c.children,q=>{l.visibleWrites=l_(l.visibleWrites,ai(c.path,q))}),!0))}(l.pendingWriteTree_,r)){let w=new ts(null);return null!=c.snap?w=w.set(Gr(),!0):W(c.children,D=>{w=w.set(new qr(D),!0)}),Uc(l,new xp(c.path,w,i))}return[]}function Pf(l,r,i){return Uc(l,new Pc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,i))}function Nf(l,r,i,c,f=!1){const w=r._path,D=l.syncPointTree_.get(w);let L=[];if(D&&("default"===r._queryIdentifier||Qa(D,r))){const q=function $p(l,r,i,c){const f=r._queryIdentifier,w=[];let D=[];const L=Ja(l);if("default"===f)for(const[q,te]of l.views.entries())D=D.concat(Ey(te,i,c)),im(te)&&(l.views.delete(q),te.query._queryParams.loadsAllData()||w.push(te.query));else{const q=l.views.get(f);q&&(D=D.concat(Ey(q,i,c)),im(q)&&(l.views.delete(f),q.query._queryParams.loadsAllData()||w.push(q.query)))}return L&&!Ja(l)&&w.push(new(function mv(){return(0,ge.hu)(Af,"Reference.ts has not been loaded"),Af}())(r._repo,r._path)),{removed:w,events:D}}(D,r,i,c);(function Xl(l){return 0===l.views.size})(D)&&(l.syncPointTree_=l.syncPointTree_.remove(w));const te=q.removed;if(L=q.events,!f){const xe=-1!==te.findIndex(nt=>nt._queryParams.loadsAllData()),Fe=l.syncPointTree_.findOnPath(w,(nt,It)=>Ja(It));if(xe&&!Fe){const nt=l.syncPointTree_.subtree(w);if(!nt.isEmpty()){const It=function um(l){return l.fold((r,i,c)=>{if(i&&Ja(i))return[Fc(i)];{let f=[];return i&&(f=Ya(i)),W(c,(w,D)=>{f=f.concat(D)}),f}})}(nt);for(let Pt=0;Pt<It.length;++Pt){const Xt=It[Pt],Cn=Xt.query,nr=Wp(l,Xt);l.listenProvider_.startListening(Sh(Cn),Qu(l,Cn),nr.hashFn,nr.onComplete)}}}!Fe&&te.length>0&&!c&&(xe?l.listenProvider_.stopListening(Sh(r),null):te.forEach(nt=>{const It=l.queryToTagMap.get(Cd(nt));l.listenProvider_.stopListening(Sh(nt),It)}))}!function Iy(l,r){for(let i=0;i<r.length;++i){const c=r[i];if(!c._queryParams.loadsAllData()){const f=Cd(c),w=l.queryToTagMap.get(f);l.queryToTagMap.delete(f),l.tagToQueryMap.delete(w)}}}(l,te)}return L}function C_(l,r,i,c){const f=Ju(l,c);if(null!=f){const w=lm(f),D=w.path,L=w.queryId,q=ro(D,r);return Vc(l,D,new Pc(s_(L),q,i))}return[]}function Gp(l,r,i,c=!1){const f=r._path;let w=null,D=!1;l.syncPointTree_.foreachOnPath(f,(nt,It)=>{const Pt=ro(nt,f);w=w||Yu(It,Pt),D=D||Ja(It)});let q,L=l.syncPointTree_.get(f);L?(D=D||Ja(L),w=w||Yu(L,Gr())):(L=new Cy,l.syncPointTree_=l.syncPointTree_.set(f,L)),null!=w?q=!0:(q=!1,w=fr.EMPTY_NODE,l.syncPointTree_.subtree(f).foreachChild((It,Pt)=>{const Xt=Yu(Pt,Gr());Xt&&(w=w.updateImmediateChild(It,Xt))}));const te=Qa(L,r);if(!te&&!r._queryParams.loadsAllData()){const nt=Cd(r);(0,ge.hu)(!l.queryToTagMap.has(nt),"View does not exist, but we have a tag");const It=function I_(){return wd++}();l.queryToTagMap.set(nt,It),l.tagToQueryMap.set(It,nt)}let Fe=function eu(l,r,i,c,f,w){const D=Ro(l,r,c,f,w);return l.views.has(r._queryIdentifier)||l.views.set(r._queryIdentifier,D),function v_(l,r){l.eventRegistrations_.push(r)}(D,i),function wy(l,r){const i=l.viewCache_.eventCache,c=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Di,(w,D)=>{c.push(_h(w,D))}),i.isFullyInitialized()&&c.push(Xm(i.getNode())),Hp(l,c,i.getNode(),r)}(D,i)}(L,r,i,Cf(l.pendingWriteTree_,f),w,q);if(!te&&!D&&!c){const nt=Lc(L,r);Fe=Fe.concat(function Kp(l,r,i){const c=r._path,f=Qu(l,r),w=Wp(l,i),D=l.listenProvider_.startListening(Sh(r),f,w.hashFn,w.onComplete),L=l.syncPointTree_.subtree(c);if(f)(0,ge.hu)(!Ja(L.value),"If we're adding a query, it shouldn't be shadowed");else{const q=L.fold((te,xe,Fe)=>{if(!Qn(te)&&xe&&Ja(xe))return[Fc(xe).query];{let nt=[];return xe&&(nt=nt.concat(Ya(xe).map(It=>It.query))),W(Fe,(It,Pt)=>{nt=nt.concat(Pt)}),nt}});for(let te=0;te<q.length;++te){const xe=q[te];l.listenProvider_.stopListening(Sh(xe),Qu(l,xe))}}return D}(l,r,nt))}return Fe}function zp(l,r,i){const f=l.pendingWriteTree_,w=l.syncPointTree_.findOnPath(r,(D,L)=>{const te=Yu(L,ro(D,r));if(te)return te});return d_(f,r,w,i,!0)}function Uc(l,r){return Of(r,l.syncPointTree_,null,Cf(l.pendingWriteTree_,Gr()))}function Of(l,r,i,c){if(Qn(l.path))return am(l,r,i,c);{const f=r.get(Gr());null==i&&null!=f&&(i=Yu(f,Gr()));let w=[];const D=Ir(l.path),L=l.operationForChild(D),q=r.children.get(D);if(q&&L){const te=i?i.getImmediateChild(D):null,xe=Xg(c,D);w=w.concat(Of(L,q,te,xe))}return f&&(w=w.concat(kc(f,l,c,i))),w}}function am(l,r,i,c){const f=r.get(Gr());null==i&&null!=f&&(i=Yu(f,Gr()));let w=[];return r.children.inorderTraversal((D,L)=>{const q=i?i.getImmediateChild(D):null,te=Xg(c,D),xe=l.operationForChild(D);xe&&(w=w.concat(am(xe,L,q,te)))}),f&&(w=w.concat(kc(f,l,c,i))),w}function Wp(l,r){const i=r.query,c=Qu(l,i);return{hashFn:()=>(function y_(l){return l.viewCache_.serverCache.getNode()}(r)||fr.EMPTY_NODE).hash(),onComplete:f=>{if("ok"===f)return c?function om(l,r,i){const c=Ju(l,i);if(c){const f=lm(c),w=f.path,D=f.queryId,L=ro(w,r);return Vc(l,w,new Zu(s_(D),L))}return[]}(l,i._path,c):function w_(l,r){return Uc(l,new Zu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(l,i._path);{const w=function Nt(l,r){let i="Unknown Error";"too_big"===l?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===l?i="Client doesn't have permission to access the desired data.":"unavailable"===l&&(i="The service is unavailable");const c=new Error(l+" at "+r._path.toString()+": "+i);return c.code=l.toUpperCase(),c}(f,i);return Nf(l,i,null,w)}}}}function Qu(l,r){const i=Cd(r);return l.queryToTagMap.get(i)}function Cd(l){return l._path.toString()+"$"+l._queryIdentifier}function Ju(l,r){return l.tagToQueryMap.get(r)}function lm(l){const r=l.indexOf("$");return(0,ge.hu)(-1!==r&&r<l.length-1,"Bad queryKey."),{queryId:l.substr(r+1),path:new qr(l.substr(0,r))}}function Vc(l,r,i){const c=l.syncPointTree_.get(r);return(0,ge.hu)(c,"Missing sync point for query tag that we're tracking"),kc(c,i,Cf(l.pendingWriteTree_,r),null)}function Sh(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(function Rf(){return(0,ge.hu)(Iu,"Reference.ts has not been loaded"),Iu}())(l._repo,l._path):l}class kf{constructor(r){this.node_=r}getImmediateChild(r){const i=this.node_.getImmediateChild(r);return new kf(i)}node(){return this.node_}}class Dh{constructor(r,i){this.syncTree_=r,this.path_=i}getImmediateChild(r){const i=ai(this.path_,r);return new Dh(this.syncTree_,i)}node(){return zp(this.syncTree_,this.path_)}}const cm=function(l){return(l=l||{}).timestamp=l.timestamp||(new Date).getTime(),l},T_=function(l,r,i){return l&&"object"==typeof l?((0,ge.hu)(".sv"in l,"Unexpected leaf node or priority contents"),"string"==typeof l[".sv"]?dm(l[".sv"],r,i):"object"==typeof l[".sv"]?hm(l[".sv"],r):void(0,ge.hu)(!1,"Unexpected server value: "+JSON.stringify(l,null,2))):l},dm=function(l,r,i){if("timestamp"===l)return i.timestamp;(0,ge.hu)(!1,"Unexpected server value: "+l)},hm=function(l,r,i){l.hasOwnProperty("increment")||(0,ge.hu)(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const c=l.increment;"number"!=typeof c&&(0,ge.hu)(!1,"Unexpected increment value: "+c);const f=r.node();if((0,ge.hu)(null!==f&&typeof f<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!f.isLeafNode())return c;const D=f.getValue();return"number"!=typeof D?c:D+c},Lf=function(l,r,i,c){return fm(r,new Dh(i,l),c)},Ff=function(l,r,i){return fm(l,new kf(r),i)};function fm(l,r,i){const c=l.getPriority().val(),f=T_(c,r.getImmediateChild(".priority"),i);let w;if(l.isLeafNode()){const D=l,L=T_(D.getValue(),r,i);return L!==D.getValue()||f!==D.getPriority().val()?new pf(L,Ti(f)):l}{const D=l;return w=D,f!==D.getPriority().val()&&(w=w.updatePriority(new pf(f))),D.forEachChild(Di,(L,q)=>{const te=fm(q,r.getImmediateChild(L),i);te!==q&&(w=w.updateImmediateChild(L,te))}),w}}class Ah{constructor(r="",i=null,c={children:{},childCount:0}){this.name=r,this.parent=i,this.node=c}}function Uf(l,r){let i=r instanceof qr?r:new qr(r),c=l,f=Ir(i);for(;null!==f;){const w=(0,ge.DV)(c.node.children,f)||{children:{},childCount:0};c=new Ah(f,c,w),i=Wi(i),f=Ir(i)}return c}function Su(l){return l.node.value}function Mh(l,r){l.node.value=r,gm(l)}function bd(l){return l.node.childCount>0}function qp(l,r){W(l.node.children,(i,c)=>{r(new Ah(i,l,c))})}function S_(l,r,i,c){i&&!c&&r(l),qp(l,f=>{S_(f,r,!0,c)}),i&&c&&r(l)}function Rh(l){return new qr(null===l.parent?l.name:Rh(l.parent)+"/"+l.name)}function gm(l){null!==l.parent&&function D_(l,r,i){const c=function pm(l){return void 0===Su(l)&&!bd(l)}(i),f=(0,ge.r3)(l.node.children,r);c&&f?(delete l.node.children[r],l.node.childCount--,gm(l)):!c&&!f&&(l.node.children[r]=i.node,l.node.childCount++,gm(l))}(l.parent,l.name,l)}const mm=/[\[\].#$\/\u0000-\u001F\u007F]/,Id=/[\[\].#$\u0000-\u001F\u007F]/,A_=10485760,_m=function(l){return"string"==typeof l&&0!==l.length&&!mm.test(l)},Zp=function(l){return"string"==typeof l&&0!==l.length&&!Id.test(l)},Td=function(l){return null===l||"string"==typeof l||"number"==typeof l&&!fa(l)||l&&"object"==typeof l&&(0,ge.r3)(l,".sv")},Du=function(l,r,i,c){c&&void 0===r||Sd((0,ge.gK)(l,"value"),r,i)},Sd=function(l,r,i){const c=i instanceof qr?new Rc(i,l):i;if(void 0===r)throw new Error(l+"contains undefined "+ph(c));if("function"==typeof r)throw new Error(l+"contains a function "+ph(c)+" with contents = "+r.toString());if(fa(r))throw new Error(l+"contains "+r.toString()+" "+ph(c));if("string"==typeof r&&r.length>A_/3&&(0,ge.ug)(r)>A_)throw new Error(l+"contains a string greater than "+A_+" utf8 bytes "+ph(c)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let f=!1,w=!1;if(W(r,(D,L)=>{if(".value"===D)f=!0;else if(".priority"!==D&&".sv"!==D&&(w=!0,!_m(D)))throw new Error(l+" contains an invalid key ("+D+") "+ph(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ov(l,r){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(r),l.byteLength_+=(0,ge.ug)(r),qm(l)})(c,D),Sd(l,L,c),function sy(l){const r=l.parts_.pop();l.byteLength_-=(0,ge.ug)(r),l.parts_.length>0&&(l.byteLength_-=1)}(c)}),f&&w)throw new Error(l+' contains ".value" child '+ph(c)+" in addition to actual children.")}},Zr=function(l,r,i,c){if(c&&void 0===r)return;const f=(0,ge.gK)(l,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(f+" must be an object containing the children to replace.");const w=[];W(r,(D,L)=>{const q=new qr(D);if(Sd(f,L,ai(i,q)),".priority"===df(q)&&!Td(L))throw new Error(f+"contains an invalid value for '"+q.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");w.push(q)}),function(l,r){let i,c;for(i=0;i<r.length;i++){c=r[i];const w=hf(c);for(let D=0;D<w.length;D++)if((".priority"!==w[D]||D!==w.length-1)&&!_m(w[D]))throw new Error(l+"contains an invalid key ("+w[D]+") in path "+c.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(sv);let f=null;for(i=0;i<r.length;i++){if(c=r[i],null!==f&&Zl(f,c))throw new Error(l+"contains a path "+f.toString()+" that is ancestor of another path "+c.toString());f=c}}(f,w)},ym=function(l,r,i){if(!i||void 0!==r){if(fa(r))throw new Error((0,ge.gK)(l,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Td(r))throw new Error((0,ge.gK)(l,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vf=function(l,r,i,c){if(!(c&&void 0===i||_m(i)))throw new Error((0,ge.gK)(l,r)+'was an invalid key = "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Xu=function(l,r,i,c){if(!(c&&void 0===i||Zp(i)))throw new Error((0,ge.gK)(l,r)+'was an invalid path = "'+i+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Sy=function(l,r,i,c){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Xu(l,r,i,c)},Hn=function(l,r){if(".info"===Ir(r))throw new Error(l+" failed = Can't modify data under /.info/")},xo=function(l,r){const i=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!_m(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==i.length&&!function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Zp(l)}(i))throw new Error((0,ge.gK)(l,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ec{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yp(l,r){let i=null;for(let c=0;c<r.length;c++){const f=r[c],w=f.getPath();null!==i&&!fh(w,i.path)&&(l.eventLists_.push(i),i=null),null===i&&(i={events:[],path:w}),i.events.push(f)}i&&l.eventLists_.push(i)}function R_(l,r,i){Yp(l,i),vm(l,c=>fh(c,r))}function Ra(l,r,i){Yp(l,i),vm(l,c=>Zl(c,r)||Zl(r,c))}function vm(l,r){l.recursionDepth_++;let i=!0;for(let c=0;c<l.eventLists_.length;c++){const f=l.eventLists_[c];f&&(r(f.path)?(Em(l.eventLists_[c]),l.eventLists_[c]=null):i=!1)}i&&(l.eventLists_=[]),l.recursionDepth_--}function Em(l){for(let r=0;r<l.events.length;r++){const i=l.events[r];if(null!==i){l.events[r]=null;const c=i.getEventRunner();vr&&Gs("event: "+i.toString()),Ls(c)}}}const xh="repo_interrupt",x_=25;class yv{constructor(r,i,c,f){this.repoInfo_=r,this.forceRestClient_=i,this.authTokenProvider_=c,this.appCheckProvider_=f,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ec,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_f(),this.transactionQueueTree_=new Ah,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ns(l){const i=l.infoData_.getNode(new qr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+i}function Qp(l){return cm({timestamp:ns(l)})}function Kv(l,r,i,c,f){l.dataUpdateCount++;const w=new qr(r);i=l.interceptServerDataCallback_?l.interceptServerDataCallback_(r,i):i;let D=[];if(f)if(c){const q=(0,ge.UI)(i,te=>Ti(te));D=function _v(l,r,i,c){const f=Ju(l,c);if(f){const w=lm(f),D=w.path,L=w.queryId,q=ro(D,r),te=ts.fromObject(i);return Vc(l,D,new wu(s_(L),q,te))}return[]}(l.serverSyncTree_,w,q,f)}else{const q=Ti(i);D=C_(l.serverSyncTree_,w,q,f)}else if(c){const q=(0,ge.UI)(i,te=>Ti(te));D=function sm(l,r,i){const c=ts.fromObject(i);return Uc(l,new wu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,c))}(l.serverSyncTree_,w,q)}else{const q=Ti(i);D=Pf(l.serverSyncTree_,w,q)}let L=w;D.length>0&&(L=tc(l,w)),Ra(l.eventQueue_,L,D)}function ws(l,r){Rl(l,"connected",r),!1===r&&function Mu(l){ml(l,"onDisconnectEvents");const r=Qp(l),i=_f();wh(l.onDisconnect_,Gr(),(f,w)=>{const D=Lf(f,w,l.serverSyncTree_,r);ps(i,f,D)});let c=[];wh(i,Gr(),(f,w)=>{c=c.concat(Pf(l.serverSyncTree_,f,w));const D=Hc(l,f);tc(l,D)}),l.onDisconnect_=_f(),Ra(l.eventQueue_,Gr(),c)}(l)}function Rl(l,r,i){const c=new qr("/.info/"+r),f=Ti(i);l.infoData_.updateSnapshot(c,f);const w=Pf(l.infoSyncTree_,c,f);Ra(l.eventQueue_,c,w)}function Cm(l){return l.nextWriteId_++}function tu(l,r,i,c,f){ml(l,"set",{path:r.toString(),value:i,priority:c});const w=Qp(l),D=Ti(i,c),L=zp(l.serverSyncTree_,r),q=Ff(D,L,w),te=Cm(l),xe=xf(l.serverSyncTree_,r,q,te,!0);Yp(l.eventQueue_,xe),l.server_.put(r.toString(),D.val(!0),(nt,It)=>{const Pt="ok"===nt;Pt||ks("set at "+r+" failed: "+nt);const Xt=Tu(l.serverSyncTree_,te,!Pt);Ra(l.eventQueue_,r,Xt),Dd(0,f,nt,It)});const Fe=Hc(l,r);tc(l,Fe),Ra(l.eventQueue_,Fe,[])}function Ay(l,r,i){l.server_.onDisconnectCancel(r.toString(),(c,f)=>{"ok"===c&&Mp(l.onDisconnect_,r),Dd(0,i,c,f)})}function My(l,r,i,c){const f=Ti(i);l.server_.onDisconnectPut(r.toString(),f.val(!0),(w,D)=>{"ok"===w&&ps(l.onDisconnect_,r,f),Dd(0,c,w,D)})}function Ph(l,r,i){let c;c=".info"===Ir(r._path)?Nf(l.infoSyncTree_,r,i):Nf(l.serverSyncTree_,r,i),R_(l.eventQueue_,r._path,c)}function bm(l){l.persistentConnection_&&l.persistentConnection_.interrupt(xh)}function ml(l,...r){let i="";l.persistentConnection_&&(i=l.persistentConnection_.id+":"),Gs(i,...r)}function Dd(l,r,i,c){r&&Ls(()=>{if("ok"===i)r(null);else{const f=(i||"error").toUpperCase();let w=f;c&&(w+=": "+c);const D=new Error(w);D.code=f,r(D)}})}function Bf(l,r,i){return zp(l.serverSyncTree_,r,i)||fr.EMPTY_NODE}function Jp(l,r=l.transactionQueueTree_){if(r||rc(l,r),Su(r)){const i=N_(l,r);(0,ge.hu)(i.length>0,"Sending zero length transaction queue"),i.every(f=>0===f.status)&&function xy(l,r,i){const c=i.map(te=>te.currentWriteId),f=Bf(l,r,c);let w=f;const D=f.hash();for(let te=0;te<i.length;te++){const xe=i[te];(0,ge.hu)(0===xe.status,"tryToSendTransactionQueue_: items in queue should all be run."),xe.status=1,xe.retryCount++;const Fe=ro(r,xe.path);w=w.updateChild(Fe,xe.currentOutputSnapshotRaw)}const L=w.val(!0),q=r;l.server_.put(q.toString(),L,te=>{ml(l,"transaction put response",{path:q.toString(),status:te});let xe=[];if("ok"===te){const Fe=[];for(let nt=0;nt<i.length;nt++)i[nt].status=2,xe=xe.concat(Tu(l.serverSyncTree_,i[nt].currentWriteId)),i[nt].onComplete&&Fe.push(()=>i[nt].onComplete(null,!0,i[nt].currentOutputSnapshotResolved)),i[nt].unwatcher();rc(l,Uf(l.transactionQueueTree_,r)),Jp(l,l.transactionQueueTree_),Ra(l.eventQueue_,r,xe);for(let nt=0;nt<Fe.length;nt++)Ls(Fe[nt])}else{if("datastale"===te)for(let Fe=0;Fe<i.length;Fe++)i[Fe].status=3===i[Fe].status?4:0;else{ks("transaction at "+q.toString()+" failed: "+te);for(let Fe=0;Fe<i.length;Fe++)i[Fe].status=4,i[Fe].abortReason=te}tc(l,r)}},D)}(l,Rh(r),i)}else bd(r)&&qp(r,i=>{Jp(l,i)})}function tc(l,r){const i=Hf(l,r),c=Rh(i);return function Py(l,r,i){if(0===r.length)return;const c=[];let f=[];const D=r.filter(L=>0===L.status).map(L=>L.currentWriteId);for(let L=0;L<r.length;L++){const q=r[L],te=ro(i,q.path);let Fe,xe=!1;if((0,ge.hu)(null!==te,"rerunTransactionsUnderNode_: relativePath should not be null."),4===q.status)xe=!0,Fe=q.abortReason,f=f.concat(Tu(l.serverSyncTree_,q.currentWriteId,!0));else if(0===q.status)if(q.retryCount>=x_)xe=!0,Fe="maxretry",f=f.concat(Tu(l.serverSyncTree_,q.currentWriteId,!0));else{const nt=Bf(l,q.path,D);q.currentInputSnapshot=nt;const It=r[L].update(nt.val());if(void 0!==It){Sd("transaction failed: Data returned ",It,q.path);let Pt=Ti(It);"object"==typeof It&&null!=It&&(0,ge.r3)(It,".priority")||(Pt=Pt.updatePriority(nt.getPriority()));const Cn=q.currentWriteId,nr=Qp(l),Pr=Ff(Pt,nt,nr);q.currentOutputSnapshotRaw=Pt,q.currentOutputSnapshotResolved=Pr,q.currentWriteId=Cm(l),D.splice(D.indexOf(Cn),1),f=f.concat(xf(l.serverSyncTree_,q.path,Pr,q.currentWriteId,q.applyLocally)),f=f.concat(Tu(l.serverSyncTree_,Cn,!0))}else xe=!0,Fe="nodata",f=f.concat(Tu(l.serverSyncTree_,q.currentWriteId,!0))}Ra(l.eventQueue_,i,f),f=[],xe&&(r[L].status=2,setTimeout(r[L].unwatcher,Math.floor(0)),r[L].onComplete&&c.push("nodata"===Fe?()=>r[L].onComplete(null,!1,r[L].currentInputSnapshot):()=>r[L].onComplete(new Error(Fe),!1,null)))}rc(l,l.transactionQueueTree_);for(let L=0;L<c.length;L++)Ls(c[L]);Jp(l,l.transactionQueueTree_)}(l,N_(l,i),c),c}function Hf(l,r){let i,c=l.transactionQueueTree_;for(i=Ir(r);null!==i&&void 0===Su(c);)c=Uf(c,i),i=Ir(r=Wi(r));return c}function N_(l,r){const i=[];return nc(l,r,i),i.sort((c,f)=>c.order-f.order),i}function nc(l,r,i){const c=Su(r);if(c)for(let f=0;f<c.length;f++)i.push(c[f]);qp(r,f=>{nc(l,f,i)})}function rc(l,r){const i=Su(r);if(i){let c=0;for(let f=0;f<i.length;f++)2!==i[f].status&&(i[c]=i[f],c++);i.length=c,Mh(r,i.length>0?i:void 0)}qp(r,c=>{rc(l,c)})}function Hc(l,r){const i=Rh(Hf(l,r)),c=Uf(l.transactionQueueTree_,r);return function Ty(l,r,i){let c=i?l:l.parent;for(;null!==c;){if(r(c))return!0;c=c.parent}}(c,f=>{Xp(l,f)}),Xp(l,c),S_(c,f=>{Xp(l,f)}),i}function Xp(l,r){const i=Su(r);if(i){const c=[];let f=[],w=-1;for(let D=0;D<i.length;D++)3===i[D].status||(1===i[D].status?((0,ge.hu)(w===D-1,"All SENT items should be at beginning of queue."),w=D,i[D].status=3,i[D].abortReason="set"):((0,ge.hu)(0===i[D].status,"Unexpected transaction status in abort"),i[D].unwatcher(),f=f.concat(Tu(l.serverSyncTree_,i[D].currentWriteId,!0)),i[D].onComplete&&c.push(i[D].onComplete.bind(null,new Error("set"),!1,null))));-1===w?Mh(r,void 0):i.length=w+1,Ra(l.eventQueue_,Rh(r),f);for(let D=0;D<c.length;D++)Ls(c[D])}}const Tm=function(l,r){const i=Oy(l),c=i.namespace;return"firebase.com"===i.domain&&ha(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||"undefined"===c)&&"localhost"!==i.domain&&ha("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ks("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new cp(i.host,i.secure,c,"ws"===i.scheme||"wss"===i.scheme,r,"",c!==i.subdomain),path:new qr(i.pathString)}},Oy=function(l){let r="",i="",c="",f="",w="",D=!0,L="https",q=443;if("string"==typeof l){let te=l.indexOf("//");te>=0&&(L=l.substring(0,te-1),l=l.substring(te+2));let xe=l.indexOf("/");-1===xe&&(xe=l.length);let Fe=l.indexOf("?");-1===Fe&&(Fe=l.length),r=l.substring(0,Math.min(xe,Fe)),xe<Fe&&(f=function Im(l){let r="";const i=l.split("/");for(let c=0;c<i.length;c++)if(i[c].length>0){let f=i[c];try{f=decodeURIComponent(f.replace(/\+/g," "))}catch{}r+="/"+f}return r}(l.substring(xe,Fe)));const nt=function Ny(l){const r={};"?"===l.charAt(0)&&(l=l.substring(1));for(const i of l.split("&")){if(0===i.length)continue;const c=i.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):ks(`Invalid query segment '${i}' in query '${l}'`)}return r}(l.substring(Math.min(l.length,Fe)));te=r.indexOf(":"),te>=0?(D="https"===L||"wss"===L,q=parseInt(r.substring(te+1),10)):te=r.length;const It=r.slice(0,te);if("localhost"===It.toLowerCase())i="localhost";else if(It.split(".").length<=2)i=It;else{const Pt=r.indexOf(".");c=r.substring(0,Pt).toLowerCase(),i=r.substring(Pt+1),w=c}"ns"in nt&&(w=nt.ns)}return{host:r,port:q,domain:i,subdomain:c,secure:D,scheme:L,pathString:f,namespace:w}},eg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Sm=function(){let l=0;const r=[];return function(i){const c=i===l;let f;l=i;const w=new Array(8);for(f=7;f>=0;f--)w[f]=eg.charAt(i%64),i=Math.floor(i/64);(0,ge.hu)(0===i,"Cannot push at time == 0");let D=w.join("");if(c){for(f=11;f>=0&&63===r[f];f--)r[f]=0;r[f]++}else for(f=0;f<12;f++)r[f]=Math.floor(64*Math.random());for(f=0;f<12;f++)D+=eg.charAt(r[f]);return(0,ge.hu)(20===D.length,"nextPushId: Length should be 20."),D}}();class Dm{constructor(r,i,c,f){this.eventType=r,this.eventRegistration=i,this.snapshot=c,this.prevName=f}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ge.Wl)(this.snapshot.exportVal())}}class Ad{constructor(r,i,c){this.eventRegistration=r,this.error=i,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Am{constructor(r,i){this.snapshotCallback=r,this.cancelCallback=i}onValue(r,i){this.snapshotCallback.call(null,r,i)}onCancel(r){return(0,ge.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class O_{constructor(r,i){this._repo=r,this._path=i}cancel(){const r=new ge.BH;return Ay(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){Hn("OnDisconnect.remove",this._path);const r=new ge.BH;return My(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){Hn("OnDisconnect.set",this._path),Du("OnDisconnect.set",r,this._path,!1);const i=new ge.BH;return My(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}setWithPriority(r,i){Hn("OnDisconnect.setWithPriority",this._path),Du("OnDisconnect.setWithPriority",r,this._path,!1),ym("OnDisconnect.setWithPriority",i,!1);const c=new ge.BH;return function vv(l,r,i,c,f){const w=Ti(i,c);l.server_.onDisconnectPut(r.toString(),w.val(!0),(D,L)=>{"ok"===D&&ps(l.onDisconnect_,r,w),Dd(0,f,D,L)})}(this._repo,this._path,r,i,c.wrapCallback(()=>{})),c.promise}update(r){Hn("OnDisconnect.update",this._path),Zr("OnDisconnect.update",r,this._path,!1);const i=new ge.BH;return function Ev(l,r,i,c){if((0,ge.xb)(i))return Gs("onDisconnect().update() called with empty data.  Don't do anything."),void Dd(0,c,"ok",void 0);l.server_.onDisconnectMerge(r.toString(),i,(f,w)=>{"ok"===f&&W(i,(D,L)=>{const q=Ti(L);ps(l.onDisconnect_,ai(r,D),q)}),Dd(0,c,f,w)})}(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}}class xa{constructor(r,i,c,f){this._repo=r,this._path=i,this._queryParams=c,this._orderByCalled=f}get key(){return Qn(this._path)?null:df(this._path)}get ref(){return new Xa(this._repo,this._path)}get _queryIdentifier(){const r=Ap(this._queryParams),i=y(r);return"{}"===i?"default":i}get _queryObject(){return Ap(this._queryParams)}isEqual(r){if(!((r=(0,ge.m9)(r))instanceof xa))return!1;const i=this._repo===r._repo,c=fh(this._path,r._path);return i&&c&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function kg(l){let r="";for(let i=l.pieceNum_;i<l.pieces_.length;i++)""!==l.pieces_[i]&&(r+="/"+encodeURIComponent(String(l.pieces_[i])));return r||"/"}(this._path)}}function Md(l,r){if(!0===l._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Rd(l){let r=null,i=null;if(l.hasStart()&&(r=l.getIndexStartValue()),l.hasEnd()&&(i=l.getIndexEndValue()),l.getIndex()===Ku){const c="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",f="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(l.hasStart()){if(l.getIndexStartName()!==Wl)throw new Error(c);if("string"!=typeof r)throw new Error(f)}if(l.hasEnd()){if(l.getIndexEndName()!==Kl)throw new Error(c);if("string"!=typeof i)throw new Error(f)}}else if(l.getIndex()===Di){if(null!=r&&!Td(r)||null!=i&&!Td(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ge.hu)(l.getIndex()instanceof bp||l.getIndex()===Hg,"unknown index type."),null!=r&&"object"==typeof r||null!=i&&"object"==typeof i)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Oh(l){if(l.hasStart()&&l.hasEnd()&&l.hasLimit()&&!l.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xa extends xa{constructor(r,i){super(r,i,new gd,!1)}get parent(){const r=Mc(this._path);return null===r?null:new Xa(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class xd{constructor(r,i,c){this._node=r,this.ref=i,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const i=new qr(r),c=ic(this.ref,r);return new xd(this._node.getChild(i),c,Di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(c,f)=>r(new xd(f,ic(this.ref,c),Di)))}hasChild(r){const i=new qr(r);return!this._node.getChild(i).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jf(l,r){return(l=(0,ge.m9)(l))._checkNotDeleted("ref"),void 0!==r?ic(l._root,r):l._root}function ky(l,r){(l=(0,ge.m9)(l))._checkNotDeleted("refFromURL");const i=Tm(r,l._repo.repoInfo_.nodeAdmin);xo("refFromURL",i);const c=i.repoInfo;return!l._repo.repoInfo_.isCustomHost()&&c.host!==l._repo.repoInfo_.host&&ha("refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+l._repo.repoInfo_.host+")"),jf(l,i.path.toString())}function ic(l,r){return null===Ir((l=(0,ge.m9)(l))._path)?Sy("child","path",r,!1):Xu("child","path",r,!1),new Xa(l._repo,ai(l._path,r))}function sc(l,r){l=(0,ge.m9)(l),Hn("set",l._path),Du("set",r,l._path,!1);const i=new ge.BH;return tu(l._repo,l._path,r,null,i.wrapCallback(()=>{})),i.promise}function kh(l,r){Zr("update",r,l._path,!1);const i=new ge.BH;return function Au(l,r,i,c){ml(l,"update",{path:r.toString(),value:i});let f=!0;const w=Qp(l),D={};if(W(i,(L,q)=>{f=!1,D[L]=Lf(ai(r,L),Ti(q),l.serverSyncTree_,w)}),f)Gs("update() called with empty data.  Don't do anything."),Dd(0,c,"ok",void 0);else{const L=Cm(l),q=function by(l,r,i,c){!function c_(l,r,i,c){(0,ge.hu)(c>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:r,children:i,writeId:c,visible:!0}),l.visibleWrites=kp(l.visibleWrites,r,i),l.lastWriteId=c}(l.pendingWriteTree_,r,i,c);const f=ts.fromObject(i);return Uc(l,new wu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,f))}(l.serverSyncTree_,r,D,L);Yp(l.eventQueue_,q),l.server_.merge(r.toString(),i,(te,xe)=>{const Fe="ok"===te;Fe||ks("update at "+r+" failed: "+te);const nt=Tu(l.serverSyncTree_,L,!Fe),It=nt.length>0?tc(l,r):r;Ra(l.eventQueue_,It,nt),Dd(0,c,te,xe)}),W(i,te=>{const xe=Hc(l,ai(r,te));tc(l,xe)}),Ra(l.eventQueue_,r,[])}}(l._repo,l._path,r,i.wrapCallback(()=>{})),i.promise}function Cv(l){l=(0,ge.m9)(l);const r=new Am(()=>{}),i=new rg(r);return function P_(l,r,i){const c=function b_(l,r){const i=r._path;let c=null;l.syncPointTree_.foreachOnPath(i,(te,xe)=>{const Fe=ro(te,i);c=c||Yu(xe,Fe)});let f=l.syncPointTree_.get(i);f?c=c||Yu(f,Gr()):(f=new Cy,l.syncPointTree_=l.syncPointTree_.set(i,f));const w=null!=c,D=w?new zs(c,!0,!1):null;return function gv(l){return Np(l.viewCache_)}(Ro(f,r,Cf(l.pendingWriteTree_,r._path),w?D.getNode():fr.EMPTY_NODE,w))}(l.serverSyncTree_,r);return null!=c?Promise.resolve(c):l.server_.get(r).then(f=>{const w=Ti(f).withIndex(r._queryParams.getIndex());let D;if(Gp(l.serverSyncTree_,r,i,!0),r._queryParams.loadsAllData())D=Pf(l.serverSyncTree_,r._path,w);else{const L=Qu(l.serverSyncTree_,r);D=C_(l.serverSyncTree_,r._path,w,L)}return Ra(l.eventQueue_,r._path,D),Nf(l.serverSyncTree_,r,i,null,!0),w},f=>(ml(l,"get for query "+(0,ge.Wl)(r)+" failed: "+f),Promise.reject(new Error(f))))}(l._repo,l,i).then(c=>new xd(c,new Xa(l._repo,l._path),l._queryParams.getIndex()))}class rg{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,i){const c=i._queryParams.getIndex();return new Dm("value",this,new xd(r.snapshotNode,new Xa(i._repo,i._path),c))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ad(this,r,i):null}matches(r){return r instanceof rg&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Lh{constructor(r,i){this.eventType=r,this.callbackContext=i}respondsTo(r){let i="children_added"===r?"child_added":r;return i="children_removed"===i?"child_removed":i,this.eventType===i}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ad(this,r,i):null}createEvent(r,i){(0,ge.hu)(null!=r.childName,"Child events should have a childName.");const c=ic(new Xa(i._repo,i._path),r.childName),f=i._queryParams.getIndex();return new Dm(r.type,this,new xd(r.snapshotNode,c,f),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Lh&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function $f(l,r,i,c,f){let w;if("object"==typeof c&&(w=void 0,f=c),"function"==typeof c&&(w=c),f&&f.onlyOnce){const q=i,te=(xe,Fe)=>{Ph(l._repo,l,L),q(xe,Fe)};te.userCallback=i.userCallback,te.context=i.context,i=te}const D=new Am(i,w||void 0),L="value"===r?new rg(D):new Lh(r,D);return function Ry(l,r,i){let c;c=".info"===Ir(r._path)?Gp(l.infoSyncTree_,r,i):Gp(l.serverSyncTree_,r,i),R_(l.eventQueue_,r._path,c)}(l._repo,l,L),()=>Ph(l._repo,l,L)}function Fh(l,r,i,c){return $f(l,"value",r,i,c)}function L_(l,r,i,c){return $f(l,"child_added",r,i,c)}function F_(l,r,i,c){return $f(l,"child_changed",r,i,c)}function Gf(l,r,i,c){return $f(l,"child_moved",r,i,c)}function U_(l,r,i,c){return $f(l,"child_removed",r,i,c)}function Pd(l,r,i){let c=null;const f=i?new Am(i):null;"value"===r?c=new rg(f):r&&(c=new Lh(r,f)),Ph(l._repo,l,c)}class _l{}class Fy extends _l{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Du("endAt",this._value,r._path,!0);const i=gf(r._queryParams,this._value,this._key);if(Oh(i),Rd(i),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xa(r._repo,r._path,i,r._orderByCalled)}}class Uy extends _l{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Du("endBefore",this._value,r._path,!1);const i=function py(l,r,i){let c;return c=gf(l,r,l.index_===Ku||i?i:Wl),c.endBeforeSet_=!0,c}(r._queryParams,this._value,this._key);if(Oh(i),Rd(i),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xa(r._repo,r._path,i,r._orderByCalled)}}class Vy extends _l{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Du("startAt",this._value,r._path,!0);const i=$g(r._queryParams,this._value,this._key);if(Oh(i),Rd(i),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xa(r._repo,r._path,i,r._orderByCalled)}}class B_ extends _l{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Du("startAfter",this._value,r._path,!1);const i=function md(l,r,i){let c;return c=$g(l,r,l.index_===Ku||i?i:Kl),c.startAfterSet_=!0,c}(r._queryParams,this._value,this._key);if(Oh(i),Rd(i),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new xa(r._repo,r._path,i,r._orderByCalled)}}class jn extends _l{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new xa(r._repo,r._path,function Eh(l,r){const i=l.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="l",i}(r._queryParams,this._limit),r._orderByCalled)}}class Iv extends _l{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xa(r._repo,r._path,function jg(l,r){const i=l.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="r",i}(r._queryParams,this._limit),r._orderByCalled)}}class ig extends _l{constructor(r){super(),this._path=r}_apply(r){Md(r,"orderByChild");const i=new qr(this._path);if(Qn(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const c=new bp(i),f=Dp(r._queryParams,c);return Rd(f),new xa(r._repo,r._path,f,!0)}}class H_ extends _l{_apply(r){Md(r,"orderByKey");const i=Dp(r._queryParams,Ku);return Rd(i),new xa(r._repo,r._path,i,!0)}}class Ki extends _l{_apply(r){Md(r,"orderByPriority");const i=Dp(r._queryParams,Di);return Rd(i),new xa(r._repo,r._path,i,!0)}}class Wf extends _l{_apply(r){Md(r,"orderByValue");const i=Dp(r._queryParams,Hg);return Rd(i),new xa(r._repo,r._path,i,!0)}}class Sv extends _l{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){if(Du("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Fy(this._value,this._key)._apply(new Vy(this._value,this._key)._apply(r))}}function nu(l,...r){let i=(0,ge.m9)(l);for(const c of r)i=c._apply(i);return i}(function jp(l){(0,ge.hu)(!Af,"__referenceConstructor has already been defined"),Af=l})(Xa),function Mf(l){(0,ge.hu)(!Iu,"__referenceConstructor has already been defined"),Iu=l}(Xa);const $c="FIREBASE_DATABASE_EMULATOR_HOST",xm={};let By=!1;function Hy(l,r,i,c,f){let w=c||l.options.databaseURL;void 0===w&&(l.options.projectId||ha("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gs("Using default host for project ",l.options.projectId),w=`${l.options.projectId}-default-rtdb.firebaseio.com`);let q,te,D=Tm(w,f),L=D.repoInfo;typeof process<"u"&&process.env&&(te=process.env[$c]),te?(q=!0,w=`http://${te}?ns=${L.namespace}`,D=Tm(w,f),L=D.repoInfo):q=!D.repoInfo.secure;const xe=f&&q?new Gu(Gu.OWNER):new fs(l.name,l.options,r);xo("Invalid Firebase Database URL",D),Qn(D.path)||ha("Database URL must point to the root of a Firebase Database (not including a child path).");const Fe=function jy(l,r,i,c){let f=xm[r.name];f||(f={},xm[r.name]=f);let w=f[l.toURLString()];return w&&ha("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new yv(l,By,i,c),f[l.toURLString()]=w,w}(L,l,xe,new nf(l.name,i));return new Av(Fe,l)}class Av{constructor(r,i){this._repoInternal=r,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Dy(l,r,i){if(l.stats_=dp(l.repoInfo_),l.forceRestClient_||sd())l.server_=new xc(l.repoInfo_,(c,f,w,D)=>{Kv(l,c,f,w,D)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>ws(l,!0),0);else{if(typeof i<"u"&&null!==i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ge.Wl)(i)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}l.persistentConnection_=new vu(l.repoInfo_,r,(c,f,w,D)=>{Kv(l,c,f,w,D)},c=>{ws(l,c)},c=>{!function wm(l,r){W(r,(i,c)=>{Rl(l,i,c)})}(l,c)},l.authTokenProvider_,l.appCheckProvider_,i),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(c=>{l.server_.refreshAuthToken(c)}),l.appCheckProvider_.addTokenChangeListener(c=>{l.server_.refreshAppCheckToken(c.token)}),l.statsReporter_=function bc(l,r){const i=l.toString();return Gm[i]||(Gm[i]=r()),Gm[i]}(l.repoInfo_,()=>new r_(l.stats_,l.server_)),l.infoData_=new mf,l.infoSyncTree_=new Th({startListening:(c,f,w,D)=>{let L=[];const q=l.infoData_.getNode(c._path);return q.isEmpty()||(L=Pf(l.infoSyncTree_,c._path,q),setTimeout(()=>{D("ok")},0)),L},stopListening:()=>{}}),Rl(l,"connected",!1),l.serverSyncTree_=new Th({startListening:(c,f,w,D)=>(l.server_.listen(c,w,f,(L,q)=>{const te=D(L,q);Ra(l.eventQueue_,c._path,te)}),[]),stopListening:(c,f)=>{l.server_.unlisten(c,f)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xa(this._repo,Gr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sg(l,r){const i=xm[r];(!i||i[l.key]!==l)&&ha(`Database ${r}(${l.repoInfo_}) has already been deleted.`),bm(l),delete i[l.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&ha("Cannot call "+r+" on a deleted database.")}}function og(){ud.IS_TRANSPORT_INITIALIZED&&ks("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function G_(){og(),hl.forceDisallow()}function Gy(){og(),uf.forceDisallow(),hl.forceAllow()}function Mv(l,r){sh(l,r)}const Zv={".sv":"timestamp"};class Wy{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}vu.prototype.simpleListen=function(l,r){this.sendRequest("q",{p:l},r)},vu.prototype.echo=function(l,r){this.sendRequest("echo",{d:l},r)},function Rv(l){ih(Zs.SDK_VERSION),(0,Zs._registerComponent)(new il.wA("database",(r,{instanceIdentifier:i})=>Hy(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),i),"PUBLIC").setMultipleInstances(!0)),(0,Zs.registerVersion)(ul,"0.14.4",l),(0,Zs.registerVersion)(ul,"0.14.4","esm2017")}();const Jv=new qa.Yd("@firebase/database-compat"),Nv=function(l){Jv.warn("FIREBASE WARNING: "+l)};class Om{constructor(r){this._delegate=r}cancel(r){(0,ge.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ge.Wj)("OnDisconnect.cancel","onComplete",r,!0);const i=this._delegate.cancel();return r&&i.then(()=>r(null),c=>r(c)),i}remove(r){(0,ge.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ge.Wj)("OnDisconnect.remove","onComplete",r,!0);const i=this._delegate.remove();return r&&i.then(()=>r(null),c=>r(c)),i}set(r,i){(0,ge.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ge.Wj)("OnDisconnect.set","onComplete",i,!0);const c=this._delegate.set(r);return i&&c.then(()=>i(null),f=>i(f)),c}setWithPriority(r,i,c){(0,ge.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ge.Wj)("OnDisconnect.setWithPriority","onComplete",c,!0);const f=this._delegate.setWithPriority(r,i);return c&&f.then(()=>c(null),w=>c(w)),f}update(r,i){if((0,ge.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const f={};for(let w=0;w<r.length;++w)f[""+w]=r[w];r=f,Nv("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ge.Wj)("OnDisconnect.update","onComplete",i,!0);const c=this._delegate.update(r);return i&&c.then(()=>i(null),f=>i(f)),c}}class Ov{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return(0,ge.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Od{constructor(r,i){this._database=r,this._delegate=i}val(){return(0,ge.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ge.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ge.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ge.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,ge.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),Xu("DataSnapshot.child","path",r,!1),new Od(this._database,this._delegate.child(r))}hasChild(r){return(0,ge.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Xu("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,ge.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,ge.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ge.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(i=>r(new Od(this._database,i)))}hasChildren(){return(0,ge.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ge.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ge.Dv)("DataSnapshot.ref",0,0,arguments.length),new Pa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ga{constructor(r,i){this.database=r,this._delegate=i}on(r,i,c,f){var w;(0,ge.Dv)("Query.on",2,4,arguments.length),(0,ge.Wj)("Query.on","callback",i,!1);const D=ga.getCancelAndContextArgs_("Query.on",c,f),L=(te,xe)=>{i.call(D.context,new Od(this.database,te),xe)};L.userCallback=i,L.context=D.context;const q=null===(w=D.cancel)||void 0===w?void 0:w.bind(D.context);switch(r){case"value":return Fh(this._delegate,L,q),i;case"child_added":return L_(this._delegate,L,q),i;case"child_removed":return U_(this._delegate,L,q),i;case"child_changed":return F_(this._delegate,L,q),i;case"child_moved":return Gf(this._delegate,L,q),i;default:throw new Error((0,ge.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,i,c){if((0,ge.Dv)("Query.off",0,3,arguments.length),function(l,r,i){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ge.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,ge.Wj)("Query.off","callback",i,!0),(0,ge.lb)("Query.off","context",c,!0),i){const f=()=>{};f.userCallback=i,f.context=c,Pd(this._delegate,r,f)}else Pd(this._delegate,r)}get(){return Cv(this._delegate).then(r=>new Od(this.database,r))}once(r,i,c,f){(0,ge.Dv)("Query.once",1,4,arguments.length),(0,ge.Wj)("Query.once","callback",i,!0);const w=ga.getCancelAndContextArgs_("Query.once",c,f),D=new ge.BH,L=(te,xe)=>{const Fe=new Od(this.database,te);i&&i.call(w.context,Fe,xe),D.resolve(Fe)};L.userCallback=i,L.context=w.context;const q=te=>{w.cancel&&w.cancel.call(w.context,te),D.reject(te)};switch(r){case"value":Fh(this._delegate,L,q,{onlyOnce:!0});break;case"child_added":L_(this._delegate,L,q,{onlyOnce:!0});break;case"child_removed":U_(this._delegate,L,q,{onlyOnce:!0});break;case"child_changed":F_(this._delegate,L,q,{onlyOnce:!0});break;case"child_moved":Gf(this._delegate,L,q,{onlyOnce:!0});break;default:throw new Error((0,ge.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return D.promise}limitToFirst(r){return(0,ge.Dv)("Query.limitToFirst",1,1,arguments.length),new ga(this.database,nu(this._delegate,function Rm(l){if("number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jn(l)}(r)))}limitToLast(r){return(0,ge.Dv)("Query.limitToLast",1,1,arguments.length),new ga(this.database,nu(this._delegate,function qv(l){if("number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Iv(l)}(r)))}orderByChild(r){return(0,ge.Dv)("Query.orderByChild",1,1,arguments.length),new ga(this.database,nu(this._delegate,function Tv(l){if("$key"===l)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===l)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===l)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xu("orderByChild","path",l,!1),new ig(l)}(r)))}orderByKey(){return(0,ge.Dv)("Query.orderByKey",0,0,arguments.length),new ga(this.database,nu(this._delegate,function j_(){return new H_}()))}orderByPriority(){return(0,ge.Dv)("Query.orderByPriority",0,0,arguments.length),new ga(this.database,nu(this._delegate,function Nd(){return new Ki}()))}orderByValue(){return(0,ge.Dv)("Query.orderByValue",0,0,arguments.length),new ga(this.database,nu(this._delegate,function jc(){return new Wf}()))}startAt(r=null,i){return(0,ge.Dv)("Query.startAt",0,2,arguments.length),new ga(this.database,nu(this._delegate,function V_(l=null,r){return Vf("startAt","key",r,!0),new Vy(l,r)}(r,i)))}startAfter(r=null,i){return(0,ge.Dv)("Query.startAfter",0,2,arguments.length),new ga(this.database,nu(this._delegate,function bv(l,r){return Vf("startAfter","key",r,!0),new B_(l,r)}(r,i)))}endAt(r=null,i){return(0,ge.Dv)("Query.endAt",0,2,arguments.length),new ga(this.database,nu(this._delegate,function zf(l,r){return Vf("endAt","key",r,!0),new Fy(l,r)}(r,i)))}endBefore(r=null,i){return(0,ge.Dv)("Query.endBefore",0,2,arguments.length),new ga(this.database,nu(this._delegate,function Mm(l,r){return Vf("endBefore","key",r,!0),new Uy(l,r)}(r,i)))}equalTo(r,i){return(0,ge.Dv)("Query.equalTo",1,2,arguments.length),new ga(this.database,nu(this._delegate,function $_(l,r){return Vf("equalTo","key",r,!0),new Sv(l,r)}(r,i)))}toString(){return(0,ge.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ge.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,ge.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof ga))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,i,c){const f={cancel:void 0,context:void 0};if(i&&c)f.cancel=i,(0,ge.Wj)(r,"cancel",f.cancel,!0),f.context=c,(0,ge.lb)(r,"context",f.context,!0);else if(i)if("object"==typeof i&&null!==i)f.context=i;else{if("function"!=typeof i)throw new Error((0,ge.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");f.cancel=i}return f}get ref(){return new Pa(this.database,new Xa(this._delegate._repo,this._delegate._path))}}class Pa extends ga{constructor(r,i){super(r,new xa(i._repo,i._path,new gd,!1)),this.database=r,this._delegate=i}getKey(){return(0,ge.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,ge.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Pa(this.database,ic(this._delegate,r))}getParent(){(0,ge.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Pa(this.database,r):null}getRoot(){return(0,ge.Dv)("Reference.root",0,0,arguments.length),new Pa(this.database,this._delegate.root)}set(r,i){(0,ge.Dv)("Reference.set",1,2,arguments.length),(0,ge.Wj)("Reference.set","onComplete",i,!0);const c=sc(this._delegate,r);return i&&c.then(()=>i(null),f=>i(f)),c}update(r,i){if((0,ge.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const f={};for(let w=0;w<r.length;++w)f[""+w]=r[w];r=f,Nv("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hn("Reference.update",this._delegate._path),(0,ge.Wj)("Reference.update","onComplete",i,!0);const c=kh(this._delegate,r);return i&&c.then(()=>i(null),f=>i(f)),c}setWithPriority(r,i,c){(0,ge.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ge.Wj)("Reference.setWithPriority","onComplete",c,!0);const f=function Ly(l,r,i){if(Hn("setWithPriority",l._path),Du("setWithPriority",r,l._path,!1),ym("setWithPriority",i,!1),".length"===l.key||".keys"===l.key)throw"setWithPriority failed: "+l.key+" is a read-only object.";const c=new ge.BH;return tu(l._repo,l._path,r,i,c.wrapCallback(()=>{})),c.promise}(this._delegate,r,i);return c&&f.then(()=>c(null),w=>c(w)),f}remove(r){(0,ge.Dv)("Reference.remove",0,1,arguments.length),(0,ge.Wj)("Reference.remove","onComplete",r,!0);const i=function tg(l){return Hn("remove",l._path),sc(l,null)}(this._delegate);return r&&i.then(()=>r(null),c=>r(c)),i}transaction(r,i,c){(0,ge.Dv)("Reference.transaction",1,3,arguments.length),(0,ge.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,ge.Wj)("Reference.transaction","onComplete",i,!0),function(l,r,i,c){if(void 0!==i&&"boolean"!=typeof i)throw new Error((0,ge.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,c);const f=function Pv(l,r,i){var c;if(l=(0,ge.m9)(l),Hn("Reference.transaction",l._path),".length"===l.key||".keys"===l.key)throw"Reference.transaction failed: "+l.key+" is a read-only object.";const f=null===(c=i?.applyLocally)||void 0===c||c,w=new ge.BH,L=Fh(l,()=>{});return function Nh(l,r,i,c,f,w){ml(l,"transaction on "+r);const D={path:r,update:i,onComplete:c,status:null,order:tf(),applyLocally:w,retryCount:0,unwatcher:f,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},L=Bf(l,r,void 0);D.currentInputSnapshot=L;const q=D.update(L.val());if(void 0===q)D.unwatcher(),D.currentOutputSnapshotRaw=null,D.currentOutputSnapshotResolved=null,D.onComplete&&D.onComplete(null,!1,D.currentInputSnapshot);else{Sd("transaction failed: Data returned ",q,D.path),D.status=0;const te=Uf(l.transactionQueueTree_,r),xe=Su(te)||[];let Fe;xe.push(D),Mh(te,xe),"object"==typeof q&&null!==q&&(0,ge.r3)(q,".priority")?(Fe=(0,ge.DV)(q,".priority"),(0,ge.hu)(Td(Fe),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Fe=(zp(l.serverSyncTree_,r)||fr.EMPTY_NODE).getPriority().val();const nt=Qp(l),It=Ti(q,Fe),Pt=Ff(It,L,nt);D.currentOutputSnapshotRaw=It,D.currentOutputSnapshotResolved=Pt,D.currentWriteId=Cm(l);const Xt=xf(l.serverSyncTree_,r,Pt,D.currentWriteId,D.applyLocally);Ra(l.eventQueue_,r,Xt),Jp(l,l.transactionQueueTree_)}}(l._repo,l._path,r,(q,te,xe)=>{let Fe=null;q?w.reject(q):(Fe=new xd(xe,new Xa(l._repo,l._path),Di),w.resolve(new Wy(te,Fe)))},L,f),w.promise}(this._delegate,r,{applyLocally:c}).then(w=>new Ov(w.committed,new Od(this.database,w.snapshot)));return i&&f.then(w=>i(null,w.committed,w.snapshot),w=>i(w,!1,null)),f}setPriority(r,i){(0,ge.Dv)("Reference.setPriority",1,2,arguments.length),(0,ge.Wj)("Reference.setPriority","onComplete",i,!0);const c=function ng(l,r){l=(0,ge.m9)(l),Hn("setPriority",l._path),ym("setPriority",r,!1);const i=new ge.BH;return tu(l._repo,ai(l._path,".priority"),r,null,i.wrapCallback(()=>{})),i.promise}(this._delegate,r);return i&&c.then(()=>i(null),f=>i(f)),c}push(r,i){(0,ge.Dv)("Reference.push",0,2,arguments.length),(0,ge.Wj)("Reference.push","onComplete",i,!0);const c=function k_(l,r){l=(0,ge.m9)(l),Hn("push",l._path),Du("push",r,l._path,!0);const i=ns(l._repo),c=Sm(i),f=ic(l,c),w=ic(l,c);let D;return D=null!=r?sc(w,r).then(()=>w):Promise.resolve(w),f.then=D.then.bind(D),f.catch=D.then.bind(D,void 0),f}(this._delegate,r),f=c.then(D=>new Pa(this.database,D));i&&f.then(()=>i(null),D=>i(D));const w=new Pa(this.database,c);return w.then=f.then.bind(f),w.catch=f.catch.bind(f,void 0),w}onDisconnect(){return Hn("Reference.onDisconnect",this._delegate._path),new Om(new O_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class qf{constructor(r,i){this._delegate=r,this.app=i,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:G_,forceLongPolling:Gy}}useEmulator(r,i,c={}){!function Pm(l,r,i,c={}){(l=(0,ge.m9)(l))._checkNotDeleted("useEmulator"),l._instanceStarted&&ha("Cannot call useEmulator() after instance has already been initialized.");const f=l._repoInternal;let w;if(f.repoInfo_.nodeAdmin)c.mockUserToken&&ha('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new Gu(Gu.OWNER);else if(c.mockUserToken){const D="string"==typeof c.mockUserToken?c.mockUserToken:(0,ge.Sg)(c.mockUserToken,l.app.options.projectId);w=new Gu(D)}!function Dv(l,r,i,c){l.repoInfo_=new cp(`${r}:${i}`,!1,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0),c&&(l.authTokenProvider_=c)}(f,r,i,w)}(this._delegate,r,i,c)}ref(r){if((0,ge.Dv)("database.ref",0,1,arguments.length),r instanceof Pa){const i=ky(this._delegate,r.toString());return new Pa(this,i)}{const i=jf(this._delegate,r);return new Pa(this,i)}}refFromURL(r){(0,ge.Dv)("database.refFromURL",1,1,arguments.length);const c=ky(this._delegate,r);return new Pa(this,c)}goOffline(){return(0,ge.Dv)("database.goOffline",0,0,arguments.length),function Nm(l){(l=(0,ge.m9)(l))._checkNotDeleted("goOffline"),bm(l._repo)}(this._delegate)}goOnline(){return(0,ge.Dv)("database.goOnline",0,0,arguments.length),function ag(l){(l=(0,ge.m9)(l))._checkNotDeleted("goOnline"),function gl(l){l.persistentConnection_&&l.persistentConnection_.resume(xh)}(l._repo)}(this._delegate)}}qf.ServerValue={TIMESTAMP:function xv(){return Zv}(),increment:l=>function zy(l){return{".sv":{increment:l}}}(l)};var Lv=Object.freeze({__proto__:null,initStandalone:function kv({app:l,url:r,version:i,customAuthImpl:c,namespace:f,nodeAdmin:w=!1}){ih(i);const D=new il.zt("auth-internal",new il.H0("database-standalone"));return D.setComponent(new il.wA("auth-internal",()=>c,"PRIVATE")),{instance:new qf(Hy(l,D,void 0,r,w),l),namespace:f}}});const z_=qf.ServerValue;function km(l){return null==l}function Yy(l){return"function"==typeof l.set}function Yf(l,r){return Yy(r)?r:l.ref(r)}function W_(l,r){if(function Zy(l){return"string"==typeof l}(l))return r.stringCase();if(Yy(l))return r.firebaseCase();if(function Zf(l){return"function"==typeof l.exportVal}(l))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof l)}function Gc(l,r,i="on",c=zc.z){return new Fl.y(f=>{let w=null;return w=l[i](r,(D,L)=>{c.schedule(()=>{f.next({snapshot:D,prevKey:L})}),"once"===i&&c.schedule(()=>f.complete())},D=>{c.schedule(()=>f.error(D))}),"on"===i?{unsubscribe(){null!=w&&l.off(r,w)}}:{unsubscribe(){}}}).pipe((0,Rn.U)(f=>{const{snapshot:w,prevKey:D}=f;let L=null;return w.exists()&&(L=w.key),{type:r,payload:w,prevKey:D,key:L}}),(0,ed.B)())}function Lm(l,r){const i=l.length;for(let c=0;c<i;c++)if(l[c].payload.key===r)return c;return-1}function kd(l,r){const{payload:i,prevKey:c,key:f}=r,w=Lm(l,f),D=function Qy(l,r){if(km(r))return 0;{const i=Lm(l,r);return-1===i?l.length:i+1}}(l,c);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let L=null;r.payload.forEach(q=>{const te={payload:q,type:"value",prevKey:L,key:q.key};return L=q.key,l=[...l,te],!1})}return l;case"child_added":if(w>-1){const L=l[w-1];(L&&L.key||null)!==c&&(l=l.filter(q=>q.payload.key!==i.key)).splice(D,0,r)}else{if(null==c)return[r,...l];(l=l.slice()).splice(D,0,r)}return l;case"child_removed":return l.filter(L=>L.payload.key!==i.key);case"child_changed":return l.map(L=>L.payload.key===f?r:L);case"child_moved":if(w>-1){const L=l.splice(w,1)[0];return(l=l.slice()).splice(D,0,L),l}return l;default:return l}}function xl(l){return(km(l)||0===l.length)&&(l=["child_added","child_removed","child_changed","child_moved"]),l}function Yo(l,r,i){return function Uv(l,r,i){return Gc(l,"value","once",i).pipe((0,la.w)(c=>{const f=[(0,Ul.of)(c)];return r.forEach(w=>f.push(Gc(l,w,"on",i))),(0,ju.T)(...f).pipe((0,Cg.R)(kd,[]))}),(0,Yi.x)())}(l,r=xl(r),i)}function K_(l,r,i){const c=(r=xl(r)).map(f=>Gc(l,f,"on",i));return(0,ju.T)(...c)}function Na(l,r){return function(c,f){return W_(c,{stringCase:()=>l.child(c)[r](f),firebaseCase:()=>c[r](f),snapshotCase:()=>c.ref[r](f)})}}function Vv(l){return function(i){return i?W_(i,{stringCase:()=>l.child(i).remove(),firebaseCase:()=>i.remove(),snapshotCase:()=>i.ref.remove()}):l.remove()}}function Vh(l,r){return function(){return Gc(l,"value","on",r)}}!function Fv(l){l.INTERNAL.registerComponent(new il.wA("database-compat",(r,{instanceIdentifier:i})=>{const c=r.getProvider("app-compat").getImmediate(),f=r.getProvider("database").getImmediate({identifier:i});return new qf(f,c)},"PUBLIC").setServiceProps({Reference:Pa,Query:ga,Database:qf,DataSnapshot:Od,enableLogging:Mv,INTERNAL:Lv,ServerValue:z_}).setMultipleInstances(!0)),l.registerVersion("@firebase/database-compat","0.3.4")}(si.Z);const Z_=new E.OlP("angularfire2.realtimeDatabaseURL"),Bh=new E.OlP("angularfire2.database.use-emulator");let Bv=(()=>{class l{constructor(i,c,f,w,D,L,q,te,xe,Fe,nt,It,Pt,Xt,Cn){this.schedulers=L;const nr=q,Pr=(0,To.on)(i,D,c);te&&(0,So.nw)(Pr,D,xe,nt,It,Pt,Fe,Xt),this.database=(0,To.cc)(`${Pr.name}.database.${f}`,"AngularFireDatabase",Pr.name,()=>{const lr=D.runOutsideAngular(()=>Pr.database(f||void 0));return nr&&lr.useEmulator(...nr),lr},[nr])}list(i,c){const f=this.schedulers.ngZone.runOutsideAngular(()=>Yf(this.database,i));let w=f;return c&&(w=c(f)),function ug(l,r){const i=r.schedulers.outsideAngular,c=r.schedulers.ngZone.run(()=>l.ref);return{query:l,update:Na(c,"update"),set:Na(c,"set"),push:f=>c.push(f),remove:Vv(c),snapshotChanges:f=>Yo(l,f,i).pipe(er.iC),stateChanges:f=>K_(l,f,i).pipe(er.iC),auditTrail:f=>function q_(l,r,i){return function lg(l,r,i){return function Qf(l,r){return Gc(l,"value","on",r).pipe((0,Rn.U)(i=>{let c;return i.payload.forEach(f=>(c=f.key,!1)),{data:i,lastKeyToLoad:c}}))}(l,i).pipe(function $u(...l){const r=(0,$m.jO)(l);return(0,es.e)((i,c)=>{const f=l.length,w=new Array(f);let D=l.map(()=>!1),L=!1;for(let q=0;q<f;q++)(0,nh.Xf)(l[q]).subscribe((0,Pu.x)(c,te=>{w[q]=te,!L&&!D[q]&&(D[q]=!0,(L=D.every(td.y))&&(D=null))},rh.Z));i.subscribe((0,Pu.x)(c,q=>{if(L){const te=[q,...w];c.next(r?r(...te):te)}}))})}(r),(0,Rn.U)(([f,w])=>{const D=f.lastKeyToLoad,L=w.map(q=>q.key);return{actions:w,lastKeyToLoad:D,loadedKeys:L}}),function Qh(l){return(0,es.e)((r,i)=>{let c=!1,f=0;r.subscribe((0,Pu.x)(i,w=>(c||(c=!l(w,f++)))&&i.next(w)))})}(f=>-1===f.loadedKeys.indexOf(f.lastKeyToLoad)),(0,Rn.U)(f=>f.actions))}(l,K_(l,r).pipe((0,Cg.R)((f,w)=>[...f,w],[])),i)}(l,f,i).pipe(er.iC),valueChanges:(f,w)=>Yo(l,f,i).pipe((0,Rn.U)(L=>L.map(q=>w&&w.idField?Object.assign(Object.assign({},q.payload.val()),{[w.idField]:q.key}):q.payload.val())),er.iC)}}(w,this)}object(i){return function Ld(l,r){return{query:l,snapshotChanges:()=>Vh(l,r.schedulers.outsideAngular)().pipe(er.iC),update:i=>l.ref.update(i),set:i=>l.ref.set(i),remove:()=>l.ref.remove(),valueChanges:()=>Vh(l,r.schedulers.outsideAngular)().pipe(er.iC,(0,Rn.U)(c=>c.payload.exists()?c.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Yf(this.database,i)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return l.\u0275fac=function(i){return new(i||l)(E.LFG(To.Dh),E.LFG(To.xv,8),E.LFG(Z_,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(er.HU),E.LFG(Bh,8),E.LFG(So.zQ,8),E.LFG(So.Qv,8),E.LFG(So.L6,8),E.LFG(So._Q,8),E.LFG(So.rT,8),E.LFG(So.lh,8),E.LFG(So.f7,8),E.LFG(Yc.nm,8))},l.\u0275prov=E.Yz7({token:l,factory:l.\u0275fac,providedIn:"any"}),l})(),Hv=(()=>{class l{constructor(){yc.Z.registerVersion("angularfire",er.q4.full,"rtdb-compat")}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=E.oAB({type:l}),l.\u0275inj=E.cJS({providers:[Bv]}),l})();const Jy_firebase={projectId:"programa-bf934",appId:"1:795599374883:web:301d7891c5bbf52a1e3f96",databaseURL:"https://programa-bf934-default-rtdb.firebaseio.com",storageBucket:"programa-bf934.appspot.com",apiKey:"AIzaSyDbVqnapLGCVFXRQJqBFhcNTY6kPhNkJDc",authDomain:"programa-bf934.firebaseapp.com",messagingSenderId:"795599374883",measurementId:"G-47LJFDGYLN"};let Fd=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=E.oAB({type:l,bootstrap:[Y]}),l.\u0275inj=E.cJS({providers:[{provide:Z.S$,useClass:Z.Do},Wt.T,ct.v,Mt,ii.C,mo.s,Ta.T,Ia.M,Bt.e,_e.ez],imports:[mr,sn,To.hO.initializeApp(Jy_firebase),So.ww,th.yb,Yh,Hv]}),l})();(0,E.G48)(),_.q6().bootstrapModule(Fd).catch(l=>console.error(l))},9751:(Gt,qe,U)=>{U.d(qe,{y:()=>he});var _=U(930),E=U(727),Z=U(8822),_e=U(9635),K=U(2416),Y=U(576),ie=U(2806);let he=(()=>{class me{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const ze=new me;return ze.source=this,ze.operator=Ge,ze}subscribe(Ge,ze,_t){const tt=function se(me){return me&&me instanceof _.Lv||function ee(me){return me&&(0,Y.m)(me.next)&&(0,Y.m)(me.error)&&(0,Y.m)(me.complete)}(me)&&(0,E.Nn)(me)}(Ge)?Ge:new _.Hp(Ge,ze,_t);return(0,ie.x)(()=>{const{operator:Xe,source:Te}=this;tt.add(Xe?Xe.call(tt,Te):Te?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(ze){Ge.error(ze)}}forEach(Ge,ze){return new(ze=pe(ze))((_t,tt)=>{const Xe=new _.Hp({next:Te=>{try{Ge(Te)}catch(Ye){tt(Ye),Xe.unsubscribe()}},error:tt,complete:_t});this.subscribe(Xe)})}_subscribe(Ge){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(Ge)}[Z.L](){return this}pipe(...Ge){return(0,_e.U)(Ge)(this)}toPromise(Ge){return new(Ge=pe(Ge))((ze,_t)=>{let tt;this.subscribe(Xe=>tt=Xe,Xe=>_t(Xe),()=>ze(tt))})}}return me.create=ke=>new me(ke),me})();function pe(me){var ke;return null!==(ke=me??K.v.Promise)&&void 0!==ke?ke:Promise}},7579:(Gt,qe,U)=>{U.d(qe,{x:()=>ie});var _=U(9751),E=U(727);const _e=(0,U(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=U(8737),Y=U(2806);let ie=(()=>{class pe extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const me=new he(this,this);return me.operator=se,me}_throwIfClosed(){if(this.closed)throw new _e}next(se){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(se)}})}error(se){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:me}=this;for(;me.length;)me.shift().error(se)}})}complete(){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:me,isStopped:ke,observers:Ge}=this;return me||ke?E.Lc:(this.currentObservers=null,Ge.push(se),new E.w0(()=>{this.currentObservers=null,(0,K.P)(Ge,se)}))}_checkFinalizedStatuses(se){const{hasError:me,thrownError:ke,isStopped:Ge}=this;me?se.error(ke):Ge&&se.complete()}asObservable(){const se=new _.y;return se.source=this,se}}return pe.create=(ee,se)=>new he(ee,se),pe})();class he extends ie{constructor(ee,se){super(),this.destination=ee,this.source=se}next(ee){var se,me;null===(me=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===me||me.call(se,ee)}error(ee){var se,me;null===(me=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===me||me.call(se,ee)}complete(){var ee,se;null===(se=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===se||se.call(ee)}_subscribe(ee){var se,me;return null!==(me=null===(se=this.source)||void 0===se?void 0:se.subscribe(ee))&&void 0!==me?me:E.Lc}}},930:(Gt,qe,U)=>{U.d(qe,{Hp:()=>_t,Lv:()=>me});var _=U(576),E=U(727),Z=U(2416),_e=U(7849),K=U(5032);const Y=pe("C",void 0,void 0);function pe(Ve,k,ye){return{kind:Ve,value:k,error:ye}}var ee=U(3410),se=U(2806);class me extends E.w0{constructor(k){super(),this.isStopped=!1,k?(this.destination=k,(0,E.Nn)(k)&&k.add(this)):this.destination=Ye}static create(k,ye,be){return new _t(k,ye,be)}next(k){this.isStopped?Te(function he(Ve){return pe("N",Ve,void 0)}(k),this):this._next(k)}error(k){this.isStopped?Te(function ie(Ve){return pe("E",void 0,Ve)}(k),this):(this.isStopped=!0,this._error(k))}complete(){this.isStopped?Te(Y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(k){this.destination.next(k)}_error(k){try{this.destination.error(k)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Ge(Ve,k){return ke.call(Ve,k)}class ze{constructor(k){this.partialObserver=k}next(k){const{partialObserver:ye}=this;if(ye.next)try{ye.next(k)}catch(be){tt(be)}}error(k){const{partialObserver:ye}=this;if(ye.error)try{ye.error(k)}catch(be){tt(be)}else tt(k)}complete(){const{partialObserver:k}=this;if(k.complete)try{k.complete()}catch(ye){tt(ye)}}}class _t extends me{constructor(k,ye,be){let Me;if(super(),(0,_.m)(k)||!k)Me={next:k??void 0,error:ye??void 0,complete:be??void 0};else{let Ce;this&&Z.v.useDeprecatedNextContext?(Ce=Object.create(k),Ce.unsubscribe=()=>this.unsubscribe(),Me={next:k.next&&Ge(k.next,Ce),error:k.error&&Ge(k.error,Ce),complete:k.complete&&Ge(k.complete,Ce)}):Me=k}this.destination=new ze(Me)}}function tt(Ve){Z.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(Ve):(0,_e.h)(Ve)}function Te(Ve,k){const{onStoppedNotification:ye}=Z.v;ye&&ee.z.setTimeout(()=>ye(Ve,k))}const Ye={closed:!0,next:K.Z,error:function Xe(Ve){throw Ve},complete:K.Z}},727:(Gt,qe,U)=>{U.d(qe,{Lc:()=>Y,w0:()=>K,Nn:()=>ie});var _=U(576);const Z=(0,U(3888).d)(pe=>function(se){pe(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((me,ke)=>`${ke+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var _e=U(8737);class K{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Ge of se)Ge.remove(this);else se.remove(this);const{initialTeardown:me}=this;if((0,_.m)(me))try{me()}catch(Ge){ee=Ge instanceof Z?Ge.errors:[Ge]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Ge of ke)try{he(Ge)}catch(ze){ee=ee??[],ze instanceof Z?ee=[...ee,...ze.errors]:ee.push(ze)}}if(ee)throw new Z(ee)}}add(ee){var se;if(ee&&ee!==this)if(this.closed)he(ee);else{if(ee instanceof K){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(ee)}}_hasParent(ee){const{_parentage:se}=this;return se===ee||Array.isArray(se)&&se.includes(ee)}_addParent(ee){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(ee),se):se?[se,ee]:ee}_removeParent(ee){const{_parentage:se}=this;se===ee?this._parentage=null:Array.isArray(se)&&(0,_e.P)(se,ee)}remove(ee){const{_finalizers:se}=this;se&&(0,_e.P)(se,ee),ee instanceof K&&ee._removeParent(this)}}K.EMPTY=(()=>{const pe=new K;return pe.closed=!0,pe})();const Y=K.EMPTY;function ie(pe){return pe instanceof K||pe&&"closed"in pe&&(0,_.m)(pe.remove)&&(0,_.m)(pe.add)&&(0,_.m)(pe.unsubscribe)}function he(pe){(0,_.m)(pe)?pe():pe.unsubscribe()}},2416:(Gt,qe,U)=>{U.d(qe,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Gt,qe,U)=>{U.d(qe,{z:()=>K});var _=U(8189),Z=U(3269),_e=U(8996);function K(...Y){return function E(){return(0,_.J)(1)}()((0,_e.D)(Y,(0,Z.yG)(Y)))}},515:(Gt,qe,U)=>{U.d(qe,{E:()=>E});const E=new(U(9751).y)(K=>K.complete())},8996:(Gt,qe,U)=>{U.d(qe,{D:()=>k});var _=U(8421),E=U(5363),Z=U(9468),Y=U(9751),he=U(2202),pe=U(576),ee=U(9672);function me(ye,be){if(!ye)throw new Error("Iterable cannot be null");return new Y.y(Me=>{(0,ee.f)(Me,be,()=>{const Ce=ye[Symbol.asyncIterator]();(0,ee.f)(Me,be,()=>{Ce.next().then(Re=>{Re.done?Me.complete():Me.next(Re.value)})},0,!0)})})}var ke=U(3670),Ge=U(8239),ze=U(1144),_t=U(6495),tt=U(2206),Xe=U(4532),Te=U(3260);function k(ye,be){return be?function Ve(ye,be){if(null!=ye){if((0,ke.c)(ye))return function _e(ye,be){return(0,_.Xf)(ye).pipe((0,Z.R)(be),(0,E.Q)(be))}(ye,be);if((0,ze.z)(ye))return function ie(ye,be){return new Y.y(Me=>{let Ce=0;return be.schedule(function(){Ce===ye.length?Me.complete():(Me.next(ye[Ce++]),Me.closed||this.schedule())})})}(ye,be);if((0,Ge.t)(ye))return function K(ye,be){return(0,_.Xf)(ye).pipe((0,Z.R)(be),(0,E.Q)(be))}(ye,be);if((0,tt.D)(ye))return me(ye,be);if((0,_t.T)(ye))return function se(ye,be){return new Y.y(Me=>{let Ce;return(0,ee.f)(Me,be,()=>{Ce=ye[he.h](),(0,ee.f)(Me,be,()=>{let Re,pt;try{({value:Re,done:pt}=Ce.next())}catch(bt){return void Me.error(bt)}pt?Me.complete():Me.next(Re)},0,!0)}),()=>(0,pe.m)(Ce?.return)&&Ce.return()})}(ye,be);if((0,Te.L)(ye))return function Ye(ye,be){return me((0,Te.Q)(ye),be)}(ye,be)}throw(0,Xe.z)(ye)}(ye,be):(0,_.Xf)(ye)}},8421:(Gt,qe,U)=>{U.d(qe,{Xf:()=>ke});var _=U(655),E=U(1144),Z=U(8239),_e=U(9751),K=U(3670),Y=U(2206),ie=U(4532),he=U(6495),pe=U(3260),ee=U(576),se=U(7849),me=U(8822);function ke(Ve){if(Ve instanceof _e.y)return Ve;if(null!=Ve){if((0,K.c)(Ve))return function Ge(Ve){return new _e.y(k=>{const ye=Ve[me.L]();if((0,ee.m)(ye.subscribe))return ye.subscribe(k);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,E.z)(Ve))return function ze(Ve){return new _e.y(k=>{for(let ye=0;ye<Ve.length&&!k.closed;ye++)k.next(Ve[ye]);k.complete()})}(Ve);if((0,Z.t)(Ve))return function _t(Ve){return new _e.y(k=>{Ve.then(ye=>{k.closed||(k.next(ye),k.complete())},ye=>k.error(ye)).then(null,se.h)})}(Ve);if((0,Y.D)(Ve))return Xe(Ve);if((0,he.T)(Ve))return function tt(Ve){return new _e.y(k=>{for(const ye of Ve)if(k.next(ye),k.closed)return;k.complete()})}(Ve);if((0,pe.L)(Ve))return function Te(Ve){return Xe((0,pe.Q)(Ve))}(Ve)}throw(0,ie.z)(Ve)}function Xe(Ve){return new _e.y(k=>{(function Ye(Ve,k){var ye,be,Me,Ce;return(0,_.mG)(this,void 0,void 0,function*(){try{for(ye=(0,_.KL)(Ve);!(be=yield ye.next()).done;)if(k.next(be.value),k.closed)return}catch(Re){Me={error:Re}}finally{try{be&&!be.done&&(Ce=ye.return)&&(yield Ce.call(ye))}finally{if(Me)throw Me.error}}k.complete()})})(Ve,k).catch(ye=>k.error(ye))})}},6451:(Gt,qe,U)=>{U.d(qe,{T:()=>Y});var _=U(8189),E=U(8421),Z=U(515),_e=U(3269),K=U(8996);function Y(...ie){const he=(0,_e.yG)(ie),pe=(0,_e._6)(ie,1/0),ee=ie;return ee.length?1===ee.length?(0,E.Xf)(ee[0]):(0,_.J)(pe)((0,K.D)(ee,he)):Z.E}},9646:(Gt,qe,U)=>{U.d(qe,{of:()=>Z});var _=U(3269),E=U(8996);function Z(..._e){const K=(0,_.yG)(_e);return(0,E.D)(_e,K)}},5403:(Gt,qe,U)=>{U.d(qe,{x:()=>E});var _=U(930);function E(_e,K,Y,ie,he){return new Z(_e,K,Y,ie,he)}class Z extends _.Lv{constructor(K,Y,ie,he,pe,ee){super(K),this.onFinalize=pe,this.shouldUnsubscribe=ee,this._next=Y?function(se){try{Y(se)}catch(me){K.error(me)}}:super._next,this._error=he?function(se){try{he(se)}catch(me){K.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(se){K.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Y}=this;super.unsubscribe(),!Y&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},4351:(Gt,qe,U)=>{U.d(qe,{b:()=>Z});var _=U(5577),E=U(576);function Z(_e,K){return(0,E.m)(K)?(0,_.z)(_e,K,1):(0,_.z)(_e,1)}},6590:(Gt,qe,U)=>{U.d(qe,{d:()=>Z});var _=U(4482),E=U(5403);function Z(_e){return(0,_.e)((K,Y)=>{let ie=!1;K.subscribe((0,E.x)(Y,he=>{ie=!0,Y.next(he)},()=>{ie||Y.next(_e),Y.complete()}))})}},1884:(Gt,qe,U)=>{U.d(qe,{x:()=>_e});var _=U(4671),E=U(4482),Z=U(5403);function _e(Y,ie=_.y){return Y=Y??K,(0,E.e)((he,pe)=>{let ee,se=!0;he.subscribe((0,Z.x)(pe,me=>{const ke=ie(me);(se||!Y(ee,ke))&&(se=!1,ee=ke,pe.next(me))}))})}function K(Y,ie){return Y===ie}},9300:(Gt,qe,U)=>{U.d(qe,{h:()=>Z});var _=U(4482),E=U(5403);function Z(_e,K){return(0,_.e)((Y,ie)=>{let he=0;Y.subscribe((0,E.x)(ie,pe=>_e.call(K,pe,he++)&&ie.next(pe)))})}},590:(Gt,qe,U)=>{U.d(qe,{P:()=>ie});var _=U(6805),E=U(9300),Z=U(5698),_e=U(6590),K=U(8068),Y=U(4671);function ie(he,pe){const ee=arguments.length>=2;return se=>se.pipe(he?(0,E.h)((me,ke)=>he(me,ke,se)):Y.y,(0,Z.q)(1),ee?(0,_e.d)(pe):(0,K.T)(()=>new _.K))}},4004:(Gt,qe,U)=>{U.d(qe,{U:()=>Z});var _=U(4482),E=U(5403);function Z(_e,K){return(0,_.e)((Y,ie)=>{let he=0;Y.subscribe((0,E.x)(ie,pe=>{ie.next(_e.call(K,pe,he++))}))})}},8189:(Gt,qe,U)=>{U.d(qe,{J:()=>Z});var _=U(5577),E=U(4671);function Z(_e=1/0){return(0,_.z)(E.y,_e)}},5577:(Gt,qe,U)=>{U.d(qe,{z:()=>he});var _=U(4004),E=U(8421),Z=U(4482),_e=U(9672),K=U(5403),ie=U(576);function he(pe,ee,se=1/0){return(0,ie.m)(ee)?he((me,ke)=>(0,_.U)((Ge,ze)=>ee(me,Ge,ke,ze))((0,E.Xf)(pe(me,ke))),se):("number"==typeof ee&&(se=ee),(0,Z.e)((me,ke)=>function Y(pe,ee,se,me,ke,Ge,ze,_t){const tt=[];let Xe=0,Te=0,Ye=!1;const Ve=()=>{Ye&&!tt.length&&!Xe&&ee.complete()},k=be=>Xe<me?ye(be):tt.push(be),ye=be=>{Ge&&ee.next(be),Xe++;let Me=!1;(0,E.Xf)(se(be,Te++)).subscribe((0,K.x)(ee,Ce=>{ke?.(Ce),Ge?k(Ce):ee.next(Ce)},()=>{Me=!0},void 0,()=>{if(Me)try{for(Xe--;tt.length&&Xe<me;){const Ce=tt.shift();ze?(0,_e.f)(ee,ze,()=>ye(Ce)):ye(Ce)}Ve()}catch(Ce){ee.error(Ce)}}))};return pe.subscribe((0,K.x)(ee,k,()=>{Ye=!0,Ve()})),()=>{_t?.()}}(me,ke,pe,se)))}},5363:(Gt,qe,U)=>{U.d(qe,{Q:()=>_e});var _=U(9672),E=U(4482),Z=U(5403);function _e(K,Y=0){return(0,E.e)((ie,he)=>{ie.subscribe((0,Z.x)(he,pe=>(0,_.f)(he,K,()=>he.next(pe),Y),()=>(0,_.f)(he,K,()=>he.complete(),Y),pe=>(0,_.f)(he,K,()=>he.error(pe),Y)))})}},5026:(Gt,qe,U)=>{U.d(qe,{R:()=>_e});var _=U(4482),E=U(5403);function _e(K,Y){return(0,_.e)(function Z(K,Y,ie,he,pe){return(ee,se)=>{let me=ie,ke=Y,Ge=0;ee.subscribe((0,E.x)(se,ze=>{const _t=Ge++;ke=me?K(ke,ze,_t):(me=!0,ze),he&&se.next(ke)},pe&&(()=>{me&&se.next(ke),se.complete()})))}}(K,Y,arguments.length>=2,!0))}},3099:(Gt,qe,U)=>{U.d(qe,{B:()=>K});var _=U(8421),E=U(7579),Z=U(930),_e=U(4482);function K(ie={}){const{connector:he=(()=>new E.x),resetOnError:pe=!0,resetOnComplete:ee=!0,resetOnRefCountZero:se=!0}=ie;return me=>{let ke,Ge,ze,_t=0,tt=!1,Xe=!1;const Te=()=>{Ge?.unsubscribe(),Ge=void 0},Ye=()=>{Te(),ke=ze=void 0,tt=Xe=!1},Ve=()=>{const k=ke;Ye(),k?.unsubscribe()};return(0,_e.e)((k,ye)=>{_t++,!Xe&&!tt&&Te();const be=ze=ze??he();ye.add(()=>{_t--,0===_t&&!Xe&&!tt&&(Ge=Y(Ve,se))}),be.subscribe(ye),!ke&&_t>0&&(ke=new Z.Hp({next:Me=>be.next(Me),error:Me=>{Xe=!0,Te(),Ge=Y(Ye,pe,Me),be.error(Me)},complete:()=>{tt=!0,Te(),Ge=Y(Ye,ee),be.complete()}}),(0,_.Xf)(k).subscribe(ke))})(me)}}function Y(ie,he,...pe){if(!0===he)return void ie();if(!1===he)return;const ee=new Z.Hp({next:()=>{ee.unsubscribe(),ie()}});return he(...pe).subscribe(ee)}},8675:(Gt,qe,U)=>{U.d(qe,{O:()=>_e});var _=U(7272),E=U(3269),Z=U(4482);function _e(...K){const Y=(0,E.yG)(K);return(0,Z.e)((ie,he)=>{(Y?(0,_.z)(K,ie,Y):(0,_.z)(K,ie)).subscribe(he)})}},9468:(Gt,qe,U)=>{U.d(qe,{R:()=>E});var _=U(4482);function E(Z,_e=0){return(0,_.e)((K,Y)=>{Y.add(Z.schedule(()=>K.subscribe(Y),_e))})}},3900:(Gt,qe,U)=>{U.d(qe,{w:()=>_e});var _=U(8421),E=U(4482),Z=U(5403);function _e(K,Y){return(0,E.e)((ie,he)=>{let pe=null,ee=0,se=!1;const me=()=>se&&!pe&&he.complete();ie.subscribe((0,Z.x)(he,ke=>{pe?.unsubscribe();let Ge=0;const ze=ee++;(0,_.Xf)(K(ke,ze)).subscribe(pe=(0,Z.x)(he,_t=>he.next(Y?Y(ke,_t,ze,Ge++):_t),()=>{pe=null,me()}))},()=>{se=!0,me()}))})}},5698:(Gt,qe,U)=>{U.d(qe,{q:()=>_e});var _=U(515),E=U(4482),Z=U(5403);function _e(K){return K<=0?()=>_.E:(0,E.e)((Y,ie)=>{let he=0;Y.subscribe((0,Z.x)(ie,pe=>{++he<=K&&(ie.next(pe),K<=he&&ie.complete())}))})}},8505:(Gt,qe,U)=>{U.d(qe,{b:()=>K});var _=U(576),E=U(4482),Z=U(5403),_e=U(4671);function K(Y,ie,he){const pe=(0,_.m)(Y)||ie||he?{next:Y,error:ie,complete:he}:Y;return pe?(0,E.e)((ee,se)=>{var me;null===(me=pe.subscribe)||void 0===me||me.call(pe);let ke=!0;ee.subscribe((0,Z.x)(se,Ge=>{var ze;null===(ze=pe.next)||void 0===ze||ze.call(pe,Ge),se.next(Ge)},()=>{var Ge;ke=!1,null===(Ge=pe.complete)||void 0===Ge||Ge.call(pe),se.complete()},Ge=>{var ze;ke=!1,null===(ze=pe.error)||void 0===ze||ze.call(pe,Ge),se.error(Ge)},()=>{var Ge,ze;ke&&(null===(Ge=pe.unsubscribe)||void 0===Ge||Ge.call(pe)),null===(ze=pe.finalize)||void 0===ze||ze.call(pe)}))}):_e.y}},8068:(Gt,qe,U)=>{U.d(qe,{T:()=>_e});var _=U(6805),E=U(4482),Z=U(5403);function _e(Y=K){return(0,E.e)((ie,he)=>{let pe=!1;ie.subscribe((0,Z.x)(he,ee=>{pe=!0,he.next(ee)},()=>pe?he.complete():he.error(Y())))})}function K(){return new _.K}},4408:(Gt,qe,U)=>{U.d(qe,{o:()=>K});var _=U(727);class E extends _.w0{constructor(ie,he){super()}schedule(ie,he=0){return this}}const Z={setInterval(Y,ie,...he){const{delegate:pe}=Z;return pe?.setInterval?pe.setInterval(Y,ie,...he):setInterval(Y,ie,...he)},clearInterval(Y){const{delegate:ie}=Z;return(ie?.clearInterval||clearInterval)(Y)},delegate:void 0};var _e=U(8737);class K extends E{constructor(ie,he){super(ie,he),this.scheduler=ie,this.work=he,this.pending=!1}schedule(ie,he=0){var pe;if(this.closed)return this;this.state=ie;const ee=this.id,se=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(se,ee,he)),this.pending=!0,this.delay=he,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(se,this.id,he),this}requestAsyncId(ie,he,pe=0){return Z.setInterval(ie.flush.bind(ie,this),pe)}recycleAsyncId(ie,he,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return he;null!=he&&Z.clearInterval(he)}execute(ie,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ie,he);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,he){let ee,pe=!1;try{this.work(ie)}catch(se){pe=!0,ee=se||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:ie,scheduler:he}=this,{actions:pe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(pe,this),null!=ie&&(this.id=this.recycleAsyncId(he,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(Gt,qe,U)=>{U.d(qe,{v:()=>Z});var _=U(6063);class E{constructor(K,Y=E.now){this.schedulerActionCtor=K,this.now=Y}schedule(K,Y=0,ie){return new this.schedulerActionCtor(this,K).schedule(ie,Y)}}E.now=_.l.now;class Z extends E{constructor(K,Y=E.now){super(K,Y),this.actions=[],this._active=!1}flush(K){const{actions:Y}=this;if(this._active)return void Y.push(K);let ie;this._active=!0;do{if(ie=K.execute(K.state,K.delay))break}while(K=Y.shift());if(this._active=!1,ie){for(;K=Y.shift();)K.unsubscribe();throw ie}}}},4986:(Gt,qe,U)=>{U.d(qe,{P:()=>_e,z:()=>Z});var _=U(4408);const Z=new(U(7565).v)(_.o),_e=Z},6063:(Gt,qe,U)=>{U.d(qe,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(Gt,qe,U)=>{U.d(qe,{z:()=>_});const _={setTimeout(E,Z,..._e){const{delegate:K}=_;return K?.setTimeout?K.setTimeout(E,Z,..._e):setTimeout(E,Z,..._e)},clearTimeout(E){const{delegate:Z}=_;return(Z?.clearTimeout||clearTimeout)(E)},delegate:void 0}},2202:(Gt,qe,U)=>{U.d(qe,{h:()=>E});const E=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Gt,qe,U)=>{U.d(qe,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Gt,qe,U)=>{U.d(qe,{K:()=>E});const E=(0,U(3888).d)(Z=>function(){Z(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Gt,qe,U)=>{U.d(qe,{_6:()=>Y,jO:()=>_e,yG:()=>K});var _=U(576),E=U(3532);function Z(ie){return ie[ie.length-1]}function _e(ie){return(0,_.m)(Z(ie))?ie.pop():void 0}function K(ie){return(0,E.K)(Z(ie))?ie.pop():void 0}function Y(ie,he){return"number"==typeof Z(ie)?ie.pop():he}},4742:(Gt,qe,U)=>{U.d(qe,{D:()=>K});const{isArray:_}=Array,{getPrototypeOf:E,prototype:Z,keys:_e}=Object;function K(ie){if(1===ie.length){const he=ie[0];if(_(he))return{args:he,keys:null};if(function Y(ie){return ie&&"object"==typeof ie&&E(ie)===Z}(he)){const pe=_e(he);return{args:pe.map(ee=>he[ee]),keys:pe}}}return{args:ie,keys:null}}},8737:(Gt,qe,U)=>{function _(E,Z){if(E){const _e=E.indexOf(Z);0<=_e&&E.splice(_e,1)}}U.d(qe,{P:()=>_})},3888:(Gt,qe,U)=>{function _(E){const _e=E(K=>{Error.call(K),K.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}U.d(qe,{d:()=>_})},1810:(Gt,qe,U)=>{function _(E,Z){return E.reduce((_e,K,Y)=>(_e[K]=Z[Y],_e),{})}U.d(qe,{n:()=>_})},2806:(Gt,qe,U)=>{U.d(qe,{O:()=>_e,x:()=>Z});var _=U(2416);let E=null;function Z(K){if(_.v.useDeprecatedSynchronousErrorHandling){const Y=!E;if(Y&&(E={errorThrown:!1,error:null}),K(),Y){const{errorThrown:ie,error:he}=E;if(E=null,ie)throw he}}else K()}function _e(K){_.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=K)}},9672:(Gt,qe,U)=>{function _(E,Z,_e,K=0,Y=!1){const ie=Z.schedule(function(){_e(),Y?E.add(this.schedule(null,K)):this.unsubscribe()},K);if(E.add(ie),!Y)return ie}U.d(qe,{f:()=>_})},4671:(Gt,qe,U)=>{function _(E){return E}U.d(qe,{y:()=>_})},1144:(Gt,qe,U)=>{U.d(qe,{z:()=>_});const _=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(Gt,qe,U)=>{U.d(qe,{D:()=>E});var _=U(576);function E(Z){return Symbol.asyncIterator&&(0,_.m)(Z?.[Symbol.asyncIterator])}},576:(Gt,qe,U)=>{function _(E){return"function"==typeof E}U.d(qe,{m:()=>_})},3670:(Gt,qe,U)=>{U.d(qe,{c:()=>Z});var _=U(8822),E=U(576);function Z(_e){return(0,E.m)(_e[_.L])}},6495:(Gt,qe,U)=>{U.d(qe,{T:()=>Z});var _=U(2202),E=U(576);function Z(_e){return(0,E.m)(_e?.[_.h])}},8239:(Gt,qe,U)=>{U.d(qe,{t:()=>E});var _=U(576);function E(Z){return(0,_.m)(Z?.then)}},3260:(Gt,qe,U)=>{U.d(qe,{L:()=>_e,Q:()=>Z});var _=U(655),E=U(576);function Z(K){return(0,_.FC)(this,arguments,function*(){const ie=K.getReader();try{for(;;){const{value:he,done:pe}=yield(0,_.qq)(ie.read());if(pe)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(he)}}finally{ie.releaseLock()}})}function _e(K){return(0,E.m)(K?.getReader)}},3532:(Gt,qe,U)=>{U.d(qe,{K:()=>E});var _=U(576);function E(Z){return Z&&(0,_.m)(Z.schedule)}},4482:(Gt,qe,U)=>{U.d(qe,{A:()=>E,e:()=>Z});var _=U(576);function E(_e){return(0,_.m)(_e?.lift)}function Z(_e){return K=>{if(E(K))return K.lift(function(Y){try{return _e(Y,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Gt,qe,U)=>{U.d(qe,{Z:()=>_e});var _=U(4004);const{isArray:E}=Array;function _e(K){return(0,_.U)(Y=>function Z(K,Y){return E(Y)?K(...Y):K(Y)}(K,Y))}},5032:(Gt,qe,U)=>{function _(){}U.d(qe,{Z:()=>_})},9635:(Gt,qe,U)=>{U.d(qe,{U:()=>Z,z:()=>E});var _=U(4671);function E(..._e){return Z(_e)}function Z(_e){return 0===_e.length?_.y:1===_e.length?_e[0]:function(Y){return _e.reduce((ie,he)=>he(ie),Y)}}},7849:(Gt,qe,U)=>{U.d(qe,{h:()=>Z});var _=U(2416),E=U(3410);function Z(_e){E.z.setTimeout(()=>{const{onUnhandledError:K}=_.v;if(!K)throw _e;K(_e)})}},4532:(Gt,qe,U)=>{function _(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(qe,{z:()=>_})},655:(Gt,qe,U)=>{function _e(rt,vt){var ot={};for(var ut in rt)Object.prototype.hasOwnProperty.call(rt,ut)&&vt.indexOf(ut)<0&&(ot[ut]=rt[ut]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for(ut=Object.getOwnPropertySymbols(rt);wt<ut.length;wt++)vt.indexOf(ut[wt])<0&&Object.prototype.propertyIsEnumerable.call(rt,ut[wt])&&(ot[ut[wt]]=rt[ut[wt]])}return ot}function me(rt,vt,ot,ut){return new(ot||(ot=Promise))(function(yt,Ot){function Rt(Tn){try{Ft(ut.next(Tn))}catch(_n){Ot(_n)}}function Zt(Tn){try{Ft(ut.throw(Tn))}catch(_n){Ot(_n)}}function Ft(Tn){Tn.done?yt(Tn.value):function wt(yt){return yt instanceof ot?yt:new ot(function(Ot){Ot(yt)})}(Tn.value).then(Rt,Zt)}Ft((ut=ut.apply(rt,vt||[])).next())})}function Ve(rt){return this instanceof Ve?(this.v=rt,this):new Ve(rt)}function k(rt,vt,ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,ut=ot.apply(rt,vt||[]),yt=[];return wt={},Ot("next"),Ot("throw"),Ot("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function Ot(Un){ut[Un]&&(wt[Un]=function(xn){return new Promise(function(ir,Yn){yt.push([Un,xn,ir,Yn])>1||Rt(Un,xn)})})}function Rt(Un,xn){try{!function Zt(Un){Un.value instanceof Ve?Promise.resolve(Un.value.v).then(Ft,Tn):_n(yt[0][2],Un)}(ut[Un](xn))}catch(ir){_n(yt[0][3],ir)}}function Ft(Un){Rt("next",Un)}function Tn(Un){Rt("throw",Un)}function _n(Un,xn){Un(xn),yt.shift(),yt.length&&Rt(yt[0][0],yt[0][1])}}function be(rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,vt=rt[Symbol.asyncIterator];return vt?vt.call(rt):(rt=function _t(rt){var vt="function"==typeof Symbol&&Symbol.iterator,ot=vt&&rt[vt],ut=0;if(ot)return ot.call(rt);if(rt&&"number"==typeof rt.length)return{next:function(){return rt&&ut>=rt.length&&(rt=void 0),{value:rt&&rt[ut++],done:!rt}}};throw new TypeError(vt?"Object is not iterable.":"Symbol.iterator is not defined.")}(rt),ot={},ut("next"),ut("throw"),ut("return"),ot[Symbol.asyncIterator]=function(){return this},ot);function ut(yt){ot[yt]=rt[yt]&&function(Ot){return new Promise(function(Rt,Zt){!function wt(yt,Ot,Rt,Zt){Promise.resolve(Zt).then(function(Ft){yt({value:Ft,done:Rt})},Ot)}(Rt,Zt,(Ot=rt[yt](Ot)).done,Ot.value)})}}}U.d(qe,{FC:()=>k,KL:()=>be,_T:()=>_e,mG:()=>me,qq:()=>Ve})},7340:(Gt,qe,U)=>{U.d(qe,{IO:()=>ze,LC:()=>E,SB:()=>pe,X$:()=>_e,ZE:()=>Te,ZN:()=>Xe,_7:()=>Ge,_j:()=>_,eR:()=>se,jt:()=>K,k1:()=>Ye,l3:()=>Z,oB:()=>he,oQ:()=>me,pV:()=>ke,vP:()=>ie});class _{}class E{}const Z="*";function _e(Ve,k){return{type:7,name:Ve,definitions:k,options:{}}}function K(Ve,k=null){return{type:4,styles:k,timings:Ve}}function ie(Ve,k=null){return{type:2,steps:Ve,options:k}}function he(Ve){return{type:6,styles:Ve,offset:null}}function pe(Ve,k,ye){return{type:0,name:Ve,styles:k,options:ye}}function se(Ve,k,ye=null){return{type:1,expr:Ve,animation:k,options:ye}}function me(Ve,k=null){return{type:8,animation:Ve,options:k}}function ke(Ve=null){return{type:9,options:Ve}}function Ge(Ve,k=null){return{type:10,animation:Ve,options:k}}function ze(Ve,k,ye=null){return{type:11,selector:Ve,animation:k,options:ye}}function tt(Ve){Promise.resolve().then(Ve)}class Xe{constructor(k=0,ye=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=k+ye}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(k=>k()),this._onDoneFns=[])}onStart(k){this._originalOnStartFns.push(k),this._onStartFns.push(k)}onDone(k){this._originalOnDoneFns.push(k),this._onDoneFns.push(k)}onDestroy(k){this._onDestroyFns.push(k)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(k=>k()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(k=>k()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(k){this._position=this.totalTime?k*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(k){const ye="start"==k?this._onStartFns:this._onDoneFns;ye.forEach(be=>be()),ye.length=0}}class Te{constructor(k){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=k;let ye=0,be=0,Me=0;const Ce=this.players.length;0==Ce?tt(()=>this._onFinish()):this.players.forEach(Re=>{Re.onDone(()=>{++ye==Ce&&this._onFinish()}),Re.onDestroy(()=>{++be==Ce&&this._onDestroy()}),Re.onStart(()=>{++Me==Ce&&this._onStart()})}),this.totalTime=this.players.reduce((Re,pt)=>Math.max(Re,pt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(k=>k()),this._onDoneFns=[])}init(){this.players.forEach(k=>k.init())}onStart(k){this._onStartFns.push(k)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(k=>k()),this._onStartFns=[])}onDone(k){this._onDoneFns.push(k)}onDestroy(k){this._onDestroyFns.push(k)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(k=>k.play())}pause(){this.players.forEach(k=>k.pause())}restart(){this.players.forEach(k=>k.restart())}finish(){this._onFinish(),this.players.forEach(k=>k.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(k=>k.destroy()),this._onDestroyFns.forEach(k=>k()),this._onDestroyFns=[])}reset(){this.players.forEach(k=>k.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(k){const ye=k*this.totalTime;this.players.forEach(be=>{const Me=be.totalTime?Math.min(1,ye/be.totalTime):1;be.setPosition(Me)})}getPosition(){const k=this.players.reduce((ye,be)=>null===ye||be.totalTime>ye.totalTime?be:ye,null);return null!=k?k.getPosition():0}beforeDestroy(){this.players.forEach(k=>{k.beforeDestroy&&k.beforeDestroy()})}triggerCallback(k){const ye="start"==k?this._onStartFns:this._onDoneFns;ye.forEach(be=>be()),ye.length=0}}const Ye="!"},6895:(Gt,qe,U)=>{U.d(qe,{Do:()=>Te,EM:()=>Us,H9:()=>ss,HT:()=>_e,JF:()=>Ea,K0:()=>Y,Mx:()=>Ts,NF:()=>as,O5:()=>fi,OU:()=>os,PC:()=>Fs,PM:()=>ta,RF:()=>Qi,S$:()=>_t,V_:()=>pe,Ye:()=>Ye,b0:()=>Xe,bD:()=>ka,ez:()=>Oa,mk:()=>An,n9:()=>jr,q:()=>Z,qS:()=>ei,sg:()=>Ri,tP:()=>Vi,uU:()=>Xr,w_:()=>K});var _=U(4650);let E=null;function Z(){return E}function _e(N){E||(E=N)}class K{}const Y=new _.OlP("DocumentToken");let ie=(()=>{class N{historyGo(j){throw new Error("Not implemented")}}return N.\u0275fac=function(j){return new(j||N)},N.\u0275prov=_.Yz7({token:N,factory:function(){return function he(){return(0,_.LFG)(ee)}()},providedIn:"platform"}),N})();const pe=new _.OlP("Location Initialized");let ee=(()=>{class N extends ie{constructor(j){super(),this._doc=j,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(j){const le=Z().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",j,!1),()=>le.removeEventListener("popstate",j)}onHashChange(j){const le=Z().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",j,!1),()=>le.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,le,Ie){se()?this._history.pushState(j,le,Ie):this._location.hash=Ie}replaceState(j,le,Ie){se()?this._history.replaceState(j,le,Ie):this._location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return N.\u0275fac=function(j){return new(j||N)(_.LFG(Y))},N.\u0275prov=_.Yz7({token:N,factory:function(){return function me(){return new ee((0,_.LFG)(Y))}()},providedIn:"platform"}),N})();function se(){return!!window.history.pushState}function ke(N,Q){if(0==N.length)return Q;if(0==Q.length)return N;let j=0;return N.endsWith("/")&&j++,Q.startsWith("/")&&j++,2==j?N+Q.substring(1):1==j?N+Q:N+"/"+Q}function Ge(N){const Q=N.match(/#|\?|$/),j=Q&&Q.index||N.length;return N.slice(0,j-("/"===N[j-1]?1:0))+N.slice(j)}function ze(N){return N&&"?"!==N[0]?"?"+N:N}let _t=(()=>{class N{historyGo(j){throw new Error("Not implemented")}}return N.\u0275fac=function(j){return new(j||N)},N.\u0275prov=_.Yz7({token:N,factory:function(){return(0,_.f3M)(Xe)},providedIn:"root"}),N})();const tt=new _.OlP("appBaseHref");let Xe=(()=>{class N extends _t{constructor(j,le){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=le??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(Y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ke(this._baseHref,j)}path(j=!1){const le=this._platformLocation.pathname+ze(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&j?`${le}${Ie}`:le}pushState(j,le,Ie,mt){const xt=this.prepareExternalUrl(Ie+ze(mt));this._platformLocation.pushState(j,le,xt)}replaceState(j,le,Ie,mt){const xt=this.prepareExternalUrl(Ie+ze(mt));this._platformLocation.replaceState(j,le,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return N.\u0275fac=function(j){return new(j||N)(_.LFG(ie),_.LFG(tt,8))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Te=(()=>{class N extends _t{constructor(j,le){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(j){const le=ke(this._baseHref,j);return le.length>0?"#"+le:le}pushState(j,le,Ie,mt){let xt=this.prepareExternalUrl(Ie+ze(mt));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.pushState(j,le,xt)}replaceState(j,le,Ie,mt){let xt=this.prepareExternalUrl(Ie+ze(mt));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.replaceState(j,le,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return N.\u0275fac=function(j){return new(j||N)(_.LFG(ie),_.LFG(tt,8))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})(),Ye=(()=>{class N{constructor(j){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const le=this._locationStrategy.getBaseHref();this._basePath=function be(N){if(new RegExp("^(https?:)?//").test(N)){const[,j]=N.split(/\/\/[^\/]+/);return j}return N}(Ge(ye(le))),this._locationStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,le=""){return this.path()==this.normalize(j+ze(le))}normalize(j){return N.stripTrailingSlash(function k(N,Q){if(!N||!Q.startsWith(N))return Q;const j=Q.substring(N.length);return""===j||["/",";","?","#"].includes(j[0])?j:Q}(this._basePath,ye(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,le="",Ie=null){this._locationStrategy.pushState(Ie,"",j,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ze(le)),Ie)}replaceState(j,le="",Ie=null){this._locationStrategy.replaceState(Ie,"",j,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+ze(le)),Ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)})),()=>{const le=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(le,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",le){this._urlChangeListeners.forEach(Ie=>Ie(j,le))}subscribe(j,le,Ie){return this._subject.subscribe({next:j,error:le,complete:Ie})}}return N.normalizeQueryParams=ze,N.joinWithSlash=ke,N.stripTrailingSlash=Ge,N.\u0275fac=function(j){return new(j||N)(_.LFG(_t))},N.\u0275prov=_.Yz7({token:N,factory:function(){return function Ve(){return new Ye((0,_.LFG)(_t))}()},providedIn:"root"}),N})();function ye(N){return N.replace(/\/index.html$/,"")}const Me={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ce=(()=>((Ce=Ce||{})[Ce.Decimal=0]="Decimal",Ce[Ce.Percent=1]="Percent",Ce[Ce.Currency=2]="Currency",Ce[Ce.Scientific=3]="Scientific",Ce))(),pt=(()=>((pt=pt||{})[pt.Format=0]="Format",pt[pt.Standalone=1]="Standalone",pt))(),bt=(()=>((bt=bt||{})[bt.Narrow=0]="Narrow",bt[bt.Abbreviated=1]="Abbreviated",bt[bt.Wide=2]="Wide",bt[bt.Short=3]="Short",bt))(),Bt=(()=>((Bt=Bt||{})[Bt.Short=0]="Short",Bt[Bt.Medium=1]="Medium",Bt[Bt.Long=2]="Long",Bt[Bt.Full=3]="Full",Bt))(),Ht=(()=>((Ht=Ht||{})[Ht.Decimal=0]="Decimal",Ht[Ht.Group=1]="Group",Ht[Ht.List=2]="List",Ht[Ht.PercentSign=3]="PercentSign",Ht[Ht.PlusSign=4]="PlusSign",Ht[Ht.MinusSign=5]="MinusSign",Ht[Ht.Exponential=6]="Exponential",Ht[Ht.SuperscriptingExponent=7]="SuperscriptingExponent",Ht[Ht.PerMille=8]="PerMille",Ht[Ht.Infinity=9]="Infinity",Ht[Ht.NaN=10]="NaN",Ht[Ht.TimeSeparator=11]="TimeSeparator",Ht[Ht.CurrencyDecimal=12]="CurrencyDecimal",Ht[Ht.CurrencyGroup=13]="CurrencyGroup",Ht))();function Zt(N,Q){return Nn((0,_.cg1)(N)[_.wAp.DateFormat],Q)}function Ft(N,Q){return Nn((0,_.cg1)(N)[_.wAp.TimeFormat],Q)}function Tn(N,Q){return Nn((0,_.cg1)(N)[_.wAp.DateTimeFormat],Q)}function _n(N,Q){const j=(0,_.cg1)(N),le=j[_.wAp.NumberSymbols][Q];if(typeof le>"u"){if(Q===Ht.CurrencyDecimal)return j[_.wAp.NumberSymbols][Ht.Decimal];if(Q===Ht.CurrencyGroup)return j[_.wAp.NumberSymbols][Ht.Group]}return le}function gn(N){if(!N[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${N[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nn(N,Q){for(let j=Q;j>-1;j--)if(typeof N[j]<"u")return N[j];throw new Error("Locale data API: locale data undefined")}function qt(N){const[Q,j]=N.split(":");return{hours:+Q,minutes:+j}}const li=2,qi=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wi={},Sn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zn=(()=>((zn=zn||{})[zn.Short=0]="Short",zn[zn.ShortGMT=1]="ShortGMT",zn[zn.Long=2]="Long",zn[zn.Extended=3]="Extended",zn))(),ln=(()=>((ln=ln||{})[ln.FullYear=0]="FullYear",ln[ln.Month=1]="Month",ln[ln.Date=2]="Date",ln[ln.Hours=3]="Hours",ln[ln.Minutes=4]="Minutes",ln[ln.Seconds=5]="Seconds",ln[ln.FractionalSeconds=6]="FractionalSeconds",ln[ln.Day=7]="Day",ln))(),Yt=(()=>((Yt=Yt||{})[Yt.DayPeriods=0]="DayPeriods",Yt[Yt.Days=1]="Days",Yt[Yt.Months=2]="Months",Yt[Yt.Eras=3]="Eras",Yt))();function Yr(N,Q,j,le){let Ie=function Je(N){if(Le(N))return N;if("number"==typeof N&&!isNaN(N))return new Date(N);if("string"==typeof N){if(N=N.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(N)){const[Ie,mt=1,xt=1]=N.split("-").map(yn=>+yn);return Vr(Ie,mt-1,xt)}const j=parseFloat(N);if(!isNaN(N-j))return new Date(j);let le;if(le=N.match(qi))return function Vt(N){const Q=new Date(0);let j=0,le=0;const Ie=N[8]?Q.setUTCFullYear:Q.setFullYear,mt=N[8]?Q.setUTCHours:Q.setHours;N[9]&&(j=Number(N[9]+N[10]),le=Number(N[9]+N[11])),Ie.call(Q,Number(N[1]),Number(N[2])-1,Number(N[3]));const xt=Number(N[4]||0)-j,yn=Number(N[5]||0)-le,$r=Number(N[6]||0),Ct=Math.floor(1e3*parseFloat("0."+(N[7]||0)));return mt.call(Q,xt,yn,$r,Ct),Q}(le)}const Q=new Date(N);if(!Le(Q))throw new Error(`Unable to convert "${N}" into a date`);return Q}(N);Q=Ar(j,Q)||Q;let yn,xt=[];for(;Q;){if(yn=Sn.exec(Q),!yn){xt.push(Q);break}{xt=xt.concat(yn.slice(1));const Ln=xt.pop();if(!Ln)break;Q=Ln}}let $r=Ie.getTimezoneOffset();le&&($r=Ee(le,$r),Ie=function at(N,Q,j){const le=j?-1:1,Ie=N.getTimezoneOffset();return function Oe(N,Q){return(N=new Date(N.getTime())).setMinutes(N.getMinutes()+Q),N}(N,le*(Ee(Q,Ie)-Ie))}(Ie,le,!0));let Ct="";return xt.forEach(Ln=>{const Wn=function ve(N){if(Et[N])return Et[N];let Q;switch(N){case"G":case"GG":case"GGG":Q=Bn(Yt.Eras,bt.Abbreviated);break;case"GGGG":Q=Bn(Yt.Eras,bt.Wide);break;case"GGGGG":Q=Bn(Yt.Eras,bt.Narrow);break;case"y":Q=ur(ln.FullYear,1,0,!1,!0);break;case"yy":Q=ur(ln.FullYear,2,0,!0,!0);break;case"yyy":Q=ur(ln.FullYear,3,0,!1,!0);break;case"yyyy":Q=ur(ln.FullYear,4,0,!1,!0);break;case"Y":Q=St(1);break;case"YY":Q=St(2,!0);break;case"YYY":Q=St(3);break;case"YYYY":Q=St(4);break;case"M":case"L":Q=ur(ln.Month,1,1);break;case"MM":case"LL":Q=ur(ln.Month,2,1);break;case"MMM":Q=Bn(Yt.Months,bt.Abbreviated);break;case"MMMM":Q=Bn(Yt.Months,bt.Wide);break;case"MMMMM":Q=Bn(Yt.Months,bt.Narrow);break;case"LLL":Q=Bn(Yt.Months,bt.Abbreviated,pt.Standalone);break;case"LLLL":Q=Bn(Yt.Months,bt.Wide,pt.Standalone);break;case"LLLLL":Q=Bn(Yt.Months,bt.Narrow,pt.Standalone);break;case"w":Q=Pe(1);break;case"ww":Q=Pe(2);break;case"W":Q=Pe(1,!0);break;case"d":Q=ur(ln.Date,1);break;case"dd":Q=ur(ln.Date,2);break;case"c":case"cc":Q=ur(ln.Day,1);break;case"ccc":Q=Bn(Yt.Days,bt.Abbreviated,pt.Standalone);break;case"cccc":Q=Bn(Yt.Days,bt.Wide,pt.Standalone);break;case"ccccc":Q=Bn(Yt.Days,bt.Narrow,pt.Standalone);break;case"cccccc":Q=Bn(Yt.Days,bt.Short,pt.Standalone);break;case"E":case"EE":case"EEE":Q=Bn(Yt.Days,bt.Abbreviated);break;case"EEEE":Q=Bn(Yt.Days,bt.Wide);break;case"EEEEE":Q=Bn(Yt.Days,bt.Narrow);break;case"EEEEEE":Q=Bn(Yt.Days,bt.Short);break;case"a":case"aa":case"aaa":Q=Bn(Yt.DayPeriods,bt.Abbreviated);break;case"aaaa":Q=Bn(Yt.DayPeriods,bt.Wide);break;case"aaaaa":Q=Bn(Yt.DayPeriods,bt.Narrow);break;case"b":case"bb":case"bbb":Q=Bn(Yt.DayPeriods,bt.Abbreviated,pt.Standalone,!0);break;case"bbbb":Q=Bn(Yt.DayPeriods,bt.Wide,pt.Standalone,!0);break;case"bbbbb":Q=Bn(Yt.DayPeriods,bt.Narrow,pt.Standalone,!0);break;case"B":case"BB":case"BBB":Q=Bn(Yt.DayPeriods,bt.Abbreviated,pt.Format,!0);break;case"BBBB":Q=Bn(Yt.DayPeriods,bt.Wide,pt.Format,!0);break;case"BBBBB":Q=Bn(Yt.DayPeriods,bt.Narrow,pt.Format,!0);break;case"h":Q=ur(ln.Hours,1,-12);break;case"hh":Q=ur(ln.Hours,2,-12);break;case"H":Q=ur(ln.Hours,1);break;case"HH":Q=ur(ln.Hours,2);break;case"m":Q=ur(ln.Minutes,1);break;case"mm":Q=ur(ln.Minutes,2);break;case"s":Q=ur(ln.Seconds,1);break;case"ss":Q=ur(ln.Seconds,2);break;case"S":Q=ur(ln.FractionalSeconds,1);break;case"SS":Q=ur(ln.FractionalSeconds,2);break;case"SSS":Q=ur(ln.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=$n(zn.Short);break;case"ZZZZZ":Q=$n(zn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=$n(zn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=$n(zn.Long);break;default:return null}return Et[N]=Q,Q}(Ln);Ct+=Wn?Wn(Ie,j,$r):"''"===Ln?"'":Ln.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ct}function Vr(N,Q,j){const le=new Date(0);return le.setFullYear(N,Q,j),le.setHours(0,0,0),le}function Ar(N,Q){const j=function vt(N){return(0,_.cg1)(N)[_.wAp.LocaleId]}(N);if(wi[j]=wi[j]||{},wi[j][Q])return wi[j][Q];let le="";switch(Q){case"shortDate":le=Zt(N,Bt.Short);break;case"mediumDate":le=Zt(N,Bt.Medium);break;case"longDate":le=Zt(N,Bt.Long);break;case"fullDate":le=Zt(N,Bt.Full);break;case"shortTime":le=Ft(N,Bt.Short);break;case"mediumTime":le=Ft(N,Bt.Medium);break;case"longTime":le=Ft(N,Bt.Long);break;case"fullTime":le=Ft(N,Bt.Full);break;case"short":const Ie=Ar(N,"shortTime"),mt=Ar(N,"shortDate");le=Br(Tn(N,Bt.Short),[Ie,mt]);break;case"medium":const xt=Ar(N,"mediumTime"),yn=Ar(N,"mediumDate");le=Br(Tn(N,Bt.Medium),[xt,yn]);break;case"long":const $r=Ar(N,"longTime"),Ct=Ar(N,"longDate");le=Br(Tn(N,Bt.Long),[$r,Ct]);break;case"full":const Ln=Ar(N,"fullTime"),Wn=Ar(N,"fullDate");le=Br(Tn(N,Bt.Full),[Ln,Wn])}return le&&(wi[j][Q]=le),le}function Br(N,Q){return Q&&(N=N.replace(/\{([^}]+)}/g,function(j,le){return null!=Q&&le in Q?Q[le]:j})),N}function ui(N,Q,j="-",le,Ie){let mt="";(N<0||Ie&&N<=0)&&(Ie?N=1-N:(N=-N,mt=j));let xt=String(N);for(;xt.length<Q;)xt="0"+xt;return le&&(xt=xt.slice(xt.length-Q)),mt+xt}function ur(N,Q,j=0,le=!1,Ie=!1){return function(mt,xt){let yn=function ci(N,Q){switch(N){case ln.FullYear:return Q.getFullYear();case ln.Month:return Q.getMonth();case ln.Date:return Q.getDate();case ln.Hours:return Q.getHours();case ln.Minutes:return Q.getMinutes();case ln.Seconds:return Q.getSeconds();case ln.FractionalSeconds:return Q.getMilliseconds();case ln.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${N}".`)}}(N,mt);if((j>0||yn>-j)&&(yn+=j),N===ln.Hours)0===yn&&-12===j&&(yn=12);else if(N===ln.FractionalSeconds)return function Cs(N,Q){return ui(N,3).substring(0,Q)}(yn,Q);const $r=_n(xt,Ht.MinusSign);return ui(yn,Q,$r,le,Ie)}}function Bn(N,Q,j=pt.Format,le=!1){return function(Ie,mt){return function On(N,Q,j,le,Ie,mt){switch(j){case Yt.Months:return function wt(N,Q,j){const le=(0,_.cg1)(N),mt=Nn([le[_.wAp.MonthsFormat],le[_.wAp.MonthsStandalone]],Q);return Nn(mt,j)}(Q,Ie,le)[N.getMonth()];case Yt.Days:return function ut(N,Q,j){const le=(0,_.cg1)(N),mt=Nn([le[_.wAp.DaysFormat],le[_.wAp.DaysStandalone]],Q);return Nn(mt,j)}(Q,Ie,le)[N.getDay()];case Yt.DayPeriods:const xt=N.getHours(),yn=N.getMinutes();if(mt){const Ct=function qn(N){const Q=(0,_.cg1)(N);return gn(Q),(Q[_.wAp.ExtraData][2]||[]).map(le=>"string"==typeof le?qt(le):[qt(le[0]),qt(le[1])])}(Q),Ln=function zr(N,Q,j){const le=(0,_.cg1)(N);gn(le);const mt=Nn([le[_.wAp.ExtraData][0],le[_.wAp.ExtraData][1]],Q)||[];return Nn(mt,j)||[]}(Q,Ie,le),Wn=Ct.findIndex(Oi=>{if(Array.isArray(Oi)){const[zt,sn]=Oi,Ia=xt>=zt.hours&&yn>=zt.minutes,Wt=xt<sn.hours||xt===sn.hours&&yn<sn.minutes;if(zt.hours<sn.hours){if(Ia&&Wt)return!0}else if(Ia||Wt)return!0}else if(Oi.hours===xt&&Oi.minutes===yn)return!0;return!1});if(-1!==Wn)return Ln[Wn]}return function ot(N,Q,j){const le=(0,_.cg1)(N),mt=Nn([le[_.wAp.DayPeriodsFormat],le[_.wAp.DayPeriodsStandalone]],Q);return Nn(mt,j)}(Q,Ie,le)[xt<12?0:1];case Yt.Eras:return function yt(N,Q){return Nn((0,_.cg1)(N)[_.wAp.Eras],Q)}(Q,le)[N.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Ie,mt,N,Q,j,le)}}function $n(N){return function(Q,j,le){const Ie=-1*le,mt=_n(j,Ht.MinusSign),xt=Ie>0?Math.floor(Ie/60):Math.ceil(Ie/60);switch(N){case zn.Short:return(Ie>=0?"+":"")+ui(xt,2,mt)+ui(Math.abs(Ie%60),2,mt);case zn.ShortGMT:return"GMT"+(Ie>=0?"+":"")+ui(xt,1,mt);case zn.Long:return"GMT"+(Ie>=0?"+":"")+ui(xt,2,mt)+":"+ui(Math.abs(Ie%60),2,mt);case zn.Extended:return 0===le?"Z":(Ie>=0?"+":"")+ui(xt,2,mt)+":"+ui(Math.abs(Ie%60),2,mt);default:throw new Error(`Unknown zone width "${N}"`)}}}const nn=0,Tt=4;function Se(N){return Vr(N.getFullYear(),N.getMonth(),N.getDate()+(Tt-N.getDay()))}function Pe(N,Q=!1){return function(j,le){let Ie;if(Q){const mt=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,xt=j.getDate();Ie=1+Math.floor((xt+mt)/7)}else{const mt=Se(j),xt=function We(N){const Q=Vr(N,nn,1).getDay();return Vr(N,0,1+(Q<=Tt?Tt:Tt+7)-Q)}(mt.getFullYear()),yn=mt.getTime()-xt.getTime();Ie=1+Math.round(yn/6048e5)}return ui(Ie,N,_n(le,Ht.MinusSign))}}function St(N,Q=!1){return function(j,le){return ui(Se(j).getFullYear(),N,_n(le,Ht.MinusSign),Q)}}const Et={};function Ee(N,Q){N=N.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+N)/6e4;return isNaN(j)?Q:j}function Le(N){return N instanceof Date&&!isNaN(N.valueOf())}const Ne=/^(\d+)?\.((\d+)(-(\d+))?)?$/,fe=22,He=".",gt="0",Lt=";",fn=",",hn="#",Kn="\xa4";function bs(N,Q,j,le,Ie){const xt=function Fi(N,Q="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},le=N.split(Lt),Ie=le[0],mt=le[1],xt=-1!==Ie.indexOf(He)?Ie.split(He):[Ie.substring(0,Ie.lastIndexOf(gt)+1),Ie.substring(Ie.lastIndexOf(gt)+1)],yn=xt[0],$r=xt[1]||"";j.posPre=yn.substring(0,yn.indexOf(hn));for(let Ln=0;Ln<$r.length;Ln++){const Wn=$r.charAt(Ln);Wn===gt?j.minFrac=j.maxFrac=Ln+1:Wn===hn?j.maxFrac=Ln+1:j.posSuf+=Wn}const Ct=yn.split(fn);if(j.gSize=Ct[1]?Ct[1].length:0,j.lgSize=Ct[2]||Ct[1]?(Ct[2]||Ct[1]).length:0,mt){const Ln=Ie.length-j.posPre.length-j.posSuf.length,Wn=mt.indexOf(hn);j.negPre=mt.substring(0,Wn).replace(/'/g,""),j.negSuf=mt.slice(Wn+Ln).replace(/'/g,"")}else j.negPre=Q+j.posPre,j.negSuf=j.posSuf;return j}(function Un(N,Q){return(0,_.cg1)(N)[_.wAp.NumberFormats][Q]}(Q,Ce.Currency),_n(Q,Ht.MinusSign));return xt.minFrac=function Or(N){let Q;const j=Me[N];return j&&(Q=j[2]),"number"==typeof Q?Q:li}(le),xt.maxFrac=xt.minFrac,function Li(N,Q,j,le,Ie,mt,xt=!1){let yn="",$r=!1;if(isFinite(N)){let Ct=function Xn(N){let le,Ie,mt,xt,yn,Q=Math.abs(N)+"",j=0;for((Ie=Q.indexOf(He))>-1&&(Q=Q.replace(He,"")),(mt=Q.search(/e/i))>0?(Ie<0&&(Ie=mt),Ie+=+Q.slice(mt+1),Q=Q.substring(0,mt)):Ie<0&&(Ie=Q.length),mt=0;Q.charAt(mt)===gt;mt++);if(mt===(yn=Q.length))le=[0],Ie=1;else{for(yn--;Q.charAt(yn)===gt;)yn--;for(Ie-=mt,le=[],xt=0;mt<=yn;mt++,xt++)le[xt]=Number(Q.charAt(mt))}return Ie>fe&&(le=le.splice(0,fe-1),j=Ie-1,Ie=1),{digits:le,exponent:j,integerLen:Ie}}(N);xt&&(Ct=function gs(N){if(0===N.digits[0])return N;const Q=N.digits.length-N.integerLen;return N.exponent?N.exponent+=2:(0===Q?N.digits.push(0,0):1===Q&&N.digits.push(0),N.integerLen+=2),N}(Ct));let Ln=Q.minInt,Wn=Q.minFrac,Oi=Q.maxFrac;if(mt){const Mt=mt.match(Ne);if(null===Mt)throw new Error(`${mt} is not a valid digit info`);const ii=Mt[1],mo=Mt[3],Ta=Mt[5];null!=ii&&(Ln=Si(ii)),null!=mo&&(Wn=Si(mo)),null!=Ta?Oi=Si(Ta):null!=mo&&Wn>Oi&&(Oi=Wn)}!function kr(N,Q,j){if(Q>j)throw new Error(`The minimum number of digits after fraction (${Q}) is higher than the maximum (${j}).`);let le=N.digits,Ie=le.length-N.integerLen;const mt=Math.min(Math.max(Q,Ie),j);let xt=mt+N.integerLen,yn=le[xt];if(xt>0){le.splice(Math.max(N.integerLen,xt));for(let Wn=xt;Wn<le.length;Wn++)le[Wn]=0}else{Ie=Math.max(0,Ie),N.integerLen=1,le.length=Math.max(1,xt=mt+1),le[0]=0;for(let Wn=1;Wn<xt;Wn++)le[Wn]=0}if(yn>=5)if(xt-1<0){for(let Wn=0;Wn>xt;Wn--)le.unshift(0),N.integerLen++;le.unshift(1),N.integerLen++}else le[xt-1]++;for(;Ie<Math.max(0,mt);Ie++)le.push(0);let $r=0!==mt;const Ct=Q+N.integerLen,Ln=le.reduceRight(function(Wn,Oi,zt,sn){return sn[zt]=(Oi+=Wn)<10?Oi:Oi-10,$r&&(0===sn[zt]&&zt>=Ct?sn.pop():$r=!1),Oi>=10?1:0},0);Ln&&(le.unshift(Ln),N.integerLen++)}(Ct,Wn,Oi);let zt=Ct.digits,sn=Ct.integerLen;const Ia=Ct.exponent;let Wt=[];for($r=zt.every(Mt=>!Mt);sn<Ln;sn++)zt.unshift(0);for(;sn<0;sn++)zt.unshift(0);sn>0?Wt=zt.splice(sn,zt.length):(Wt=zt,zt=[0]);const ct=[];for(zt.length>=Q.lgSize&&ct.unshift(zt.splice(-Q.lgSize,zt.length).join(""));zt.length>Q.gSize;)ct.unshift(zt.splice(-Q.gSize,zt.length).join(""));zt.length&&ct.unshift(zt.join("")),yn=ct.join(_n(j,le)),Wt.length&&(yn+=_n(j,Ie)+Wt.join("")),Ia&&(yn+=_n(j,Ht.Exponential)+"+"+Ia)}else yn=_n(j,Ht.Infinity);return yn=N<0&&!$r?Q.negPre+yn+Q.negSuf:Q.posPre+yn+Q.posSuf,yn}(N,xt,Q,Ht.CurrencyGroup,Ht.CurrencyDecimal,Ie).replace(Kn,j).replace(Kn,"").trim()}function Si(N){const Q=parseInt(N);if(isNaN(Q))throw new Error("Invalid integer literal when parsing "+N);return Q}function ei(N,Q,j){return(0,_.dwT)(N,Q,j)}function Ts(N,Q){Q=encodeURIComponent(Q);for(const j of N.split(";")){const le=j.indexOf("="),[Ie,mt]=-1==le?[j,""]:[j.slice(0,le),j.slice(le+1)];if(Ie.trim()===Q)return decodeURIComponent(mt)}return null}const di=/\s+/,rn=[];let An=(()=>{class N{constructor(j,le,Ie,mt){this._iterableDiffers=j,this._keyValueDiffers=le,this._ngEl=Ie,this._renderer=mt,this.initialClasses=rn,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(di):rn}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(di):j}ngDoCheck(){for(const le of this.initialClasses)this._updateState(le,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const le of j)this._updateState(le,!0);else if(null!=j)for(const le of Object.keys(j))this._updateState(le,Boolean(j[le]));this._applyStateDiff()}_updateState(j,le){const Ie=this.stateMap.get(j);void 0!==Ie?(Ie.enabled!==le&&(Ie.changed=!0,Ie.enabled=le),Ie.touched=!0):this.stateMap.set(j,{enabled:le,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const le=j[0],Ie=j[1];Ie.changed?(this._toggleClass(le,Ie.enabled),Ie.changed=!1):Ie.touched||(Ie.enabled&&this._toggleClass(le,!1),this.stateMap.delete(le)),Ie.touched=!1}}_toggleClass(j,le){(j=j.trim()).length>0&&j.split(di).forEach(Ie=>{le?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}}return N.\u0275fac=function(j){return new(j||N)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),N})();class hi{constructor(Q,j,le,Ie){this.$implicit=Q,this.ngForOf=j,this.index=le,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ri=(()=>{class N{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,le,Ie){this._viewContainer=j,this._template=le,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const le=this._viewContainer;j.forEachOperation((Ie,mt,xt)=>{if(null==Ie.previousIndex)le.createEmbeddedView(this._template,new hi(Ie.item,this._ngForOf,-1,-1),null===xt?void 0:xt);else if(null==xt)le.remove(null===mt?void 0:mt);else if(null!==mt){const yn=le.get(mt);le.move(yn,xt),sr(yn,Ie)}});for(let Ie=0,mt=le.length;Ie<mt;Ie++){const yn=le.get(Ie).context;yn.index=Ie,yn.count=mt,yn.ngForOf=this._ngForOf}j.forEachIdentityChange(Ie=>{sr(le.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(j,le){return!0}}return N.\u0275fac=function(j){return new(j||N)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function sr(N,Q){N.context.$implicit=Q.item}let fi=(()=>{class N{constructor(j,le){this._viewContainer=j,this._context=new Gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Ss("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Ss("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,le){return!0}}return N.\u0275fac=function(j){return new(j||N)(_.Y36(_.s_b),_.Y36(_.Rgc))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class Gn{constructor(){this.$implicit=null,this.ngIf=null}}function Ss(N,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,_.AaK)(Q)}'.`)}class mi{constructor(Q,j){this._viewContainerRef=Q,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Q){Q&&!this._created?this.create():!Q&&this._created&&this.destroy()}}let Qi=(()=>{class N{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const le=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||le,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),le}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const le of this._defaultViews)le.enforceState(j)}}}return N.\u0275fac=function(j){return new(j||N)},N.\u0275dir=_.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),N})(),jr=(()=>{class N{constructor(j,le,Ie){this.ngSwitch=Ie,Ie._addCase(),this._view=new mi(j,le)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(j){return new(j||N)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(Qi,9))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),N})(),Fs=(()=>{class N{constructor(j,le,Ie){this._ngEl=j,this._differs=le,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,le){const[Ie,mt]=j.split("."),xt=-1===Ie.indexOf("-")?void 0:_.JOm.DashCase;null!=le?this._renderer.setStyle(this._ngEl.nativeElement,Ie,mt?`${le}${mt}`:le,xt):this._renderer.removeStyle(this._ngEl.nativeElement,Ie,xt)}_applyChanges(j){j.forEachRemovedItem(le=>this._setStyle(le.key,null)),j.forEachAddedItem(le=>this._setStyle(le.key,le.currentValue)),j.forEachChangedItem(le=>this._setStyle(le.key,le.currentValue))}}return N.\u0275fac=function(j){return new(j||N)(_.Y36(_.SBq),_.Y36(_.aQg),_.Y36(_.Qsj))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),N})(),Vi=(()=>{class N{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const le=this._viewContainerRef;if(this._viewRef&&le.remove(le.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ie,ngTemplateOutletContext:mt,ngTemplateOutletInjector:xt}=this;this._viewRef=le.createEmbeddedView(Ie,mt,xt?{injector:xt}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(j){return new(j||N)(_.Y36(_.s_b))},N.\u0275dir=_.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_.TTD]}),N})();function je(N,Q){return new _.vHH(2100,!1)}const Bi=new _.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ko=new _.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Xr=(()=>{class N{constructor(j,le,Ie){this.locale=j,this.defaultTimezone=le,this.defaultOptions=Ie}transform(j,le,Ie,mt){if(null==j||""===j||j!=j)return null;try{return Yr(j,le??this.defaultOptions?.dateFormat??"mediumDate",mt||this.locale,Ie??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(xt){throw je()}}}return N.\u0275fac=function(j){return new(j||N)(_.Y36(_.soG,16),_.Y36(Bi,24),_.Y36(ko,24))},N.\u0275pipe=_.Yjl({name:"date",type:N,pure:!0,standalone:!0}),N})(),ss=(()=>{class N{constructor(j,le="USD"){this._locale=j,this._defaultCurrencyCode=le}transform(j,le=this._defaultCurrencyCode,Ie="symbol",mt,xt){if(!function oo(N){return!(null==N||""===N||N!=N)}(j))return null;xt=xt||this._locale,"boolean"==typeof Ie&&(Ie=Ie?"symbol":"code");let yn=le||this._defaultCurrencyCode;"code"!==Ie&&(yn="symbol"===Ie||"symbol-narrow"===Ie?function Dn(N,Q,j="en"){const le=function Ur(N){return(0,_.cg1)(N)[_.wAp.Currencies]}(j)[N]||Me[N]||[],Ie=le[1];return"narrow"===Q&&"string"==typeof Ie?Ie:le[0]||N}(yn,"symbol"===Ie?"wide":"narrow",xt):Ie);try{return bs(function Ws(N){if("string"==typeof N&&!isNaN(Number(N)-parseFloat(N)))return Number(N);if("number"!=typeof N)throw new Error(`${N} is not a number`);return N}(j),xt,yn,le,mt)}catch($r){throw je()}}}return N.\u0275fac=function(j){return new(j||N)(_.Y36(_.soG,16),_.Y36(_.EJc,16))},N.\u0275pipe=_.Yjl({name:"currency",type:N,pure:!0,standalone:!0}),N})();let os=(()=>{class N{transform(j,le,Ie){if(null==j)return null;if(!this.supports(j))throw je();return j.slice(le,Ie)}supports(j){return"string"==typeof j||Array.isArray(j)}}return N.\u0275fac=function(j){return new(j||N)},N.\u0275pipe=_.Yjl({name:"slice",type:N,pure:!1,standalone:!0}),N})(),Oa=(()=>{class N{}return N.\u0275fac=function(j){return new(j||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({}),N})();const ka="browser",Xi="server";function as(N){return N===ka}function ta(N){return N===Xi}let Us=(()=>{class N{}return N.\u0275prov=(0,_.Yz7)({token:N,providedIn:"root",factory:()=>new va((0,_.LFG)(Y),window)}),N})();class va{constructor(Q,j){this.document=Q,this.window=j,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const j=function lo(N,Q){const j=N.getElementById(Q)||N.getElementsByName(Q)[0];if(j)return j;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const le=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let Ie=le.currentNode;for(;Ie;){const mt=Ie.shadowRoot;if(mt){const xt=mt.getElementById(Q)||mt.querySelector(`[name="${Q}"]`);if(xt)return xt}Ie=le.nextNode()}}return null}(this.document,Q);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=Q)}}scrollToElement(Q){const j=Q.getBoundingClientRect(),le=j.left+this.window.pageXOffset,Ie=j.top+this.window.pageYOffset,mt=this.offset();this.window.scrollTo(le-mt[0],Ie-mt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=ls(this.window.history)||ls(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ls(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Ea{}},529:(Gt,qe,U)=>{U.d(qe,{JF:()=>$n,dt:()=>Re,eN:()=>vt});var _=U(6895),E=U(4650),Z=U(9646),_e=U(9751),K=U(4351),Y=U(9300),ie=U(4004);class he{}class pe{}class ee{constructor(Se){this.normalizedNames=new Map,this.lazyUpdate=null,Se?this.lazyInit="string"==typeof Se?()=>{this.headers=new Map,Se.split("\n").forEach(Pe=>{const St=Pe.indexOf(":");if(St>0){const Et=Pe.slice(0,St),ve=Et.toLowerCase(),Ee=Pe.slice(St+1).trim();this.maybeSetNormalizedName(Et,ve),this.headers.has(ve)?this.headers.get(ve).push(Ee):this.headers.set(ve,[Ee])}})}:()=>{this.headers=new Map,Object.entries(Se).forEach(([Pe,St])=>{let Et;if(Et="string"==typeof St?[St]:"number"==typeof St?[St.toString()]:St.map(ve=>ve.toString()),Et.length>0){const ve=Pe.toLowerCase();this.headers.set(ve,Et),this.maybeSetNormalizedName(Pe,ve)}})}:this.headers=new Map}has(Se){return this.init(),this.headers.has(Se.toLowerCase())}get(Se){this.init();const Pe=this.headers.get(Se.toLowerCase());return Pe&&Pe.length>0?Pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Se){return this.init(),this.headers.get(Se.toLowerCase())||null}append(Se,Pe){return this.clone({name:Se,value:Pe,op:"a"})}set(Se,Pe){return this.clone({name:Se,value:Pe,op:"s"})}delete(Se,Pe){return this.clone({name:Se,value:Pe,op:"d"})}maybeSetNormalizedName(Se,Pe){this.normalizedNames.has(Pe)||this.normalizedNames.set(Pe,Se)}init(){this.lazyInit&&(this.lazyInit instanceof ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Se=>this.applyUpdate(Se)),this.lazyUpdate=null))}copyFrom(Se){Se.init(),Array.from(Se.headers.keys()).forEach(Pe=>{this.headers.set(Pe,Se.headers.get(Pe)),this.normalizedNames.set(Pe,Se.normalizedNames.get(Pe))})}clone(Se){const Pe=new ee;return Pe.lazyInit=this.lazyInit&&this.lazyInit instanceof ee?this.lazyInit:this,Pe.lazyUpdate=(this.lazyUpdate||[]).concat([Se]),Pe}applyUpdate(Se){const Pe=Se.name.toLowerCase();switch(Se.op){case"a":case"s":let St=Se.value;if("string"==typeof St&&(St=[St]),0===St.length)return;this.maybeSetNormalizedName(Se.name,Pe);const Et=("a"===Se.op?this.headers.get(Pe):void 0)||[];Et.push(...St),this.headers.set(Pe,Et);break;case"d":const ve=Se.value;if(ve){let Ee=this.headers.get(Pe);if(!Ee)return;Ee=Ee.filter(Oe=>-1===ve.indexOf(Oe)),0===Ee.length?(this.headers.delete(Pe),this.normalizedNames.delete(Pe)):this.headers.set(Pe,Ee)}else this.headers.delete(Pe),this.normalizedNames.delete(Pe)}}forEach(Se){this.init(),Array.from(this.normalizedNames.keys()).forEach(Pe=>Se(this.normalizedNames.get(Pe),this.headers.get(Pe)))}}class me{encodeKey(Se){return _t(Se)}encodeValue(Se){return _t(Se)}decodeKey(Se){return decodeURIComponent(Se)}decodeValue(Se){return decodeURIComponent(Se)}}const Ge=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(We){return encodeURIComponent(We).replace(Ge,(Se,Pe)=>ze[Pe]??Se)}function tt(We){return`${We}`}class Xe{constructor(Se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Se.encoder||new me,Se.fromString){if(Se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ke(We,Se){const Pe=new Map;return We.length>0&&We.replace(/^\?/,"").split("&").forEach(Et=>{const ve=Et.indexOf("="),[Ee,Oe]=-1==ve?[Se.decodeKey(Et),""]:[Se.decodeKey(Et.slice(0,ve)),Se.decodeValue(Et.slice(ve+1))],at=Pe.get(Ee)||[];at.push(Oe),Pe.set(Ee,at)}),Pe}(Se.fromString,this.encoder)}else Se.fromObject?(this.map=new Map,Object.keys(Se.fromObject).forEach(Pe=>{const St=Se.fromObject[Pe],Et=Array.isArray(St)?St.map(tt):[tt(St)];this.map.set(Pe,Et)})):this.map=null}has(Se){return this.init(),this.map.has(Se)}get(Se){this.init();const Pe=this.map.get(Se);return Pe?Pe[0]:null}getAll(Se){return this.init(),this.map.get(Se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Se,Pe){return this.clone({param:Se,value:Pe,op:"a"})}appendAll(Se){const Pe=[];return Object.keys(Se).forEach(St=>{const Et=Se[St];Array.isArray(Et)?Et.forEach(ve=>{Pe.push({param:St,value:ve,op:"a"})}):Pe.push({param:St,value:Et,op:"a"})}),this.clone(Pe)}set(Se,Pe){return this.clone({param:Se,value:Pe,op:"s"})}delete(Se,Pe){return this.clone({param:Se,value:Pe,op:"d"})}toString(){return this.init(),this.keys().map(Se=>{const Pe=this.encoder.encodeKey(Se);return this.map.get(Se).map(St=>Pe+"="+this.encoder.encodeValue(St)).join("&")}).filter(Se=>""!==Se).join("&")}clone(Se){const Pe=new Xe({encoder:this.encoder});return Pe.cloneFrom=this.cloneFrom||this,Pe.updates=(this.updates||[]).concat(Se),Pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Se=>this.map.set(Se,this.cloneFrom.map.get(Se))),this.updates.forEach(Se=>{switch(Se.op){case"a":case"s":const Pe=("a"===Se.op?this.map.get(Se.param):void 0)||[];Pe.push(tt(Se.value)),this.map.set(Se.param,Pe);break;case"d":if(void 0===Se.value){this.map.delete(Se.param);break}{let St=this.map.get(Se.param)||[];const Et=St.indexOf(tt(Se.value));-1!==Et&&St.splice(Et,1),St.length>0?this.map.set(Se.param,St):this.map.delete(Se.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(Se,Pe){return this.map.set(Se,Pe),this}get(Se){return this.map.has(Se)||this.map.set(Se,Se.defaultValue()),this.map.get(Se)}delete(Se){return this.map.delete(Se),this}has(Se){return this.map.has(Se)}keys(){return this.map.keys()}}function k(We){return typeof ArrayBuffer<"u"&&We instanceof ArrayBuffer}function ye(We){return typeof Blob<"u"&&We instanceof Blob}function be(We){return typeof FormData<"u"&&We instanceof FormData}class Ce{constructor(Se,Pe,St,Et){let ve;if(this.url=Pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Se.toUpperCase(),function Ve(We){switch(We){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Et?(this.body=void 0!==St?St:null,ve=Et):ve=St,ve&&(this.reportProgress=!!ve.reportProgress,this.withCredentials=!!ve.withCredentials,ve.responseType&&(this.responseType=ve.responseType),ve.headers&&(this.headers=ve.headers),ve.context&&(this.context=ve.context),ve.params&&(this.params=ve.params)),this.headers||(this.headers=new ee),this.context||(this.context=new Ye),this.params){const Ee=this.params.toString();if(0===Ee.length)this.urlWithParams=Pe;else{const Oe=Pe.indexOf("?");this.urlWithParams=Pe+(-1===Oe?"?":Oe<Pe.length-1?"&":"")+Ee}}else this.params=new Xe,this.urlWithParams=Pe}serializeBody(){return null===this.body?null:k(this.body)||ye(this.body)||be(this.body)||function Me(We){return typeof URLSearchParams<"u"&&We instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||be(this.body)?null:ye(this.body)?this.body.type||null:k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Se={}){const Pe=Se.method||this.method,St=Se.url||this.url,Et=Se.responseType||this.responseType,ve=void 0!==Se.body?Se.body:this.body,Ee=void 0!==Se.withCredentials?Se.withCredentials:this.withCredentials,Oe=void 0!==Se.reportProgress?Se.reportProgress:this.reportProgress;let at=Se.headers||this.headers,Je=Se.params||this.params;const Vt=Se.context??this.context;return void 0!==Se.setHeaders&&(at=Object.keys(Se.setHeaders).reduce((Le,Ne)=>Le.set(Ne,Se.setHeaders[Ne]),at)),Se.setParams&&(Je=Object.keys(Se.setParams).reduce((Le,Ne)=>Le.set(Ne,Se.setParams[Ne]),Je)),new Ce(Pe,St,ve,{params:Je,headers:at,context:Vt,reportProgress:Oe,responseType:Et,withCredentials:Ee})}}var Re=(()=>((Re=Re||{})[Re.Sent=0]="Sent",Re[Re.UploadProgress=1]="UploadProgress",Re[Re.ResponseHeader=2]="ResponseHeader",Re[Re.DownloadProgress=3]="DownloadProgress",Re[Re.Response=4]="Response",Re[Re.User=5]="User",Re))();class pt{constructor(Se,Pe=200,St="OK"){this.headers=Se.headers||new ee,this.status=void 0!==Se.status?Se.status:Pe,this.statusText=Se.statusText||St,this.url=Se.url||null,this.ok=this.status>=200&&this.status<300}}class bt extends pt{constructor(Se={}){super(Se),this.type=Re.ResponseHeader}clone(Se={}){return new bt({headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class Bt extends pt{constructor(Se={}){super(Se),this.type=Re.Response,this.body=void 0!==Se.body?Se.body:null}clone(Se={}){return new Bt({body:void 0!==Se.body?Se.body:this.body,headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class Ht extends pt{constructor(Se){super(Se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Se.url||"(unknown url)"}`:`Http failure response for ${Se.url||"(unknown url)"}: ${Se.status} ${Se.statusText}`,this.error=Se.error||null}}function rt(We,Se){return{body:Se,headers:We.headers,context:We.context,observe:We.observe,params:We.params,reportProgress:We.reportProgress,responseType:We.responseType,withCredentials:We.withCredentials}}let vt=(()=>{class We{constructor(Pe){this.handler=Pe}request(Pe,St,Et={}){let ve;if(Pe instanceof Ce)ve=Pe;else{let at,Je;at=Et.headers instanceof ee?Et.headers:new ee(Et.headers),Et.params&&(Je=Et.params instanceof Xe?Et.params:new Xe({fromObject:Et.params})),ve=new Ce(Pe,St,void 0!==Et.body?Et.body:null,{headers:at,context:Et.context,params:Je,reportProgress:Et.reportProgress,responseType:Et.responseType||"json",withCredentials:Et.withCredentials})}const Ee=(0,Z.of)(ve).pipe((0,K.b)(at=>this.handler.handle(at)));if(Pe instanceof Ce||"events"===Et.observe)return Ee;const Oe=Ee.pipe((0,Y.h)(at=>at instanceof Bt));switch(Et.observe||"body"){case"body":switch(ve.responseType){case"arraybuffer":return Oe.pipe((0,ie.U)(at=>{if(null!==at.body&&!(at.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return at.body}));case"blob":return Oe.pipe((0,ie.U)(at=>{if(null!==at.body&&!(at.body instanceof Blob))throw new Error("Response is not a Blob.");return at.body}));case"text":return Oe.pipe((0,ie.U)(at=>{if(null!==at.body&&"string"!=typeof at.body)throw new Error("Response is not a string.");return at.body}));default:return Oe.pipe((0,ie.U)(at=>at.body))}case"response":return Oe;default:throw new Error(`Unreachable: unhandled observe type ${Et.observe}}`)}}delete(Pe,St={}){return this.request("DELETE",Pe,St)}get(Pe,St={}){return this.request("GET",Pe,St)}head(Pe,St={}){return this.request("HEAD",Pe,St)}jsonp(Pe,St){return this.request("JSONP",Pe,{params:(new Xe).append(St,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Pe,St={}){return this.request("OPTIONS",Pe,St)}patch(Pe,St,Et={}){return this.request("PATCH",Pe,rt(Et,St))}post(Pe,St,Et={}){return this.request("POST",Pe,rt(Et,St))}put(Pe,St,Et={}){return this.request("PUT",Pe,rt(Et,St))}}return We.\u0275fac=function(Pe){return new(Pe||We)(E.LFG(he))},We.\u0275prov=E.Yz7({token:We,factory:We.\u0275fac}),We})();function ot(We,Se){return Se(We)}function ut(We,Se){return(Pe,St)=>Se.intercept(Pe,{handle:Et=>We(Et,St)})}const yt=new E.OlP("HTTP_INTERCEPTORS"),Ot=new E.OlP("HTTP_INTERCEPTOR_FNS");function Rt(){let We=null;return(Se,Pe)=>(null===We&&(We=((0,E.f3M)(yt,{optional:!0})??[]).reduceRight(ut,ot)),We(Se,Pe))}let Zt=(()=>{class We extends he{constructor(Pe,St){super(),this.backend=Pe,this.injector=St,this.chain=null}handle(Pe){if(null===this.chain){const St=Array.from(new Set(this.injector.get(Ot)));this.chain=St.reduceRight((Et,ve)=>function wt(We,Se,Pe){return(St,Et)=>Pe.runInContext(()=>Se(St,ve=>We(ve,Et)))}(Et,ve,this.injector),ot)}return this.chain(Pe,St=>this.backend.handle(St))}}return We.\u0275fac=function(Pe){return new(Pe||We)(E.LFG(pe),E.LFG(E.lqb))},We.\u0275prov=E.Yz7({token:We,factory:We.\u0275fac}),We})();const zr=/^\)\]\}',?\n/;let Nn=(()=>{class We{constructor(Pe){this.xhrFactory=Pe}handle(Pe){if("JSONP"===Pe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _e.y(St=>{const Et=this.xhrFactory.build();if(Et.open(Pe.method,Pe.urlWithParams),Pe.withCredentials&&(Et.withCredentials=!0),Pe.headers.forEach((fe,He)=>Et.setRequestHeader(fe,He.join(","))),Pe.headers.has("Accept")||Et.setRequestHeader("Accept","application/json, text/plain, */*"),!Pe.headers.has("Content-Type")){const fe=Pe.detectContentTypeHeader();null!==fe&&Et.setRequestHeader("Content-Type",fe)}if(Pe.responseType){const fe=Pe.responseType.toLowerCase();Et.responseType="json"!==fe?fe:"text"}const ve=Pe.serializeBody();let Ee=null;const Oe=()=>{if(null!==Ee)return Ee;const fe=Et.statusText||"OK",He=new ee(Et.getAllResponseHeaders()),gt=function Dr(We){return"responseURL"in We&&We.responseURL?We.responseURL:/^X-Request-URL:/m.test(We.getAllResponseHeaders())?We.getResponseHeader("X-Request-URL"):null}(Et)||Pe.url;return Ee=new bt({headers:He,status:Et.status,statusText:fe,url:gt}),Ee},at=()=>{let{headers:fe,status:He,statusText:gt,url:Lt}=Oe(),fn=null;204!==He&&(fn=typeof Et.response>"u"?Et.responseText:Et.response),0===He&&(He=fn?200:0);let hn=He>=200&&He<300;if("json"===Pe.responseType&&"string"==typeof fn){const Kn=fn;fn=fn.replace(zr,"");try{fn=""!==fn?JSON.parse(fn):null}catch(Ai){fn=Kn,hn&&(hn=!1,fn={error:Ai,text:fn})}}hn?(St.next(new Bt({body:fn,headers:fe,status:He,statusText:gt,url:Lt||void 0})),St.complete()):St.error(new Ht({error:fn,headers:fe,status:He,statusText:gt,url:Lt||void 0}))},Je=fe=>{const{url:He}=Oe(),gt=new Ht({error:fe,status:Et.status||0,statusText:Et.statusText||"Unknown Error",url:He||void 0});St.error(gt)};let Vt=!1;const Le=fe=>{Vt||(St.next(Oe()),Vt=!0);let He={type:Re.DownloadProgress,loaded:fe.loaded};fe.lengthComputable&&(He.total=fe.total),"text"===Pe.responseType&&Et.responseText&&(He.partialText=Et.responseText),St.next(He)},Ne=fe=>{let He={type:Re.UploadProgress,loaded:fe.loaded};fe.lengthComputable&&(He.total=fe.total),St.next(He)};return Et.addEventListener("load",at),Et.addEventListener("error",Je),Et.addEventListener("timeout",Je),Et.addEventListener("abort",Je),Pe.reportProgress&&(Et.addEventListener("progress",Le),null!==ve&&Et.upload&&Et.upload.addEventListener("progress",Ne)),Et.send(ve),St.next({type:Re.Sent}),()=>{Et.removeEventListener("error",Je),Et.removeEventListener("abort",Je),Et.removeEventListener("load",at),Et.removeEventListener("timeout",Je),Pe.reportProgress&&(Et.removeEventListener("progress",Le),null!==ve&&Et.upload&&Et.upload.removeEventListener("progress",Ne)),Et.readyState!==Et.DONE&&Et.abort()}})}}return We.\u0275fac=function(Pe){return new(Pe||We)(E.LFG(_.JF))},We.\u0275prov=E.Yz7({token:We,factory:We.\u0275fac}),We})();const qt=new E.OlP("XSRF_ENABLED"),li=new E.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qi=new E.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wi{}let Sn=(()=>{class We{constructor(Pe,St,Et){this.doc=Pe,this.platform=St,this.cookieName=Et,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Pe=this.doc.cookie||"";return Pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(Pe,this.cookieName),this.lastCookieString=Pe),this.lastToken}}return We.\u0275fac=function(Pe){return new(Pe||We)(E.LFG(_.K0),E.LFG(E.Lbi),E.LFG(li))},We.\u0275prov=E.Yz7({token:We,factory:We.\u0275fac}),We})();function zn(We,Se){const Pe=We.url.toLowerCase();if(!(0,E.f3M)(qt)||"GET"===We.method||"HEAD"===We.method||Pe.startsWith("http://")||Pe.startsWith("https://"))return Se(We);const St=(0,E.f3M)(wi).getToken(),Et=(0,E.f3M)(qi);return null!=St&&!We.headers.has(Et)&&(We=We.clone({headers:We.headers.set(Et,St)})),Se(We)}var Yt=(()=>((Yt=Yt||{})[Yt.Interceptors=0]="Interceptors",Yt[Yt.LegacyInterceptors=1]="LegacyInterceptors",Yt[Yt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Yt[Yt.NoXsrfProtection=3]="NoXsrfProtection",Yt[Yt.JsonpSupport=4]="JsonpSupport",Yt[Yt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Yt))();function Yr(We,Se){return{\u0275kind:We,\u0275providers:Se}}function Vr(...We){const Se=[vt,Nn,Zt,{provide:he,useExisting:Zt},{provide:pe,useExisting:Nn},{provide:Ot,useValue:zn,multi:!0},{provide:qt,useValue:!0},{provide:wi,useClass:Sn}];for(const Pe of We)Se.push(...Pe.\u0275providers);return(0,E.MR2)(Se)}const Br=new E.OlP("LEGACY_INTERCEPTOR_FN");let $n=(()=>{class We{}return We.\u0275fac=function(Pe){return new(Pe||We)},We.\u0275mod=E.oAB({type:We}),We.\u0275inj=E.cJS({providers:[Vr(Yr(Yt.LegacyInterceptors,[{provide:Br,useFactory:Rt},{provide:Ot,useExisting:Br,multi:!0}]))]}),We})()},4650:(Gt,qe,U)=>{U.d(qe,{$8M:()=>Bs,$WT:()=>Is,$Z:()=>gf,AFp:()=>M0,ALo:()=>qE,AaK:()=>he,Akn:()=>Rl,AsE:()=>Hc,BQk:()=>um,CHM:()=>F,CRH:()=>o0,CZH:()=>iE,CqO:()=>kf,D6c:()=>xC,DdM:()=>ru,Dn7:()=>YE,EJc:()=>Ww,EiD:()=>sd,EpF:()=>Iy,F$t:()=>Ah,F4k:()=>Kp,FYo:()=>Ng,FiY:()=>gi,G48:()=>fC,Gf:()=>r0,GfV:()=>cf,GkF:()=>Sh,Gpc:()=>se,Gre:()=>Dm,HTZ:()=>BE,Hh0:()=>HE,Hsn:()=>Uf,JOm:()=>Dl,JVY:()=>bg,JZr:()=>_t,KtG:()=>ue,L6k:()=>rd,LAX:()=>Rr,LFG:()=>$n,LSH:()=>oh,Lbi:()=>jw,Lck:()=>Pl,MAs:()=>Uc,MGl:()=>Mh,MMx:()=>h,MR2:()=>Ig,NdJ:()=>Dh,O4$:()=>xu,OlP:()=>Fr,Oqu:()=>nc,P3R:()=>rf,PXZ:()=>aC,Q6J:()=>Of,QGY:()=>I_,QbO:()=>$w,Qsj:()=>gp,R0b:()=>Ud,RDi:()=>$m,Rgc:()=>Gv,SBq:()=>cd,Sil:()=>qw,Suo:()=>s0,TTD:()=>Hi,TgZ:()=>Qu,Tol:()=>P_,Udp:()=>ws,VKq:()=>Xy,W1O:()=>c0,WLB:()=>LE,X6Q:()=>hC,XFs:()=>qt,Xpm:()=>hn,Xts:()=>cp,Y36:()=>md,YKP:()=>Nr,YNc:()=>zp,Yjl:()=>gs,Yz7:()=>_n,Z0I:()=>Yn,ZZ4:()=>OE,_Bn:()=>Pr,_UZ:()=>Ju,_Vd:()=>ch,_c5:()=>MC,_uU:()=>N_,aQg:()=>kE,c2e:()=>Gw,cJS:()=>xn,cg1:()=>Mm,dDg:()=>rC,dqk:()=>Sn,dwT:()=>Uy,eBb:()=>vr,eFA:()=>j0,eJc:()=>yE,ekj:()=>wm,eoX:()=>U0,f3M:()=>Tt,g9A:()=>x0,h0i:()=>lr,hGG:()=>RC,hij:()=>rc,iGM:()=>n0,ifc:()=>at,ip1:()=>A0,jDz:()=>C,kEZ:()=>FE,kL8:()=>V_,l5B:()=>UE,lG2:()=>Fi,lqb:()=>Dc,lri:()=>L0,mCW:()=>Cc,n5z:()=>au,oAB:()=>bs,oJD:()=>Gu,oxw:()=>Ff,pB0:()=>sh,q3G:()=>fs,q4F:()=>Km,qLn:()=>Gr,qOj:()=>tm,qZA:()=>Cd,qbA:()=>VE,qzn:()=>Al,rFY:()=>jE,rWj:()=>F0,s9C:()=>Su,sBO:()=>pC,s_b:()=>tE,soG:()=>sE,tb:()=>B0,tp0:()=>Xs,uIk:()=>Yu,vHH:()=>tt,vpe:()=>Jf,wAp:()=>jn,xi3:()=>ZE,xp6:()=>fl,ynx:()=>Vc,z2F:()=>oE,z3N:()=>Ma,zSh:()=>hp,zs3:()=>Eu});var _=U(7579),E=U(727),Z=U(9751),_e=U(6451),K=U(3099);function Y(n){for(let o in n)if(n[o]===Y)return o;throw Error("Could not find renamed property on target object.")}function ie(n,o){for(const u in o)o.hasOwnProperty(u)&&!n.hasOwnProperty(u)&&(n[u]=o[u])}function he(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(he).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const o=n.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function pe(n,o){return null==n||""===n?null===o?"":o:null==o||""===o?n:n+" "+o}const ee=Y({__forward_ref__:Y});function se(n){return n.__forward_ref__=se,n.toString=function(){return he(this())},n}function me(n){return ke(n)?n():n}function ke(n){return"function"==typeof n&&n.hasOwnProperty(ee)&&n.__forward_ref__===se}function Ge(n){return n&&!!n.\u0275providers}const _t="https://g.co/ng/security#xss";class tt extends Error{constructor(o,u){super(Xe(o,u)),this.code=o}}function Xe(n,o){return`NG0${Math.abs(n)}${o?": "+o.trim():""}`}function Te(n){return"string"==typeof n?n:null==n?"":String(n)}function be(n,o){throw new tt(-201,!1)}function Ot(n,o){null==n&&function Rt(n,o,u,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}(o,n,null,"!=")}function _n(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ir(n){return Ur(n,qn)||Ur(n,Dr)}function Yn(n){return null!==ir(n)}function Ur(n,o){return n.hasOwnProperty(o)?n[o]:null}function gn(n){return n&&(n.hasOwnProperty(zr)||n.hasOwnProperty(Nn))?n[zr]:null}const qn=Y({\u0275prov:Y}),zr=Y({\u0275inj:Y}),Dr=Y({ngInjectableDef:Y}),Nn=Y({ngInjectorDef:Y});var qt=(()=>((qt=qt||{})[qt.Default=0]="Default",qt[qt.Host=1]="Host",qt[qt.Self=2]="Self",qt[qt.SkipSelf=4]="SkipSelf",qt[qt.Optional=8]="Optional",qt))();let Dn;function Or(n){const o=Dn;return Dn=n,o}function qi(n,o,u){const d=ir(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&qt.Optional?null:void 0!==o?o:void be(he(n))}const Sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yr={},Vr="__NG_DI_FLAG__",Ar="ngTempTokenPath",Br="ngTokenPath",ui=/\n/gm,Cs="\u0275",ur="__source";let ci;function Bn(n){const o=ci;return ci=n,o}function On(n,o=qt.Default){if(void 0===ci)throw new tt(-203,!1);return null===ci?qi(n,void 0,o):ci.get(n,o&qt.Optional?null:void 0,o)}function $n(n,o=qt.Default){return(function li(){return Dn}()||On)(me(n),o)}function Tt(n,o=qt.Default){return $n(n,We(o))}function We(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Se(n){const o=[];for(let u=0;u<n.length;u++){const d=me(n[u]);if(Array.isArray(d)){if(0===d.length)throw new tt(900,!1);let p,v=qt.Default;for(let T=0;T<d.length;T++){const x=d[T],H=St(x);"number"==typeof H?-1===H?p=x.token:v|=H:p=x}o.push($n(p,v))}else o.push($n(d))}return o}function Pe(n,o){return n[Vr]=o,n.prototype[Vr]=o,n}function St(n){return n[Vr]}function Ee(n){return{toString:n}.toString()}var Oe=(()=>((Oe=Oe||{})[Oe.OnPush=0]="OnPush",Oe[Oe.Default=1]="Default",Oe))(),at=(()=>{return(n=at||(at={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",at;var n})();const Je={},Vt=[],Le=Y({\u0275cmp:Y}),Ne=Y({\u0275dir:Y}),fe=Y({\u0275pipe:Y}),He=Y({\u0275mod:Y}),gt=Y({\u0275fac:Y}),Lt=Y({__NG_ELEMENT_ID__:Y});let fn=0;function hn(n){return Ee(()=>{const o=No(n),u={...o,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Oe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||at.Emulated,id:"c"+fn++,styles:n.styles||Vt,_:null,schemas:n.schemas||null,tView:null};ei(u);const d=n.dependencies;return u.directiveDefs=Ts(d,!1),u.pipeDefs=Ts(d,!0),u})}function Ai(n){return Xn(n)||kr(n)}function Li(n){return null!==n}function bs(n){return Ee(()=>({type:n.type,bootstrap:n.bootstrap||Vt,declarations:n.declarations||Vt,imports:n.imports||Vt,exports:n.exports||Vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Po(n,o){if(null==n)return Je;const u={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],v=p;Array.isArray(p)&&(v=p[1],p=p[0]),u[p]=d,o&&(o[p]=v)}return u}function Fi(n){return Ee(()=>{const o=No(n);return ei(o),o})}function gs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xn(n){return n[Le]||null}function kr(n){return n[Ne]||null}function Si(n){return n[fe]||null}function Is(n){const o=Xn(n)||kr(n)||Si(n);return null!==o&&o.standalone}function Qr(n,o){const u=n[He]||null;if(!u&&!0===o)throw new Error(`Type ${he(n)} does not have '\u0275mod' property.`);return u}function No(n){const o={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Po(n.inputs,o),outputs:Po(n.outputs)}}function ei(n){n.features?.forEach(o=>o(n))}function Ts(n,o){if(!n)return null;const u=o?Si:Ai;return()=>("function"==typeof n?n():n).map(d=>u(d)).filter(Li)}const di=0,rn=1,An=2,Hr=3,Zn=4,Mi=5,hi=6,Ri=7,sr=8,Oo=9,fi=10,Gn=11,Ss=12,mi=13,Qi=14,jr=15,Jr=16,Ui=17,xi=18,pr=19,Fs=20,Vi=21,Ue=22,lt=1,At=2,$t=7,mn=8,Mn=9,kn=10;function Wr(n){return Array.isArray(n)&&"object"==typeof n[lt]}function Pi(n){return Array.isArray(n)&&!0===n[lt]}function Ji(n){return 0!=(4&n.flags)}function Bi(n){return n.componentOffset>-1}function ko(n){return 1==(1&n.flags)}function Xr(n){return!!n.template}function ms(n){return 0!=(256&n[An])}function cr(n,o){return n.hasOwnProperty(gt)?n[gt]:null}class Ks{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Hi(){return Us}function Us(n){return n.type.prototype.ngOnChanges&&(n.setInput=ls),va}function va(){const n=uo(this),o=n?.current;if(o){const u=n.previous;if(u===Je)n.previous=o;else for(let d in o)u[d]=o[d];n.current=null,this.ngOnChanges(o)}}function ls(n,o,u,d){const p=this.declaredInputs[u],v=uo(n)||function Ea(n,o){return n[lo]=o}(n,{previous:Je,current:null}),T=v.current||(v.current={}),x=v.previous,H=x[p];T[p]=new Ks(H&&H.currentValue,o,x===Je),n[d]=o}Hi.ngInherit=!0;const lo="__ngSimpleChanges__";function uo(n){return n[lo]||null}const _r=function(n,o,u){},_i="svg";function ti(n){for(;Array.isArray(n);)n=n[di];return n}function na(n,o){return ti(o[n])}function ji(n,o){return ti(o[n.index])}function La(n,o){return n.data[o]}function ys(n,o){return n[o]}function $i(n,o){const u=o[n];return Wr(u)?u:u[di]}function Gi(n){return 64==(64&n[An])}function Zi(n,o){return null==o?null:n[o]}function Lo(n){n[xi]=0}function ia(n,o){n[Mi]+=o;let u=n,d=n[Hr];for(;null!==d&&(1===o&&1===u[Mi]||-1===o&&0===u[Mi]);)d[Mi]+=o,u=d,d=d[Hr]}const Vn={lFrame:nl(null),bindingsEnabled:!0};function yl(){return Vn.bindingsEnabled}function O(){return Vn.lFrame.lView}function B(){return Vn.lFrame.tView}function F(n){return Vn.lFrame.contextLView=n,n[sr]}function ue(n){return Vn.lFrame.contextLView=null,n}function st(){let n=cn();for(;null!==n&&64===n.type;)n=n.parent;return n}function cn(){return Vn.lFrame.currentTNode}function ni(n,o){const u=Vn.lFrame;u.currentTNode=n,u.isParent=o}function Rs(){return Vn.lFrame.isParent}function pi(){Vn.lFrame.isParent=!1}function us(){const n=Vn.lFrame;let o=n.bindingRootIndex;return-1===o&&(o=n.bindingRootIndex=n.tView.bindingStartIndex),o}function Uo(){return Vn.lFrame.bindingIndex++}function Vo(n){const o=Vn.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+n,u}function vl(n,o){const u=Vn.lFrame;u.bindingIndex=u.bindingRootIndex=n,Ua(o)}function Ua(n){Vn.lFrame.currentDirectiveIndex=n}function Bo(){return Vn.lFrame.currentQueryIndex}function tl(n){Vn.lFrame.currentQueryIndex=n}function oa(n){const o=n[rn];return 2===o.type?o.declTNode:1===o.type?n[hi]:null}function Nl(n,o,u){if(u&qt.SkipSelf){let p=o,v=n;for(;!(p=p.parent,null!==p||u&qt.Host||(p=oa(v),null===p||(v=v[jr],10&p.type))););if(null===p)return!1;o=p,n=v}const d=Vn.lFrame=El();return d.currentTNode=o,d.lView=n,!0}function Va(n){const o=El(),u=n[rn];Vn.lFrame=o,o.currentTNode=u.firstChild,o.lView=n,o.tView=u,o.contextLView=n,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function El(){const n=Vn.lFrame,o=null===n?null:n.child;return null===o?nl(n):o}function nl(n){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=o),o}function Ol(){const n=Vn.lFrame;return Vn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const go=Ol;function wl(){const n=Ol();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ds(){return Vn.lFrame.selectedIndex}function Ps(n){Vn.lFrame.selectedIndex=n}function or(){const n=Vn.lFrame;return La(n.tView,n.selectedIndex)}function xu(){Vn.lFrame.currentNamespace=_i}function Ll(n,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const v=n.data[u].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:x,ngAfterViewInit:H,ngAfterViewChecked:J,ngOnDestroy:de}=v;T&&(n.contentHooks??(n.contentHooks=[])).push(-u,T),x&&((n.contentHooks??(n.contentHooks=[])).push(u,x),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(u,x)),H&&(n.viewHooks??(n.viewHooks=[])).push(-u,H),J&&((n.viewHooks??(n.viewHooks=[])).push(u,J),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(u,J)),null!=de&&(n.destroyHooks??(n.destroyHooks=[])).push(u,de)}}function su(n,o,u){Q(n,o,3,u)}function ou(n,o,u,d){(3&n[An])===u&&Q(n,o,u,d)}function N(n,o){let u=n[An];(3&u)===o&&(u&=2047,u+=1,n[An]=u)}function Q(n,o,u,d){const v=d??-1,T=o.length-1;let x=0;for(let H=void 0!==d?65535&n[xi]:0;H<T;H++)if("number"==typeof o[H+1]){if(x=o[H],null!=d&&x>=d)break}else o[H]<0&&(n[xi]+=65536),(x<v||-1==v)&&(j(n,u,o,H),n[xi]=(4294901760&n[xi])+H+2),H++}function j(n,o,u,d){const p=u[d]<0,v=u[d+1],x=n[p?-u[d]:u[d]];if(p){if(n[An]>>11<n[xi]>>16&&(3&n[An])===o){n[An]+=2048,_r(4,x,v);try{v.call(x)}finally{_r(5,x,v)}}}else{_r(4,x,v);try{v.call(x)}finally{_r(5,x,v)}}}const le=-1;class Ie{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function zt(n,o,u){let d=0;for(;d<u.length;){const p=u[d];if("number"==typeof p){if(0!==p)break;d++;const v=u[d++],T=u[d++],x=u[d++];n.setAttribute(o,T,x,v)}else{const v=p,T=u[++d];Ia(v)?n.setProperty(o,v,T):n.setAttribute(o,v,T),d++}}return d}function sn(n){return 3===n||4===n||6===n}function Ia(n){return 64===n.charCodeAt(0)}function Wt(n,o){if(null!==o&&0!==o.length)if(null===n||0===n.length)n=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const p=o[d];"number"==typeof p?u=p:0===u||ct(n,u,p,null,-1===u||2===u?o[++d]:null)}}return n}function ct(n,o,u,d,p){let v=0,T=n.length;if(-1===o)T=-1;else for(;v<n.length;){const x=n[v++];if("number"==typeof x){if(x===o){T=-1;break}if(x>o){T=v-1;break}}}for(;v<n.length;){const x=n[v];if("number"==typeof x)break;if(x===u){if(null===d)return void(null!==p&&(n[v+1]=p));if(d===n[v+1])return void(n[v+2]=p)}v++,null!==d&&v++,null!==p&&v++}-1!==T&&(n.splice(T,0,o),v=T+1),n.splice(v++,0,u),null!==d&&n.splice(v++,0,d),null!==p&&n.splice(v++,0,p)}function Mt(n){return n!==le}function ii(n){return 32767&n}function Ta(n,o){let u=function mo(n){return n>>16}(n),d=o;for(;u>0;)d=d[jr],u--;return d}let To=!0;function So(n){const o=To;return To=n,o}const Ul=255,Ho=5;let zc=0;const es={};function Cl(n,o){const u=la(n,o);if(-1!==u)return u;const d=o[rn];d.firstCreatePass&&(n.injectorIndex=o.length,Rn(d.data,n),Rn(o,null),Rn(d.blueprint,null));const p=er(n,o),v=n.injectorIndex;if(Mt(p)){const T=ii(p),x=Ta(p,o),H=x[rn].data;for(let J=0;J<8;J++)o[v+J]=x[T+J]|H[T+J]}return o[v+8]=p,v}function Rn(n,o){n.push(0,0,0,0,0,0,0,0,o)}function la(n,o){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===o[n.injectorIndex+8]?-1:n.injectorIndex}function er(n,o){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let u=0,d=null,p=o;for(;null!==p;){if(d=bl(p),null===d)return le;if(u++,p=p[jr],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return le}function si(n,o,u){!function Pu(n,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Lt)&&(d=u[Lt]),null==d&&(d=u[Lt]=zc++);const p=d&Ul;o.data[n+(p>>Ho)]|=1<<p}(n,o,u)}function Zs(n,o,u){if(u&qt.Optional||void 0!==n)return n;be()}function ge(n,o,u,d){if(u&qt.Optional&&void 0===d&&(d=null),!(u&(qt.Self|qt.Host))){const p=n[Oo],v=Or(void 0);try{return p?p.get(o,d,u&qt.Optional):qi(o,d,u&qt.Optional)}finally{Or(v)}}return Zs(d,0,u)}function il(n,o,u,d=qt.Default,p){if(null!==n){if(1024&o[An]){const T=function Ys(n,o,u,d,p){let v=n,T=o;for(;null!==v&&null!==T&&1024&T[An]&&!(256&T[An]);){const x=yi(v,T,u,d|qt.Self,es);if(x!==es)return x;let H=v.parent;if(!H){const J=T[Vi];if(J){const de=J.get(u,es,d);if(de!==es)return de}H=bl(T),T=T[jr]}v=H}return p}(n,o,u,d,es);if(T!==es)return T}const v=yi(n,o,u,d,es);if(v!==es)return v}return ge(o,u,d,p)}function yi(n,o,u,d,p){const v=function jo(n){if("string"==typeof n)return n.charCodeAt(0)||0;const o=n.hasOwnProperty(Lt)?n[Lt]:void 0;return"number"==typeof o?o>=0?o&Ul:Vs:o}(u);if("function"==typeof v){if(!Nl(o,n,d))return d&qt.Host?Zs(p,0,d):ge(o,u,d,p);try{const T=v(d);if(null!=T||d&qt.Optional)return T;be()}finally{go()}}else if("number"==typeof v){let T=null,x=la(n,o),H=le,J=d&qt.Host?o[Jr][hi]:null;for((-1===x||d&qt.SkipSelf)&&(H=-1===x?er(n,o):o[x+8],H!==le&&Cr(d,!1)?(T=o[rn],x=ii(H),o=Ta(H,o)):x=-1);-1!==x;){const de=o[rn];if(Lr(v,x,de.data)){const De=tn(x,o,u,T,d,J);if(De!==es)return De}H=o[x+8],H!==le&&Cr(d,o[rn].data[x+8]===J)&&Lr(v,x,o)?(T=de,x=ii(H),o=Ta(H,o)):x=-1}}return p}function tn(n,o,u,d,p,v){const T=o[rn],x=T.data[n+8],de=oi(x,T,u,null==d?Bi(x)&&To:d!=T&&0!=(3&x.type),p&qt.Host&&v===x);return null!==de?Do(o,T,de,x):es}function oi(n,o,u,d,p){const v=n.providerIndexes,T=o.data,x=1048575&v,H=n.directiveStart,de=v>>20,Ze=p?x+de:n.directiveEnd;for(let ft=d?x:x+de;ft<Ze;ft++){const kt=T[ft];if(ft<H&&u===kt||ft>=H&&kt.type===u)return ft}if(p){const ft=T[H];if(ft&&Xr(ft)&&ft.type===u)return H}return null}function Do(n,o,u,d){let p=n[u];const v=o.data;if(function mt(n){return n instanceof Ie}(p)){const T=p;T.resolving&&function Ve(n,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${u}`)}(function Ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Te(n)}(v[u]));const x=So(T.canSeeViewProviders);T.resolving=!0;const H=T.injectImpl?Or(T.injectImpl):null;Nl(n,d,qt.Default);try{p=n[u]=T.factory(void 0,v,n,d),o.firstCreatePass&&u>=d.directiveStart&&function kl(n,o,u){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:v}=o.type.prototype;if(d){const T=Us(o);(u.preOrderHooks??(u.preOrderHooks=[])).push(n,T),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(n,T)}p&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-n,p),v&&((u.preOrderHooks??(u.preOrderHooks=[])).push(n,v),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(n,v))}(u,v[u],o)}finally{null!==H&&Or(H),So(x),T.resolving=!1,go()}}return p}function Lr(n,o,u){return!!(u[o+(n>>Ho)]&1<<n)}function Cr(n,o){return!(n&qt.Self||n&qt.Host&&o)}class Sa{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return il(this._tNode,this._lView,o,We(d),u)}}function Vs(){return new Sa(st(),O())}function au(n){return Ee(()=>{const o=n.prototype.constructor,u=o[gt]||lu(o),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const v=p[gt]||lu(p);if(v&&v!==u)return v;p=Object.getPrototypeOf(p)}return v=>new v})}function lu(n){return ke(n)?()=>{const o=lu(me(n));return o&&o()}:cr(n)}function bl(n){const o=n[rn],u=o.type;return 2===u?o.declTNode:1===u?n[hi]:null}function Bs(n){return function bn(n,o){if("class"===o)return n.classes;if("style"===o)return n.styles;const u=n.attrs;if(u){const d=u.length;let p=0;for(;p<d;){const v=u[p];if(sn(v))break;if(0===v)p+=2;else if("number"==typeof v)for(p++;p<d&&"string"==typeof u[p];)p++;else{if(v===o)return u[p+1];p+=2}}}return null}(st(),n)}const hs="__parameters__";function vs(n,o,u){return Ee(()=>{const d=function $o(n){return function(...u){if(n){const d=n(...u);for(const p in d)this[p]=d[p]}}}(o);function p(...v){if(this instanceof p)return d.apply(this,v),this;const T=new p(...v);return x.annotation=T,x;function x(H,J,de){const De=H.hasOwnProperty(hs)?H[hs]:Object.defineProperty(H,hs,{value:[]})[hs];for(;De.length<=de;)De.push(null);return(De[de]=De[de]||[]).push(T),H}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class Fr{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=_n({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _o(n,o){n.forEach(u=>Array.isArray(u)?_o(u,o):o(u))}function Js(n,o,u){o>=n.length?n.push(u):n.splice(o,0,u)}function Tl(n,o){return o>=n.length-1?n.pop():n.splice(o,1)[0]}function Hs(n,o){const u=[];for(let d=0;d<n;d++)u.push(o);return u}function zo(n,o,u){let d=S(n,o);return d>=0?n[1|d]=u:(d=~d,function $a(n,o,u,d){let p=n.length;if(p==o)n.push(u,d);else if(1===p)n.push(d,n[0]),n[0]=u;else{for(p--,n.push(n[p-1],n[p]);p>o;)n[p]=n[p-2],p--;n[o]=u,n[o+1]=d}}(n,d,o,u)),d}function uc(n,o){const u=S(n,o);if(u>=0)return n[1|u]}function S(n,o){return function b(n,o,u){let d=0,p=n.length>>u;for(;p!==d;){const v=d+(p-d>>1),T=n[v<<u];if(o===T)return v<<u;T>o?p=v:d=v+1}return~(p<<u)}(n,o,1)}const gi=Pe(vs("Optional"),8),Xs=Pe(vs("SkipSelf"),4);var Dl=(()=>((Dl=Dl||{})[Dl.Important=1]="Important",Dl[Dl.DashCase=2]="DashCase",Dl))();const fu=new Map;let np=0;const $l="__ngContext__";function to(n,o){Wr(o)?(n[$l]=o[Fs],function Um(n){fu.set(n[Fs],n)}(o)):n[$l]=o}let ip;function Lu(n,o){return ip(n,o)}function Fu(n){const o=n[Hr];return Pi(o)?o[Hr]:o}function Uu(n){return Wa(n[mi])}function Wd(n){return Wa(n[Zn])}function Wa(n){for(;null!==n&&!Pi(n);)n=n[Zn];return n}function Vu(n,o,u,d,p){if(null!=d){let v,T=!1;Pi(d)?v=d:Wr(d)&&(T=!0,d=d[di]);const x=ti(d);0===n&&null!==u?null==p?op(o,u,x):Es(o,u,x,p||null,!0):1===n&&null!==u?Es(o,u,x,p||null,!0):2===n?function Zh(n,o,u){const d=Ka(n,o);d&&function ap(n,o,u,d){n.removeChild(o,u,d)}(n,d,o,u)}(o,x,T):3===n&&o.destroyNode(x),null!=v&&function wg(n,o,u,d,p){const v=u[$t];v!==ti(u)&&Vu(o,n,d,v,p);for(let x=kn;x<u.length;x++){const H=u[x];vc(H[rn],H,n,o,d,v)}}(o,n,v,u,p)}}function Kd(n,o,u){return n.createElement(o,u)}function Zd(n,o){const u=n[Mn],d=u.indexOf(o),p=o[Hr];512&o[An]&&(o[An]&=-513,ia(p,-1)),u.splice(d,1)}function Yd(n,o){if(n.length<=kn)return;const u=kn+o,d=n[u];if(d){const p=d[Ui];null!==p&&p!==n&&Zd(p,d),o>0&&(n[u-1][Zn]=d[Zn]);const v=Tl(n,kn+o);!function sp(n,o){vc(n,o,o[Gn],2,null,null),o[di]=null,o[hi]=null}(d[rn],d);const T=v[pr];null!==T&&T.detachView(v[rn]),d[Hr]=null,d[Zn]=null,d[An]&=-65}return d}function mu(n,o){if(!(128&o[An])){const u=o[Gn];u.destroyNode&&vc(n,o,u,3,null,null),function gu(n){let o=n[mi];if(!o)return Kh(n[rn],n);for(;o;){let u=null;if(Wr(o))u=o[mi];else{const d=o[kn];d&&(u=d)}if(!u){for(;o&&!o[Zn]&&o!==n;)Wr(o)&&Kh(o[rn],o),o=o[Hr];null===o&&(o=n),Wr(o)&&Kh(o[rn],o),u=o&&o[Zn]}o=u}}(o)}}function Kh(n,o){if(!(128&o[An])){o[An]&=-65,o[An]|=128,function qh(n,o){let u;if(null!=n&&null!=(u=n.destroyHooks))for(let d=0;d<u.length;d+=2){const p=o[u[d]];if(!(p instanceof Ie)){const v=u[d+1];if(Array.isArray(v))for(let T=0;T<v.length;T+=2){const x=p[v[T]],H=v[T+1];_r(4,x,H);try{H.call(x)}finally{_r(5,x,H)}}else{_r(4,p,v);try{v.call(p)}finally{_r(5,p,v)}}}}}(n,o),function Hm(n,o){const u=n.cleanup,d=o[Ri];let p=-1;if(null!==u)for(let v=0;v<u.length-1;v+=2)if("string"==typeof u[v]){const T=u[v+3];T>=0?d[p=T]():d[p=-T].unsubscribe(),v+=2}else{const T=d[p=u[v+1]];u[v].call(T)}if(null!==d){for(let v=p+1;v<d.length;v++)(0,d[v])();o[Ri]=null}}(n,o),1===o[rn].type&&o[Gn].destroy();const u=o[Ui];if(null!==u&&Pi(o[Hr])){u!==o[Hr]&&Zd(u,o);const d=o[pr];null!==d&&d.detachView(n)}!function br(n){fu.delete(n[Fs])}(o)}}function Bu(n,o,u){return function jm(n,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[di];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:v}=n.data[d.directiveStart+p];if(v===at.None||v===at.Emulated)return null}return ji(d,u)}}(n,o.parent,u)}function Es(n,o,u,d,p){n.insertBefore(o,u,d,p)}function op(n,o,u){n.appendChild(o,u)}function _u(n,o,u,d,p){null!==d?Es(n,o,u,d,p):op(n,o,u)}function Ka(n,o){return n.parentNode(o)}function Qd(n,o,u){return ar(n,o,u)}let Jd,th,rh,Qh,ar=function Eg(n,o,u){return 40&n.type?ji(n,u):null};function Xd(n,o,u,d){const p=Bu(n,d,o),v=o[Gn],x=Qd(d.parent||o[hi],d,o);if(null!=p)if(Array.isArray(u))for(let H=0;H<u.length;H++)_u(v,p,u[H],x,!1);else _u(v,p,u,x,!1);void 0!==Jd&&Jd(v,d,o,u,p)}function Yc(n,o){if(null!==o){const u=o.type;if(3&u)return ji(o,n);if(4&u)return Qc(-1,n[o.index]);if(8&u){const d=o.child;if(null!==d)return Yc(n,d);{const p=n[o.index];return Pi(p)?Qc(-1,p):ti(p)}}if(32&u)return Lu(o,n)()||ti(n[o.index]);{const d=yc(n,o);return null!==d?Array.isArray(d)?d[0]:Yc(Fu(n[Jr]),d):Yc(n,o.next)}}return null}function yc(n,o){return null!==o?n[Jr][hi].projection[o.projection]:null}function Qc(n,o){const u=kn+n+1;if(u<o.length){const d=o[u],p=d[rn].firstChild;if(null!==p)return Yc(d,p)}return o[$t]}function Jc(n,o,u,d,p,v,T){for(;null!=u;){const x=d[u.index],H=u.type;if(T&&0===o&&(x&&to(ti(x),d),u.flags|=2),32!=(32&u.flags))if(8&H)Jc(n,o,u.child,d,p,v,!1),Vu(o,n,p,x,v);else if(32&H){const J=Lu(u,d);let de;for(;de=J();)Vu(o,n,p,de,v);Vu(o,n,p,x,v)}else 16&H?Hu(n,o,d,u,p,v):Vu(o,n,p,x,v);u=T?u.projectionNext:u.next}}function vc(n,o,u,d,p,v){Jc(u,d,n.firstChild,o,p,v,!1)}function Hu(n,o,u,d,p,v){const T=u[Jr],H=T[hi].projection[d.projection];if(Array.isArray(H))for(let J=0;J<H.length;J++)Vu(o,n,p,H[J],v);else Jc(n,o,H,T[Hr],p,v,!0)}function wc(n,o,u){""===u?n.removeAttribute(o,"class"):n.setAttribute(o,"class",u)}function Yh(n,o,u){const{mergedAttrs:d,classes:p,styles:v}=u;null!==d&&zt(n,o,d),null!==p&&wc(n,o,p),null!==v&&function eh(n,o,u){n.setAttribute(o,"style",u)}(n,o,v)}function ed(n){return function ju(){if(void 0===th&&(th=null,Sn.trustedTypes))try{th=Sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return th}()?.createHTML(n)||n}function $m(n){rh=n}function ca(){if(void 0===Qh&&(Qh=null,Sn.trustedTypes))try{Qh=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qh}function qa(n){return ca()?.createHTML(n)||n}function Jh(n){return ca()?.createScriptURL(n)||n}class cl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class ih extends cl{getTypeName(){return"HTML"}}class nd extends cl{getTypeName(){return"Style"}}class Xh extends cl{getTypeName(){return"Script"}}class ef extends cl{getTypeName(){return"URL"}}class Zo extends cl{getTypeName(){return"ResourceURL"}}function Ma(n){return n instanceof cl?n.changingThisBreaksApplicationSecurity:n}function Al(n,o){const u=function tf(n){return n instanceof cl&&n.getTypeName()||null}(n);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${_t})`)}return u===o}function bg(n){return new ih(n)}function rd(n){return new nd(n)}function vr(n){return new Xh(n)}function Rr(n){return new ef(n)}function sh(n){return new Zo(n)}class da{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(ed(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class zl{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=ed(o),u}}const ks=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cc(n){return(n=String(n)).match(ks)?n:"unsafe:"+n}function fa(n){const o={};for(const u of n.split(","))o[u]=!0;return o}function id(...n){const o={};for(const u of n)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const Wl=fa("area,br,col,hr,img,wbr"),Kl=fa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yu=fa("rp,rt"),A=id(Wl,id(Kl,fa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),id(yu,fa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),id(yu,Kl)),W=fa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),it=id(W,fa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nt=fa("script,style,template");class Jt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!A.hasOwnProperty(u))return this.sanitizedSomething=!0,!Nt.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let p=0;p<d.length;p++){const v=d.item(p),T=v.name,x=T.toLowerCase();if(!it.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let H=v.value;W[x]&&(H=Cc(H)),this.buf.push(" ",T,'="',Kr(H),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();A.hasOwnProperty(u)&&!Wl.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Kr(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const En=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pn=/([^\#-~ |!])/g;function Kr(n){return n.replace(/&/g,"&amp;").replace(En,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(pn,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ls;function sd(n,o){let u=null;try{Ls=Ls||function Gs(n){const o=new zl(n);return function ha(){try{return!!(new window.DOMParser).parseFromString(ed(""),"text/html")}catch{return!1}}()?new da(o):o}(n);let d=o?String(o):"";u=Ls.getInertBodyElement(d);let p=5,v=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=v,v=u.innerHTML,u=Ls.getInertBodyElement(d)}while(d!==v);return ed((new Jt).sanitizeChildren(dl(u)||u))}finally{if(u){const d=dl(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function dl(n){return"content"in n&&function nf(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var fs=(()=>((fs=fs||{})[fs.NONE=0]="NONE",fs[fs.HTML=1]="HTML",fs[fs.STYLE=2]="STYLE",fs[fs.SCRIPT=3]="SCRIPT",fs[fs.URL=4]="URL",fs[fs.RESOURCE_URL=5]="RESOURCE_URL",fs))();function Gu(n){const o=sf();return o?qa(o.sanitize(fs.HTML,n)||""):Al(n,"HTML")?qa(Ma(n)):sd(function $u(){return void 0!==rh?rh:typeof document<"u"?document:void 0}(),Te(n))}function oh(n){const o=sf();return o?o.sanitize(fs.URL,n)||"":Al(n,"URL")?Ma(n):Cc(Te(n))}function zu(n){const o=sf();if(o)return Jh(o.sanitize(fs.RESOURCE_URL,n)||"");if(Al(n,"ResourceURL"))return Jh(Ma(n));throw new tt(904,!1)}function rf(n,o,u){return function ld(n,o){return"src"===o&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===o&&("base"===n||"link"===n)?zu:oh}(o,u)(n)}function sf(){const n=O();return n&&n[Ss]}const cp=new Fr("ENVIRONMENT_INITIALIZER"),X_=new Fr("INJECTOR",-1),Wu=new Fr("INJECTOR_DEF_TYPES");class ah{get(o,u=Yr){if(u===Yr){const d=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw d.name="NullInjectorError",d}return u}}function Ig(n){return{\u0275providers:n}}function Gm(...n){return{\u0275providers:dp(0,n),\u0275fromNgModule:!0}}function dp(n,...o){const u=[],d=new Set;let p;return _o(o,v=>{const T=v;Tg(T,u,[],d)&&(p||(p=[]),p.push(T))}),void 0!==p&&bc(p,u),u}function bc(n,o){for(let u=0;u<n.length;u++){const{providers:p}=n[u];Sg(p,v=>{o.push(v)})}}function Tg(n,o,u,d){if(!(n=me(n)))return!1;let p=null,v=gn(n);const T=!v&&Xn(n);if(v||T){if(T&&!T.standalone)return!1;p=n}else{const H=n.ngModule;if(v=gn(H),!v)return!1;p=H}const x=d.has(p);if(T){if(x)return!1;if(d.add(p),T.dependencies){const H="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const J of H)Tg(J,o,u,d)}}else{if(!v)return!1;{if(null!=v.imports&&!x){let J;d.add(p);try{_o(v.imports,de=>{Tg(de,o,u,d)&&(J||(J=[]),J.push(de))})}finally{}void 0!==J&&bc(J,o)}if(!x){const J=cr(p)||(()=>new p);o.push({provide:p,useFactory:J,deps:Vt},{provide:Wu,useValue:p,multi:!0},{provide:cp,useValue:()=>$n(p),multi:!0})}const H=v.providers;null==H||x||Sg(H,de=>{o.push(de)})}}return p!==n&&void 0!==n.providers}function Sg(n,o){for(let u of n)Ge(u)&&(u=u.\u0275providers),Array.isArray(u)?Sg(u,o):o(u)}const Dg=Y({provide:String,useValue:Y});function Ic(n){return null!==n&&"object"==typeof n&&Dg in n}function ql(n){return"function"==typeof n}const hp=new Fr("Set Injector scope."),af={},ty={};let Ag;function fp(){return void 0===Ag&&(Ag=new ah),Ag}class Dc{}class zm extends Dc{get destroyed(){return this._destroyed}constructor(o,u,d,p){super(),this.parent=u,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ud(o,T=>this.processProvider(T)),this.records.set(X_,lh(void 0,this)),p.has("environment")&&this.records.set(Dc,lh(void 0,this));const v=this.records.get(hp);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Wu.multi,Vt,qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=Bn(this),d=Or(void 0);try{return o()}finally{Bn(u),Or(d)}}get(o,u=Yr,d=qt.Default){this.assertNotDestroyed(),d=We(d);const p=Bn(this),v=Or(void 0);try{if(!(d&qt.SkipSelf)){let x=this.records.get(o);if(void 0===x){const H=function uf(n){return"function"==typeof n||"object"==typeof n&&n instanceof Fr}(o)&&ir(o);x=H&&this.injectableDefInScope(H)?lh(lf(o),af):null,this.records.set(o,x)}if(null!=x)return this.hydrate(o,x)}return(d&qt.Self?fp():this.parent).get(o,u=d&qt.Optional&&u===Yr?null:u)}catch(T){if("NullInjectorError"===T.name){if((T[Ar]=T[Ar]||[]).unshift(he(o)),p)throw T;return function Et(n,o,u,d){const p=n[Ar];throw o[ur]&&p.unshift(o[ur]),n.message=function ve(n,o,u,d=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Cs?n.slice(2):n;let p=he(o);if(Array.isArray(o))p=o.map(he).join(" -> ");else if("object"==typeof o){let v=[];for(let T in o)if(o.hasOwnProperty(T)){let x=o[T];v.push(T+":"+("string"==typeof x?JSON.stringify(x):he(x)))}p=`{${v.join(", ")}}`}return`${u}${d?"("+d+")":""}[${p}]: ${n.replace(ui,"\n  ")}`}("\n"+n.message,p,u,d),n[Br]=p,n[Ar]=null,n}(T,o,"R3InjectorError",this.source)}throw T}finally{Or(v),Bn(p)}}resolveInjectorInitializers(){const o=Bn(this),u=Or(void 0);try{const d=this.get(cp.multi,Vt,qt.Self);for(const p of d)p()}finally{Bn(o),Or(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(he(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(o){let u=ql(o=me(o))?o:me(o&&o.provide);const d=function hl(n){return Ic(n)?lh(void 0,n.useValue):lh(Mg(n),af)}(o);if(ql(o)||!0!==o.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=lh(void 0,af,!0),p.factory=()=>Se(p.multi),this.records.set(u,p)),u=o,p.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===af&&(u.value=ty,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Rg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=me(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function lf(n){const o=ir(n),u=null!==o?o.factory:cr(n);if(null!==u)return u;if(n instanceof Fr)throw new tt(204,!1);if(n instanceof Function)return function pp(n){const o=n.length;if(o>0)throw Hs(o,"?"),new tt(204,!1);const u=function mr(n){return n&&(n[qn]||n[Dr])||null}(n);return null!==u?()=>u.factory(n):()=>new n}(n);throw new tt(204,!1)}function Mg(n,o,u){let d;if(ql(n)){const p=me(n);return cr(p)||lf(p)}if(Ic(n))d=()=>me(n.useValue);else if(function Sc(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...Se(n.deps||[]));else if(function Tc(n){return!(!n||!n.useExisting)}(n))d=()=>$n(me(n.useExisting));else{const p=me(n&&(n.useClass||n.provide));if(!function rv(n){return!!n.deps}(n))return cr(p)||lf(p);d=()=>new p(...Se(n.deps))}return d}function lh(n,o,u=!1){return{factory:n,value:o,multi:u?[]:void 0}}function ud(n,o){for(const u of n)Array.isArray(u)?ud(u,o):u&&Ge(u)?ud(u.\u0275providers,o):o(u)}class uh{}class Ac{}class iy{resolveComponentFactory(o){throw function ny(n){const o=Error(`No component factory found for ${he(n)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=n,o}(o)}}let ch=(()=>{class n{}return n.NULL=new iy,n})();function xg(){return dh(st(),O())}function dh(n,o){return new cd(ji(n,o))}let cd=(()=>{class n{constructor(u){this.nativeElement=u}}return n.__NG_ELEMENT_ID__=xg,n})();function Pg(n){return n instanceof cd?n.nativeElement:n}class Ng{}let gp=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function iv(){const n=O(),u=$i(st().index,n);return(Wr(u)?u:n)[Gn]}(),n})(),Og=(()=>{class n{}return n.\u0275prov=_n({token:n,providedIn:"root",factory:()=>null}),n})();class cf{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Km=new cf("15.2.8"),hh={},dd="ngOriginalError";function qr(n){return n[dd]}class Gr{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&qr(o);for(;u&&qr(u);)u=qr(u);return u||null}}function Qn(n){return n instanceof Function?n():n}function sy(n,o,u){let d=n.length;for(;;){const p=n.indexOf(o,u);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const v=o.length;if(p+v===d||n.charCodeAt(p+v)<=32)return p}u=p+1}}const qm="ng-template";function ph(n,o,u){let d=0,p=!0;for(;d<n.length;){let v=n[d++];if("string"==typeof v&&p){const T=n[d++];if(u&&"class"===v&&-1!==sy(T.toLowerCase(),o,0))return!0}else{if(1===v){for(;d<n.length&&"string"==typeof(v=n[d++]);)if(v.toLowerCase()===o)return!0;return!1}"number"==typeof v&&(p=!1)}}return!1}function Lg(n){return 4===n.type&&n.value!==qm}function hd(n,o,u){return o===(4!==n.type||u?n.value:qm)}function oy(n,o,u){let d=4;const p=n.attrs||[],v=function fd(n){for(let o=0;o<n.length;o++)if(sn(n[o]))return o;return n.length}(p);let T=!1;for(let x=0;x<o.length;x++){const H=o[x];if("number"!=typeof H){if(!T)if(4&d){if(d=2|1&d,""!==H&&!hd(n,H,u)||""===H&&1===o.length){if(Yl(d))return!1;T=!0}}else{const J=8&d?H:o[++x];if(8&d&&null!==n.attrs){if(!ph(n.attrs,J,u)){if(Yl(d))return!1;T=!0}continue}const De=ay(8&d?"class":H,p,Lg(n),u);if(-1===De){if(Yl(d))return!1;T=!0;continue}if(""!==J){let Ze;Ze=De>v?"":p[De+1].toLowerCase();const ft=8&d?Ze:null;if(ft&&-1!==sy(ft,J,0)||2&d&&J!==Ze){if(Yl(d))return!1;T=!0}}}}else{if(!T&&!Yl(d)&&!Yl(H))return!1;if(T&&Yl(H))continue;T=!1,d=H|1&d}}return Yl(d)||T}function Yl(n){return 0==(1&n)}function ay(n,o,u,d){if(null===o)return-1;let p=0;if(d||!u){let v=!1;for(;p<o.length;){const T=o[p];if(T===n)return p;if(3===T||6===T)v=!0;else{if(1===T||2===T){let x=o[++p];for(;"string"==typeof x;)x=o[++p];continue}if(4===T)break;if(0===T){p+=4;continue}}p+=v?1:2}return-1}return function vu(n,o){let u=n.indexOf(4);if(u>-1)for(u++;u<n.length;){const d=n[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,n)}function ly(n,o,u=!1){for(let d=0;d<o.length;d++)if(oy(n,o[d],u))return!0;return!1}function xr(n,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function ff(n,o){return n?":not("+o.trim()+")":o}function Fg(n){let o=n[0],u=1,d=2,p="",v=!1;for(;u<n.length;){let T=n[u];if("string"==typeof T)if(2&d){const x=n[++u];p+="["+T+(x.length>0?'="'+x+'"':"")+"]"}else 8&d?p+="."+T:4&d&&(p+=" "+T);else""!==p&&!Yl(T)&&(o+=ff(v,p),p=""),d=T,v=v||!Yl(d);u++}return""!==p&&(o+=ff(v,p)),o}const tr={};function fl(n){Mo(B(),O(),ds()+n,!1)}function Mo(n,o,u,d){if(!d)if(3==(3&o[An])){const v=n.preOrderCheckHooks;null!==v&&su(o,v,u)}else{const v=n.preOrderHooks;null!==v&&ou(o,v,0,u)}Ps(u)}function yp(n,o=null,u=null,d){const p=vp(n,o,u,d);return p.resolveInjectorInitializers(),p}function vp(n,o=null,u=null,d,p=new Set){const v=[u||Vt,Gm(n)];return d=d||("object"==typeof n?void 0:he(n)),new zm(v,o||fp(),d||null,p)}let Eu=(()=>{class n{static create(u,d){if(Array.isArray(u))return yp({name:""},d,u,"");{const p=u.name??"";return yp({name:p},u.parent,u.providers,p)}}}return n.THROW_IF_NOT_FOUND=Yr,n.NULL=new ah,n.\u0275prov=_n({token:n,providedIn:"any",factory:()=>$n(X_)}),n.__NG_ELEMENT_ID__=-1,n})();function md(n,o=qt.Default){const u=O();return null===u?$n(n,o):il(st(),u,me(n),o)}function gf(){throw new Error("invalid")}function Dp(n,o){const u=n.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const v=u[d+1];if(-1!==v){const T=n.data[v];tl(u[d]),T.contentQueries(2,o[v],v)}}}function xc(n,o,u,d,p,v,T,x,H,J,de){const De=o.blueprint.slice();return De[di]=p,De[An]=76|d,(null!==de||n&&1024&n[An])&&(De[An]|=1024),Lo(De),De[Hr]=De[jr]=n,De[sr]=u,De[fi]=T||n&&n[fi],De[Gn]=x||n&&n[Gn],De[Ss]=H||n&&n[Ss]||null,De[Oo]=J||n&&n[Oo]||null,De[hi]=v,De[Fs]=function qc(){return np++}(),De[Vi]=de,De[Jr]=2==o.type?n[Jr]:De,De}function mf(n,o,u,d,p){let v=n.data[o];if(null===v)v=function _f(n,o,u,d,p){const v=cn(),T=Rs(),H=n.data[o]=function s_(n,o,u,d,p,v){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?v:v&&v.parent,u,o,d,p);return null===n.firstChild&&(n.firstChild=H),null!==v&&(T?null==v.child&&null!==H.parent&&(v.child=H):null===v.next&&(v.next=H,H.prev=v)),H}(n,o,u,d,p),function wa(){return Vn.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=u,v.value=d,v.attrs=p;const T=function yr(){const n=Vn.lFrame,o=n.currentTNode;return n.isParent?o:o.parent}();v.injectorIndex=null===T?-1:T.injectorIndex}return ni(v,!0),v}function ps(n,o,u,d){if(0===u)return-1;const p=o.length;for(let v=0;v<u;v++)o.push(d),n.blueprint.push(d),n.data.push(null);return p}function Mp(n,o,u){Va(o);try{const d=n.viewQuery;null!==d&&Tf(1,d,u);const p=n.template;null!==p&&Rp(n,o,p,1,u),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Dp(n,o),n.staticViewQueries&&Tf(2,n.viewQuery,u);const v=n.components;null!==v&&function Ap(n,o){for(let u=0;u<o.length;u++)c_(n,o[u])}(o,v)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{o[An]&=-5,wl()}}function wh(n,o,u,d){const p=o[An];if(128!=(128&p)){Va(o);try{Lo(o),function po(n){return Vn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==u&&Rp(n,o,u,2,d);const T=3==(3&p);if(T){const J=n.preOrderCheckHooks;null!==J&&su(o,J,null)}else{const J=n.preOrderHooks;null!==J&&ou(o,J,0,null),N(o,0)}if(function _y(n){for(let o=Uu(n);null!==o;o=Wd(o)){if(!o[At])continue;const u=o[Mn];for(let d=0;d<u.length;d++){const p=u[d];512&p[An]||ia(p[Hr],1),p[An]|=512}}}(o),function bh(n){for(let o=Uu(n);null!==o;o=Wd(o))for(let u=kn;u<o.length;u++){const d=o[u],p=d[rn];Gi(d)&&wh(p,d,p.template,d[sr])}}(o),null!==n.contentQueries&&Dp(n,o),T){const J=n.contentCheckHooks;null!==J&&su(o,J)}else{const J=n.contentHooks;null!==J&&ou(o,J,1),N(o,1)}!function py(n,o){const u=n.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const p=u[d];if(p<0)Ps(~p);else{const v=p,T=u[++d],x=u[++d];vl(T,v),x(2,o[v])}}}finally{Ps(-1)}}(n,o);const x=n.components;null!==x&&function n_(n,o){for(let u=0;u<o.length;u++)Cf(n,o[u])}(o,x);const H=n.viewQuery;if(null!==H&&Tf(2,H,d),T){const J=n.viewCheckHooks;null!==J&&su(o,J)}else{const J=n.viewHooks;null!==J&&ou(o,J,2),N(o,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o[An]&=-41,512&o[An]&&(o[An]&=-513,ia(o[Hr],-1))}finally{wl()}}}function Rp(n,o,u,d,p){const v=ds(),T=2&d;try{Ps(-1),T&&o.length>Ue&&Mo(n,o,Ue,!1),_r(T?2:0,p),u(d,p)}finally{Ps(v),_r(T?3:1,p)}}function Ch(n,o,u){if(Ji(o)){const p=o.directiveEnd;for(let v=o.directiveStart;v<p;v++){const T=n.data[v];T.contentQueries&&T.contentQueries(1,u[v],v)}}}function yf(n,o,u){yl()&&(function o_(n,o,u,d){const p=u.directiveStart,v=u.directiveEnd;Bi(u)&&function l_(n,o,u){const d=ji(o,n),p=gy(u),v=n[fi],T=bf(n,xc(n,p,null,u.onPush?32:16,d,o,v,v.createRenderer(d,u),null,null,null));n[o.index]=T}(o,u,n.data[p+u.componentOffset]),n.firstCreatePass||Cl(u,o),to(d,o);const T=u.initialInputs;for(let x=p;x<v;x++){const H=n.data[x],J=Do(o,n,x,u);to(J,o),null!==T&&my(0,x-p,J,H,0,T),Xr(H)&&($i(u.index,o)[sr]=Do(o,n,x,u))}}(n,o,u,ji(u,o)),64==(64&u.flags)&&Np(n,o,u))}function Gg(n,o,u=ji){const d=o.localNames;if(null!==d){let p=o.index+1;for(let v=0;v<d.length;v+=2){const T=d[v+1],x=-1===T?u(o,n):n[T];n[p++]=x}}}function gy(n){const o=n.tView;return null===o||o.incompleteFirstPass?n.tView=r_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):o}function r_(n,o,u,d,p,v,T,x,H,J){const de=Ue+d,De=de+p,Ze=function Ql(n,o){const u=[];for(let d=0;d<o;d++)u.push(d<n?null:tr);return u}(de,De),ft="function"==typeof J?J():J;return Ze[rn]={type:n,blueprint:Ze,template:u,queries:null,viewQuery:x,declTNode:o,data:Ze.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:H,consts:ft,incompleteFirstPass:!1}}function vf(n,o,u,d){const p=Zg(o);null===u?p.push(d):(p.push(u),n.firstCreatePass&&Ih(n).push(d,p.length-1))}function xp(n,o,u,d){for(let p in n)if(n.hasOwnProperty(p)){u=null===u?{}:u;const v=n[p];null===d?Zu(u,o,p,v):d.hasOwnProperty(p)&&Zu(u,o,d[p],v)}return u}function Zu(n,o,u,d){n.hasOwnProperty(u)?n[u].push(o,d):n[u]=[o,d]}function zs(n,o,u,d,p,v,T,x){const H=ji(o,u);let de,J=o.inputs;!x&&null!=J&&(de=J[d])?(vd(n,u,de,d,p),Bi(o)&&function zg(n,o){const u=$i(o,n);16&u[An]||(u[An]|=32)}(u,o.index)):3&o.type&&(d=function wu(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=T?T(p,o.value||"",d):p,v.setProperty(H,d,p))}function Wg(n,o,u,d){if(yl()){const p=null===d?null:{"":-1},v=function a_(n,o){const u=n.directiveRegistry;let d=null,p=null;if(u)for(let v=0;v<u.length;v++){const T=u[v];if(ly(o,T.selectors,!1))if(d||(d=[]),Xr(T))if(null!==T.findHostDirectiveDefs){const x=[];p=p||new Map,T.findHostDirectiveDefs(T,x,p),d.unshift(...x,T),Op(n,o,x.length)}else d.unshift(T),Op(n,o,0);else p=p||new Map,T.findHostDirectiveDefs?.(T,d,p),d.push(T)}return null===d?null:[d,p]}(n,u);let T,x;null===v?T=x=null:[T,x]=v,null!==T&&Kg(n,o,u,T,p,x),p&&function ts(n,o,u){if(o){const d=n.localNames=[];for(let p=0;p<o.length;p+=2){const v=u[o[p+1]];if(null==v)throw new tt(-301,!1);d.push(o[p],v)}}}(u,d,p)}u.mergedAttrs=Wt(u.mergedAttrs,u.attrs)}function Kg(n,o,u,d,p,v){for(let J=0;J<d.length;J++)si(Cl(u,o),n,d[J].type);!function _d(n,o,u){n.flags|=1,n.directiveStart=o,n.directiveEnd=o+u,n.providerIndexes=o}(u,n.data.length,d.length);for(let J=0;J<d.length;J++){const de=d[J];de.providersResolver&&de.providersResolver(de)}let T=!1,x=!1,H=ps(n,o,d.length,null);for(let J=0;J<d.length;J++){const de=d[J];u.mergedAttrs=Wt(u.mergedAttrs,de.hostAttrs),kp(n,u,o,H,de),Ml(H,de,p),null!==de.contentQueries&&(u.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(u.flags|=64);const De=de.type.prototype;!T&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(u.index),T=!0),!x&&(De.ngOnChanges||De.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(u.index),x=!0),H++}!function Pc(n,o,u){const p=o.directiveEnd,v=n.data,T=o.attrs,x=[];let H=null,J=null;for(let de=o.directiveStart;de<p;de++){const De=v[de],Ze=u?u.get(De):null,kt=Ze?Ze.outputs:null;H=xp(De.inputs,de,H,Ze?Ze.inputs:null),J=xp(De.outputs,de,J,kt);const en=null===H||null===T||Lg(o)?null:yd(H,de,T);x.push(en)}null!==H&&(H.hasOwnProperty("class")&&(o.flags|=8),H.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=x,o.inputs=H,o.outputs=J}(n,u,v)}function Np(n,o,u){const d=u.directiveStart,p=u.directiveEnd,v=u.index,T=function iu(){return Vn.lFrame.currentDirectiveIndex}();try{Ps(v);for(let x=d;x<p;x++){const H=n.data[x],J=o[x];Ua(x),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Nc(H,J)}}finally{Ps(-1),Ua(T)}}function Nc(n,o){null!==n.hostBindings&&n.hostBindings(1,o)}function Op(n,o,u){o.componentOffset=u,(n.components??(n.components=[])).push(o.index)}function Ml(n,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=n;Xr(o)&&(u[""]=n)}}function kp(n,o,u,d,p){n.data[d]=p;const v=p.factory||(p.factory=cr(p.type)),T=new Ie(v,Xr(p),md);n.blueprint[d]=T,u[d]=T,function wf(n,o,u,d,p){const v=p.hostBindings;if(v){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const x=~o.index;(function Jl(n){let o=n.length;for(;o>0;){const u=n[--o];if("number"==typeof u&&u<0)return u}return 0})(T)!=x&&T.push(x),T.push(u,d,v)}}(n,o,d,ps(n,u,p.hostVars,tr),p)}function pa(n,o,u,d,p,v){const T=ji(n,o);!function Cu(n,o,u,d,p,v,T){if(null==v)n.removeAttribute(o,p,u);else{const x=null==T?Te(v):T(v,d||"",p);n.setAttribute(o,p,x,u)}}(o[Gn],T,v,n.value,u,d,p)}function my(n,o,u,d,p,v){const T=v[o];if(null!==T){const x=d.setInput;for(let H=0;H<T.length;){const J=T[H++],de=T[H++],De=T[H++];null!==x?d.setInput(u,De,J,de):u[de]=De}}}function yd(n,o,u){let d=null,p=0;for(;p<u.length;){const v=u[p];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===d&&(d=[]);const T=n[v];for(let x=0;x<T.length;x+=2)if(T[x]===o){d.push(v,T[x+1],u[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function Lp(n,o,u,d){return[n,!0,!1,o,null,0,d,u,null,null]}function Cf(n,o){const u=$i(o,n);if(Gi(u)){const d=u[rn];48&u[An]?wh(d,u,d.template,u[sr]):u[Mi]>0&&u_(u)}}function u_(n){for(let d=Uu(n);null!==d;d=Wd(d))for(let p=kn;p<d.length;p++){const v=d[p];if(Gi(v))if(512&v[An]){const T=v[rn];wh(T,v,T.template,v[sr])}else v[Mi]>0&&u_(v)}const u=n[rn].components;if(null!==u)for(let d=0;d<u.length;d++){const p=$i(u[d],n);Gi(p)&&p[Mi]>0&&u_(p)}}function c_(n,o){const u=$i(o,n),d=u[rn];(function lv(n,o){for(let u=o.length;u<n.blueprint.length;u++)o.push(n.blueprint[u])})(d,u),Mp(d,u,u[sr])}function bf(n,o){return n[mi]?n[Qi][Zn]=o:n[mi]=o,n[Qi]=o,o}function qg(n){for(;n;){n[An]|=32;const o=Fu(n);if(ms(n)&&!o)return n;n=o}return null}function If(n,o,u,d=!0){const p=o[fi];p.begin&&p.begin();try{wh(n,o,n.template,u)}catch(T){throw d&&Yg(o,T),T}finally{p.end&&p.end()}}function Tf(n,o,u){tl(0),o(n,u)}function Zg(n){return n[Ri]||(n[Ri]=[])}function Ih(n){return n.cleanup||(n.cleanup=[])}function Yg(n,o){const u=n[Oo],d=u?u.get(Gr,null):null;d&&d.handleError(o)}function vd(n,o,u,d,p){for(let v=0;v<u.length;){const T=u[v++],x=u[v++],H=o[T],J=n.data[T];null!==J.setInput?J.setInput(H,p,d,x):H[x]=p}}function pl(n,o,u){const d=na(o,n);!function zh(n,o,u){n.setValue(o,u)}(n[Gn],d,u)}function Ed(n,o,u){let d=u?n.styles:null,p=u?n.classes:null,v=0;if(null!==o)for(let T=0;T<o.length;T++){const x=o[T];"number"==typeof x?v=x:1==v?p=pe(p,x):2==v&&(d=pe(d,x+": "+o[++T]+";"))}u?n.styles=d:n.stylesWithoutHost=d,u?n.classes=p:n.classesWithoutHost=p}function bu(n,o,u,d,p=!1){for(;null!==u;){const v=o[u.index];if(null!==v&&d.push(ti(v)),Pi(v))for(let x=kn;x<v.length;x++){const H=v[x],J=H[rn].firstChild;null!==J&&bu(H[rn],H,J,d)}const T=u.type;if(8&T)bu(n,o,u.child,d);else if(32&T){const x=Lu(u,o);let H;for(;H=x();)d.push(H)}else if(16&T){const x=yc(o,u);if(Array.isArray(x))d.push(...x);else{const H=Fu(o[Jr]);bu(H[rn],H,x,d,!0)}}u=p?u.projectionNext:u.next}return d}class Sf{get rootNodes(){const o=this._lView,u=o[rn];return bu(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sr]}set context(o){this._lView[sr]=o}get destroyed(){return 128==(128&this._lView[An])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Hr];if(Pi(o)){const u=o[mn],d=u?u.indexOf(this):-1;d>-1&&(Yd(o,d),Tl(u,d))}this._attachedToViewContainer=!1}mu(this._lView[rn],this._lView)}onDestroy(o){vf(this._lView[rn],this._lView,null,o)}markForCheck(){qg(this._cdRefInjectingView||this._lView)}detach(){this._lView[An]&=-65}reattach(){this._lView[An]|=64}detectChanges(){If(this._lView[rn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Aa(n,o){vc(n,o,o[Gn],2,null,null)}(this._lView[rn],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=o}}class Qg extends Sf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;If(o[rn],o,o[sr],!1)}checkNoChanges(){}get context(){return null}}class Jg extends ch{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Xn(o);return new Fp(u,this.ngModule)}}function Df(n){const o=[];for(let u in n)n.hasOwnProperty(u)&&o.push({propName:n[u],templateName:u});return o}class em{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){d=We(d);const p=this.injector.get(o,hh,d);return p!==hh||u===hh?p:this.parentInjector.get(o,u,d)}}class Fp extends Ac{get inputs(){return Df(this.componentDef.inputs)}get outputs(){return Df(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function Zm(n){return n.map(Fg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,d,p){let v=(p=p||this.ngModule)instanceof Dc?p:p?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const T=v?new em(o,v):o,x=T.get(Ng,null);if(null===x)throw new tt(407,!1);const H=T.get(Og,null),J=x.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",De=d?function i_(n,o,u){return n.selectRootElement(o,u===at.ShadowDom)}(J,d,this.componentDef.encapsulation):Kd(J,de,function Xg(n){const o=n.toLowerCase();return"svg"===o?_i:"math"===o?"math":null}(de)),Ze=this.componentDef.onPush?288:272,ft=r_(0,null,null,1,0,null,null,null,null,null),kt=xc(null,ft,null,Ze,null,null,x,J,H,T,null);let en,wn;Va(kt);try{const Pn=this.componentDef;let rr,Kt=null;Pn.findHostDirectiveDefs?(rr=[],Kt=new Map,Pn.findHostDirectiveDefs(Pn,rr,Kt),rr.push(Pn)):rr=[Pn];const wr=function Up(n,o){const u=n[rn],d=Ue;return n[d]=o,mf(u,d,2,"#host",null)}(kt,De),yo=function dv(n,o,u,d,p,v,T,x){const H=p[rn];!function yy(n,o,u,d){for(const p of n)o.mergedAttrs=Wt(o.mergedAttrs,p.hostAttrs);null!==o.mergedAttrs&&(Ed(o,o.mergedAttrs,!0),null!==u&&Yh(d,u,o))}(d,n,o,T);const J=v.createRenderer(o,u),de=xc(p,gy(u),null,u.onPush?32:16,p[n.index],n,v,J,x||null,null,null);return H.firstCreatePass&&Op(H,n,d.length-1),bf(p,de),p[n.index]=de}(wr,De,Pn,rr,kt,x,J);wn=La(ft,Ue),De&&function vy(n,o,u,d){if(d)zt(n,u,["ng-version",Km.full]);else{const{attrs:p,classes:v}=function Ku(n){const o=[],u=[];let d=1,p=2;for(;d<n.length;){let v=n[d];if("string"==typeof v)2===p?""!==v&&o.push(v,n[++d]):8===p&&u.push(v);else{if(!Yl(p))break;p=v}d++}return{attrs:o,classes:u}}(o.selectors[0]);p&&zt(n,u,p),v&&v.length>0&&wc(n,u,v.join(" "))}}(J,Pn,De,d),void 0!==u&&function f_(n,o,u){const d=n.projection=[];for(let p=0;p<o.length;p++){const v=u[p];d.push(null!=v?Array.from(v):null)}}(wn,this.ngContentSelectors,u),en=function hv(n,o,u,d,p,v){const T=st(),x=p[rn],H=ji(T,p);Kg(x,p,T,u,null,d);for(let de=0;de<u.length;de++)to(Do(p,x,T.directiveStart+de,T),p);Np(x,p,T),H&&to(H,p);const J=Do(p,x,T.directiveStart+T.componentOffset,T);if(n[sr]=p[sr]=J,null!==v)for(const de of v)de(J,o);return Ch(x,T,n),J}(yo,Pn,rr,Kt,kt,[Vp]),Mp(ft,kt,null)}finally{wl()}return new cv(this.componentType,en,dh(wn,kt),kt,wn)}}class cv extends uh{constructor(o,u,d,p,v){super(),this.location=d,this._rootLView=p,this._tNode=v,this.instance=u,this.hostView=this.changeDetectorRef=new Qg(p),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[o])){const v=this._rootLView;vd(v[rn],v,p,o,u),qg($i(this._tNode.index,v))}}get injector(){return new Sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Vp(){const n=st();Ll(O()[rn],n)}function tm(n){let o=function Bp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),u=!0;const d=[n];for(;o;){let p;if(Xr(n))p=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new tt(903,!1);p=o.\u0275dir}if(p){if(u){d.push(p);const T=n;T.inputs=nm(n.inputs),T.declaredInputs=nm(n.declaredInputs),T.outputs=nm(n.outputs);const x=p.hostBindings;x&&m_(n,x);const H=p.viewQuery,J=p.contentQueries;if(H&&p_(n,H),J&&g_(n,J),ie(n.inputs,p.inputs),ie(n.declaredInputs,p.declaredInputs),ie(n.outputs,p.outputs),Xr(p)&&p.data.animation){const de=n.data;de.animation=(de.animation||[]).concat(p.data.animation)}}const v=p.features;if(v)for(let T=0;T<v.length;T++){const x=v[T];x&&x.ngInherit&&x(n),x===tm&&(u=!1)}}o=Object.getPrototypeOf(o)}!function fv(n){let o=0,u=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=o+=p.hostVars,p.hostAttrs=Wt(p.hostAttrs,u=Wt(u,p.hostAttrs))}}(d)}function nm(n){return n===Je?{}:n===Vt?[]:n}function p_(n,o){const u=n.viewQuery;n.viewQuery=u?(d,p)=>{o(d,p),u(d,p)}:o}function g_(n,o){const u=n.contentQueries;n.contentQueries=u?(d,p,v)=>{o(d,p,v),u(d,p,v)}:o}function m_(n,o){const u=n.hostBindings;n.hostBindings=u?(d,p)=>{o(d,p),u(d,p)}:o}function Hp(n){return!!jp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function jp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xl(n,o,u){return n[o]=u}function kc(n,o){return n[o]}function Ro(n,o,u){return!Object.is(n[o],u)&&(n[o]=u,!0)}function eu(n,o,u,d){const p=Ro(n,o,u);return Ro(n,o+1,d)||p}function $p(n,o,u,d,p){const v=eu(n,o,u,d);return Ro(n,o+2,p)||v}function Ya(n,o,u,d,p,v){const T=eu(n,o,u,d);return eu(n,o+2,p,v)||T}function Yu(n,o,u,d){const p=O();return Ro(p,Uo(),o)&&(B(),pa(or(),p,n,o,u,d)),Yu}function Qa(n,o,u,d){return Ro(n,Uo(),u)?o+Te(u)+d:tr}function Ja(n,o,u,d,p,v){const x=eu(n,function cs(){return Vn.lFrame.bindingIndex}(),u,p);return Vo(2),x?o+Te(u)+d+Te(p)+v:tr}function zp(n,o,u,d,p,v,T,x){const H=O(),J=B(),de=n+Ue,De=J.firstCreatePass?function Gp(n,o,u,d,p,v,T,x,H){const J=o.consts,de=mf(o,n,4,T||null,Zi(J,x));Wg(o,u,de,Zi(J,H)),Ll(o,de);const De=de.tView=r_(2,de,d,p,v,o.directiveRegistry,o.pipeRegistry,null,o.schemas,J);return null!==o.queries&&(o.queries.template(o,de),De.queries=o.queries.embeddedTView(de)),de}(de,J,H,o,u,d,p,v,T):J.data[de];ni(De,!1);const Ze=H[Gn].createComment("");Xd(J,H,Ze,De),to(Ze,H),bf(H,H[de]=Lp(Ze,H,Ze,De)),ko(De)&&yf(J,H,De),null!=T&&Gg(H,De,x)}function Uc(n){return ys(function xs(){return Vn.lFrame.contextLView}(),Ue+n)}function Of(n,o,u){const d=O();return Ro(d,Uo(),o)&&zs(B(),or(),d,n,o,d[Gn],u,!1),Of}function am(n,o,u,d,p){const T=p?"class":"style";vd(n,u,o.inputs[T],T,d)}function Qu(n,o,u,d){const p=O(),v=B(),T=Ue+n,x=p[Gn],H=v.firstCreatePass?function Wp(n,o,u,d,p,v){const T=o.consts,H=mf(o,n,2,d,Zi(T,p));return Wg(o,u,H,Zi(T,v)),null!==H.attrs&&Ed(H,H.attrs,!1),null!==H.mergedAttrs&&Ed(H,H.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,H),H}(T,v,p,o,u,d):v.data[T],J=p[T]=Kd(x,o,function qs(){return Vn.lFrame.currentNamespace}()),de=ko(H);return ni(H,!0),Yh(x,J,H),32!=(32&H.flags)&&Xd(v,p,J,H),0===function wo(){return Vn.lFrame.elementDepthCount}()&&to(J,p),function Co(){Vn.lFrame.elementDepthCount++}(),de&&(yf(v,p,H),Ch(v,H,p)),null!==d&&Gg(p,H),Qu}function Cd(){let n=st();Rs()?pi():(n=n.parent,ni(n,!1));const o=n;!function fo(){Vn.lFrame.elementDepthCount--}();const u=B();return u.firstCreatePass&&(Ll(u,n),Ji(n)&&u.queries.elementEnd(n)),null!=o.classesWithoutHost&&function Ct(n){return 0!=(8&n.flags)}(o)&&am(u,o,O(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ln(n){return 0!=(16&n.flags)}(o)&&am(u,o,O(),o.stylesWithoutHost,!1),Cd}function Ju(n,o,u,d){return Qu(n,o,u,d),Cd(),Ju}function Vc(n,o,u){const d=O(),p=B(),v=n+Ue,T=p.firstCreatePass?function lm(n,o,u,d,p){const v=o.consts,T=Zi(v,d),x=mf(o,n,8,"ng-container",T);return null!==T&&Ed(x,T,!0),Wg(o,u,x,Zi(v,p)),null!==o.queries&&o.queries.elementStart(o,x),x}(v,p,d,o,u):p.data[v];ni(T,!0);const x=d[v]=d[Gn].createComment("");return Xd(p,d,x,T),to(x,d),ko(T)&&(yf(p,d,T),Ch(p,T,d)),null!=u&&Gg(d,T),Vc}function um(){let n=st();const o=B();return Rs()?pi():(n=n.parent,ni(n,!1)),o.firstCreatePass&&(Ll(o,n),Ji(n)&&o.queries.elementEnd(n)),um}function Sh(n,o,u){return Vc(n,o,u),um(),Sh}function Iy(){return O()}function I_(n){return!!n&&"function"==typeof n.then}function Kp(n){return!!n&&"function"==typeof n.subscribe}const kf=Kp;function Dh(n,o,u,d){const p=O(),v=B(),T=st();return function dm(n,o,u,d,p,v,T){const x=ko(d),J=n.firstCreatePass&&Ih(n),de=o[sr],De=Zg(o);let Ze=!0;if(3&d.type||T){const en=ji(d,o),wn=T?T(en):en,Pn=De.length,rr=T?wr=>T(ti(wr[d.index])):d.index;let Kt=null;if(!T&&x&&(Kt=function T_(n,o,u,d){const p=n.cleanup;if(null!=p)for(let v=0;v<p.length-1;v+=2){const T=p[v];if(T===u&&p[v+1]===d){const x=o[Ri],H=p[v+2];return x.length>H?x[H]:null}"string"==typeof T&&(v+=2)}return null}(n,o,p,d.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=v,Kt.__ngLastListenerFn__=v,Ze=!1;else{v=Lf(d,o,de,v,!1);const wr=u.listen(wn,p,v);De.push(v,wr),J&&J.push(p,rr,Pn,Pn+1)}}else v=Lf(d,o,de,v,!1);const ft=d.outputs;let kt;if(Ze&&null!==ft&&(kt=ft[p])){const en=kt.length;if(en)for(let wn=0;wn<en;wn+=2){const yo=o[kt[wn]][kt[wn+1]].subscribe(v),ma=De.length;De.push(v,yo),J&&J.push(p,d.index,ma,-(ma+1))}}}(v,p,p[Gn],T,n,o,d),Dh}function hm(n,o,u,d){try{return _r(6,o,u),!1!==u(d)}catch(p){return Yg(n,p),!1}finally{_r(7,o,u)}}function Lf(n,o,u,d,p){return function v(T){if(T===Function)return d;qg(n.componentOffset>-1?$i(n.index,o):o);let H=hm(o,u,d,T),J=v.__ngNextListenerFn__;for(;J;)H=hm(o,u,J,T)&&H,J=J.__ngNextListenerFn__;return p&&!1===H&&(T.preventDefault(),T.returnValue=!1),H}}function Ff(n=1){return function rl(n){return(Vn.lFrame.contextLView=function ba(n,o){for(;n>0;)o=o[jr],n--;return o}(n,Vn.lFrame.contextLView))[sr]}(n)}function fm(n,o){let u=null;const d=function uy(n){const o=n.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(n);for(let p=0;p<o.length;p++){const v=o[p];if("*"!==v){if(null===d?ly(n,v,!0):xr(d,v))return p}else u=p}return u}function Ah(n){const o=O()[Jr][hi];if(!o.projection){const d=o.projection=Hs(n?n.length:1,null),p=d.slice();let v=o.child;for(;null!==v;){const T=n?fm(v,n):0;null!==T&&(p[T]?p[T].projectionNext=v:d[T]=v,p[T]=v),v=v.next}}}function Uf(n,o=0,u){const d=O(),p=B(),v=mf(p,Ue+n,16,null,u||null);null===v.projection&&(v.projection=o),pi(),32!=(32&v.flags)&&function Xc(n,o,u){Hu(o[Gn],0,o,u,Bu(n,u,o),Qd(u.parent||o[hi],u,o))}(p,d,v)}function Su(n,o,u){return Mh(n,"",o,"",u),Su}function Mh(n,o,u,d,p){const v=O(),T=Qa(v,o,u,d);return T!==tr&&zs(B(),or(),v,n,T,v[Gn],p,!1),Mh}function mm(n,o){return n<<17|o<<2}function Id(n){return n>>17&32767}function Zp(n){return 2|n}function Bc(n){return(131068&n)>>2}function Td(n,o){return-131069&n|o<<2}function Sd(n){return 1|n}function Xu(n,o,u,d,p){const v=n[u+1],T=null===o;let x=d?Id(v):Bc(v),H=!1;for(;0!==x&&(!1===H||T);){const de=n[x+1];Sy(n[x],o)&&(H=!0,n[x+1]=d?Sd(de):Zp(de)),x=d?Id(de):Bc(de)}H&&(n[u+1]=d?Zp(v):Sd(v))}function Sy(n,o){return null===n||null==o||(Array.isArray(n)?n[1]:n)===o||!(!Array.isArray(n)||"string"!=typeof o)&&S(n,o)>=0}const Hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xo(n){return n.substring(Hn.key,Hn.keyEnd)}function ec(n){return n.substring(Hn.value,Hn.valueEnd)}function R_(n,o){const u=Hn.textEnd;return u===o?-1:(o=Hn.keyEnd=function x_(n,o,u){for(;o<u&&n.charCodeAt(o)>32;)o++;return o}(n,Hn.key=o,u),xh(n,o,u))}function vm(n,o){const u=Hn.textEnd;let d=Hn.key=xh(n,o,u);return u===d?-1:(d=Hn.keyEnd=function yv(n,o,u){let d;for(;o<u&&(45===(d=n.charCodeAt(o))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)o++;return o}(n,d,u),d=Dy(n,d,u),d=Hn.value=xh(n,d,u),d=Hn.valueEnd=function ns(n,o,u){let d=-1,p=-1,v=-1,T=o,x=T;for(;T<u;){const H=n.charCodeAt(T++);if(59===H)return x;34===H||39===H?x=T=Qp(n,H,T,u):o===T-4&&85===v&&82===p&&76===d&&40===H?x=T=Qp(n,41,T,u):H>32&&(x=T),v=p,p=d,d=-33&H}return x}(n,d,u),Dy(n,d,u))}function Em(n){Hn.key=0,Hn.keyEnd=0,Hn.value=0,Hn.valueEnd=0,Hn.textEnd=n.length}function xh(n,o,u){for(;o<u&&n.charCodeAt(o)<=32;)o++;return o}function Dy(n,o,u,d){return(o=xh(n,o,u))<u&&o++,o}function Qp(n,o,u,d){let p=-1,v=u;for(;v<d;){const T=n.charCodeAt(v++);if(T==o&&92!==p)return v;p=92==T&&92===p?0:T}throw new Error}function ws(n,o,u){return Au(n,o,u,!1),ws}function wm(n,o){return Au(n,o,null,!0),wm}function Rl(n){Mu(Dd,Cm,n,!1)}function Cm(n,o){for(let u=function Ra(n){return Em(n),vm(n,xh(n,0,Hn.textEnd))}(o);u>=0;u=vm(o,u))Dd(n,xo(o),ec(o))}function P_(n){Mu(Nh,tu,n,!0)}function tu(n,o){for(let u=function Yp(n){return Em(n),R_(n,xh(n,0,Hn.textEnd))}(o);u>=0;u=R_(o,u))zo(n,xo(o),!0)}function Au(n,o,u,d){const p=O(),v=B(),T=Vo(2);v.firstUpdatePass&&My(v,n,T,d),o!==tr&&Ro(p,T,o)&&Jp(v,v.data[ds()],p,p[Gn],n,p[T+1]=function Py(n,o){return null==n||""===n||("string"==typeof o?n+=o:"object"==typeof n&&(n=he(Ma(n)))),n}(o,u),d,T)}function Mu(n,o,u,d){const p=B(),v=Vo(2);p.firstUpdatePass&&My(p,null,v,d);const T=O();if(u!==tr&&Ro(T,v,u)){const x=p.data[ds()];if(Hf(x,d)&&!Ay(p,v)){let H=d?x.classesWithoutHost:x.stylesWithoutHost;null!==H&&(u=pe(H,u||"")),am(p,x,T,u,d)}else!function Bf(n,o,u,d,p,v,T,x){p===tr&&(p=Vt);let H=0,J=0,de=0<p.length?p[0]:null,De=0<v.length?v[0]:null;for(;null!==de||null!==De;){const Ze=H<p.length?p[H+1]:void 0,ft=J<v.length?v[J+1]:void 0;let en,kt=null;de===De?(H+=2,J+=2,Ze!==ft&&(kt=De,en=ft)):null===De||null!==de&&de<De?(H+=2,kt=de):(J+=2,kt=De,en=ft),null!==kt&&Jp(n,o,u,d,kt,en,T,x),de=H<p.length?p[H]:null,De=J<v.length?v[J]:null}}(p,x,T,T[Gn],T[v+1],T[v+1]=function ml(n,o,u){if(null==u||""===u)return Vt;const d=[],p=Ma(u);if(Array.isArray(p))for(let v=0;v<p.length;v++)n(d,p[v],!0);else if("object"==typeof p)for(const v in p)p.hasOwnProperty(v)&&n(d,v,p[v]);else"string"==typeof p&&o(d,p);return d}(n,o,u),d,v)}}function Ay(n,o){return o>=n.expandoStartIndex}function My(n,o,u,d){const p=n.data;if(null===p[u+1]){const v=p[ds()],T=Ay(n,u);Hf(v,d)&&null===o&&!T&&(o=!1),o=function vv(n,o,u,d){const p=function Ni(n){const o=Vn.lFrame.currentDirectiveIndex;return-1===o?null:n[o]}(n);let v=d?o.residualClasses:o.residualStyles;if(null===p)0===(d?o.classBindings:o.styleBindings)&&(u=gl(u=bm(null,n,o,u,d),o.attrs,d),v=null);else{const T=o.directiveStylingLast;if(-1===T||n[T]!==p)if(u=bm(p,n,o,u,d),null===v){let H=function Ev(n,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==Bc(d))return n[Id(d)]}(n,o,d);void 0!==H&&Array.isArray(H)&&(H=bm(null,n,o,H[1],d),H=gl(H,o.attrs,d),function Ry(n,o,u,d){n[Id(u?o.classBindings:o.styleBindings)]=d}(n,o,d,H))}else v=function Ph(n,o,u){let d;const p=o.directiveEnd;for(let v=1+o.directiveStylingLast;v<p;v++)d=gl(d,n[v].hostAttrs,u);return gl(d,o.attrs,u)}(n,o,d)}return void 0!==v&&(d?o.residualClasses=v:o.residualStyles=v),u}(p,v,o,d),function ym(n,o,u,d,p,v){let T=v?o.classBindings:o.styleBindings,x=Id(T),H=Bc(T);n[d]=u;let de,J=!1;if(Array.isArray(u)?(de=u[1],(null===de||S(u,de)>0)&&(J=!0)):de=u,p)if(0!==H){const Ze=Id(n[x+1]);n[d+1]=mm(Ze,x),0!==Ze&&(n[Ze+1]=Td(n[Ze+1],d)),n[x+1]=function _m(n,o){return 131071&n|o<<17}(n[x+1],d)}else n[d+1]=mm(x,0),0!==x&&(n[x+1]=Td(n[x+1],d)),x=d;else n[d+1]=mm(H,0),0===x?x=d:n[H+1]=Td(n[H+1],d),H=d;J&&(n[d+1]=Zp(n[d+1])),Xu(n,de,d,!0),Xu(n,de,d,!1),function Vf(n,o,u,d,p){const v=p?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof o&&S(v,o)>=0&&(u[d+1]=Sd(u[d+1]))}(o,de,n,d,v),T=mm(x,H),v?o.classBindings=T:o.styleBindings=T}(p,v,o,u,T,d)}}function bm(n,o,u,d,p){let v=null;const T=u.directiveEnd;let x=u.directiveStylingLast;for(-1===x?x=u.directiveStart:x++;x<T&&(v=o[x],d=gl(d,v.hostAttrs,p),v!==n);)x++;return null!==n&&(u.directiveStylingLast=x),d}function gl(n,o,u){const d=u?1:2;let p=-1;if(null!==o)for(let v=0;v<o.length;v++){const T=o[v];"number"==typeof T?p=T:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zo(n,T,!!u||o[++v]))}return void 0===n?null:n}function Dd(n,o,u){zo(n,o,Ma(u))}function Nh(n,o,u){const d=String(o);""!==d&&!d.includes(" ")&&zo(n,d,u)}function Jp(n,o,u,d,p,v,T,x){if(!(3&o.type))return;const H=n.data,J=H[x+1],de=function Du(n){return 1==(1&n)}(J)?xy(H,o,u,p,Bc(J),T):void 0;tc(de)||(tc(v)||function A_(n){return 2==(2&n)}(J)&&(v=xy(H,null,u,p,x,T)),function Ec(n,o,u,d,p){if(o)p?n.addClass(u,d):n.removeClass(u,d);else{let v=-1===d.indexOf("-")?void 0:Dl.DashCase;null==p?n.removeStyle(u,d,v):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),v|=Dl.Important),n.setStyle(u,d,p,v))}}(d,T,na(ds(),u),p,v))}function xy(n,o,u,d,p,v){const T=null===o;let x;for(;p>0;){const H=n[p],J=Array.isArray(H),de=J?H[1]:H,De=null===de;let Ze=u[p+1];Ze===tr&&(Ze=De?Vt:void 0);let ft=De?uc(Ze,d):de===d?Ze:void 0;if(J&&!tc(ft)&&(ft=uc(H,d)),tc(ft)&&(x=ft,T))return x;const kt=n[p+1];p=T?Id(kt):Bc(kt)}if(null!==o){let H=v?o.residualClasses:o.residualStyles;null!=H&&(x=uc(H,d))}return x}function tc(n){return void 0!==n}function Hf(n,o){return 0!=(n.flags&(o?8:16))}function N_(n,o=""){const u=O(),d=B(),p=n+Ue,v=d.firstCreatePass?mf(d,p,1,o,null):d.data[p],T=u[p]=function pu(n,o){return n.createText(o)}(u[Gn],o);Xd(d,u,T,v),ni(v,!1)}function nc(n){return rc("",n,""),nc}function rc(n,o,u){const d=O(),p=Qa(d,n,o,u);return p!==tr&&pl(d,ds(),p),rc}function Hc(n,o,u,d,p){const v=O(),T=Ja(v,n,o,u,d,p);return T!==tr&&pl(v,ds(),T),Hc}function Dm(n,o,u){Mu(zo,tu,Qa(O(),n,o,u),!0)}const Pd=void 0;var Fy=["en",[["a","p"],["AM","PM"],Pd],[["AM","PM"],Pd,Pd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pd,"{1} 'at' {0}",Pd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _l(n){const u=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let zf={};function Uy(n,o,u){"string"!=typeof o&&(u=o,o=n[jn.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),zf[o]=n,u&&(zf[o][jn.ExtraData]=u)}function Mm(n){const o=function Rm(n){return n.toLowerCase().replace(/_/g,"-")}(n);let u=B_(o);if(u)return u;const d=o.split("-")[0];if(u=B_(d),u)return u;if("en"===d)return Fy;throw new tt(701,!1)}function V_(n){return Mm(n)[jn.PluralCase]}function B_(n){return n in zf||(zf[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),zf[n]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const ig="en-US";let Wf=ig;function xe(n,o,u,d,p){if(n=me(n),Array.isArray(n))for(let v=0;v<n.length;v++)xe(n[v],o,u,d,p);else{const v=B(),T=O();let x=ql(n)?n:me(n.provide),H=Mg(n);const J=st(),de=1048575&J.providerIndexes,De=J.directiveStart,Ze=J.providerIndexes>>20;if(ql(n)||!n.multi){const ft=new Ie(H,p,md),kt=It(x,o,p?de:de+Ze,De);-1===kt?(si(Cl(J,T),v,x),Fe(v,n,o.length),o.push(x),J.directiveStart++,J.directiveEnd++,p&&(J.providerIndexes+=1048576),u.push(ft),T.push(ft)):(u[kt]=ft,T[kt]=ft)}else{const ft=It(x,o,de+Ze,De),kt=It(x,o,de,de+Ze),wn=kt>=0&&u[kt];if(p&&!wn||!p&&!(ft>=0&&u[ft])){si(Cl(J,T),v,x);const Pn=function nr(n,o,u,d,p){const v=new Ie(n,u,md);return v.multi=[],v.index=o,v.componentProviders=0,nt(v,p,d&&!u),v}(p?Xt:Pt,u.length,p,d,H);!p&&wn&&(u[kt].providerFactory=Pn),Fe(v,n,o.length,0),o.push(x),J.directiveStart++,J.directiveEnd++,p&&(J.providerIndexes+=1048576),u.push(Pn),T.push(Pn)}else Fe(v,n,ft>-1?ft:kt,nt(u[p?kt:ft],H,!p&&d));!p&&d&&wn&&u[kt].componentProviders++}}}function Fe(n,o,u,d){const p=ql(o),v=function ey(n){return!!n.useClass}(o);if(p||v){const H=(v?me(o.useClass):o).prototype.ngOnDestroy;if(H){const J=n.destroyHooks||(n.destroyHooks=[]);if(!p&&o.multi){const de=J.indexOf(u);-1===de?J.push(u,[d,H]):J[de+1].push(d,H)}else J.push(u,H)}}}function nt(n,o,u){return u&&n.componentProviders++,n.multi.push(o)-1}function It(n,o,u,d){for(let p=u;p<d;p++)if(o[p]===n)return p;return-1}function Pt(n,o,u,d){return Cn(this.multi,[])}function Xt(n,o,u,d){const p=this.multi;let v;if(this.providerFactory){const T=this.providerFactory.componentProviders,x=Do(u,u[rn],this.providerFactory.index,d);v=x.slice(0,T),Cn(p,v);for(let H=T;H<x.length;H++)v.push(x[H])}else v=[],Cn(p,v);return v}function Cn(n,o){for(let u=0;u<n.length;u++)o.push((0,n[u])());return o}function Pr(n,o=[]){return u=>{u.providersResolver=(d,p)=>function te(n,o,u){const d=B();if(d.firstCreatePass){const p=Xr(n);xe(u,d.data,d.blueprint,p,!0),xe(o,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,o)}}class lr{}class Nr{}function Pl(n,o){return new e(n,o??null)}class e extends lr{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jg(this);const d=Qr(o);this._bootstrapComponents=Qn(d.bootstrap),this._r3Injector=vp(o,u,[{provide:lr,useValue:this},{provide:ch,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class t extends Nr{constructor(o){super(),this.moduleType=o}create(o){return new e(this.moduleType,o)}}class a extends lr{constructor(o,u,d){super(),this.componentFactoryResolver=new Jg(this),this.instance=null;const p=new zm([...o,{provide:lr,useValue:this},{provide:ch,useValue:this.componentFactoryResolver}],u||fp(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function h(n,o,u=null){return new a(n,o,u).injector}let m=(()=>{class n{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=dp(0,u.type),p=d.length>0?h([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=_n({token:n,providedIn:"environment",factory:()=>new n($n(Dc))}),n})();function C(n){n.getStandaloneInjector=o=>o.get(m).getOrCreateStandaloneInjector(n)}function ru(n,o,u){const d=us()+n,p=O();return p[d]===tr?Xl(p,d,u?o.call(u):o()):kc(p,d)}function Xy(n,o,u,d){return function $E(n,o,u,d,p,v){const T=o+u;return Ro(n,T,p)?Xl(n,T+1,v?d.call(v,p):d(p)):jv(n,T+1)}(O(),us(),n,o,u,d)}function LE(n,o,u,d,p){return GE(O(),us(),n,o,u,d,p)}function FE(n,o,u,d,p,v){return zE(O(),us(),n,o,u,d,p,v)}function UE(n,o,u,d,p,v,T){return function WE(n,o,u,d,p,v,T,x,H){const J=o+u;return Ya(n,J,p,v,T,x)?Xl(n,J+4,H?d.call(H,p,v,T,x):d(p,v,T,x)):jv(n,J+4)}(O(),us(),n,o,u,d,p,v,T)}function VE(n,o,u,d,p,v,T,x){const H=us()+n,J=O(),de=Ya(J,H,u,d,p,v);return Ro(J,H+4,T)||de?Xl(J,H+5,x?o.call(x,u,d,p,v,T):o(u,d,p,v,T)):kc(J,H+5)}function BE(n,o,u,d,p,v,T,x,H){const J=us()+n,de=O(),De=Ya(de,J,u,d,p,v);return eu(de,J+4,T,x)||De?Xl(de,J+6,H?o.call(H,u,d,p,v,T,x):o(u,d,p,v,T,x)):kc(de,J+6)}function HE(n,o,u,d,p,v,T,x,H,J){const de=us()+n,De=O();let Ze=Ya(De,de,u,d,p,v);return $p(De,de+4,T,x,H)||Ze?Xl(De,de+7,J?o.call(J,u,d,p,v,T,x,H):o(u,d,p,v,T,x,H)):kc(De,de+7)}function jE(n,o,u,d){return function KE(n,o,u,d,p,v){let T=o+u,x=!1;for(let H=0;H<p.length;H++)Ro(n,T++,p[H])&&(x=!0);return x?Xl(n,T,d.apply(v,p)):jv(n,T)}(O(),us(),n,o,u,d)}function jv(n,o){const u=n[o];return u===tr?void 0:u}function GE(n,o,u,d,p,v,T){const x=o+u;return eu(n,x,p,v)?Xl(n,x+2,T?d.call(T,p,v):d(p,v)):jv(n,x+2)}function zE(n,o,u,d,p,v,T,x){const H=o+u;return $p(n,H,p,v,T)?Xl(n,H+3,x?d.call(x,p,v,T):d(p,v,T)):jv(n,H+3)}function qE(n,o){const u=B();let d;const p=n+Ue;u.firstCreatePass?(d=function ow(n,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(n===d.name)return d}}(o,u.pipeRegistry),u.data[p]=d,d.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(p,d.onDestroy)):d=u.data[p];const v=d.factory||(d.factory=cr(d.type)),T=Or(md);try{const x=So(!1),H=v();return So(x),function b_(n,o,u,d){u>=n.data.length&&(n.data[u]=null,n.blueprint[u]=null),o[u]=d}(u,O(),p,H),H}finally{Or(T)}}function ZE(n,o,u,d){const p=n+Ue,v=O(),T=ys(v,p);return $v(v,p)?GE(v,us(),o,T.transform,u,d,T):T.transform(u,d)}function YE(n,o,u,d,p){const v=n+Ue,T=O(),x=ys(T,v);return $v(T,v)?zE(T,us(),o,x.transform,u,d,p,x):x.transform(u,d,p)}function $v(n,o){return n[rn].data[o].pure}function cE(n){return o=>{setTimeout(n,void 0,o)}}const Jf=class cw extends _.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let p=o,v=u||(()=>null),T=d;if(o&&"object"==typeof o){const H=o;p=H.next?.bind(H),v=H.error?.bind(H),T=H.complete?.bind(H)}this.__isAsync&&(v=cE(v),p&&(p=cE(p)),T&&(T=cE(T)));const x=super.subscribe({next:p,error:v,complete:T});return o instanceof E.w0&&o.add(x),x}};function dw(){return this._results[Symbol.iterator]()}class dE{get changes(){return this._changes||(this._changes=new Jf)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=dE.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=dw)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const p=function Ns(n){return n.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Go(n,o,u){if(n.length!==o.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],v=o[d];if(u&&(p=u(p),v=u(v)),v!==p)return!1}return!0}(d._results,p,u))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gv=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();const hw=Gv,fw=class extends hw{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tView,p=xc(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);p[Ui]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[pr];return null!==T&&(p[pr]=T.createEmbeddedView(d)),Mp(d,p,o),new Sf(p)}};function pw(){return eE(st(),O())}function eE(n,o){return 4&n.type?new fw(o,n,dh(n,o)):null}let tE=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(){return XE(st(),O())}const mw=tE,QE=class extends mw{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return dh(this._hostTNode,this._hostLView)}get injector(){return new Sa(this._hostTNode,this._hostLView)}get parentInjector(){const o=er(this._hostTNode,this._hostLView);if(Mt(o)){const u=Ta(o,this._hostLView),d=ii(o);return new Sa(u[rn].data[d+8],u)}return new Sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=JE(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-kn}createEmbeddedView(o,u,d){let p,v;"number"==typeof d?p=d:null!=d&&(p=d.index,v=d.injector);const T=o.createEmbeddedView(u||{},v);return this.insert(T,p),T}createComponent(o,u,d,p,v){const T=o&&!function ja(n){return"function"==typeof n}(o);let x;if(T)x=u;else{const De=u||{};x=De.index,d=De.injector,p=De.projectableNodes,v=De.environmentInjector||De.ngModuleRef}const H=T?o:new Fp(Xn(o)),J=d||this.parentInjector;if(!v&&null==H.ngModule){const Ze=(T?J:this.parentInjector).get(Dc,null);Ze&&(v=Ze)}const de=H.create(J,p,void 0,v);return this.insert(de.hostView,x),de}insert(o,u){const d=o._lView,p=d[rn];if(function el(n){return Pi(n[Hr])}(d)){const de=this.indexOf(o);if(-1!==de)this.detach(de);else{const De=d[Hr],Ze=new QE(De,De[hi],De[Hr]);Ze.detach(Ze.indexOf(o))}}const v=this._adjustIndex(u),T=this._lContainer;!function Wh(n,o,u,d){const p=kn+d,v=u.length;d>0&&(u[p-1][Zn]=o),d<v-kn?(o[Zn]=u[p],Js(u,kn+d,o)):(u.push(o),o[Zn]=null),o[Hr]=u;const T=o[Ui];null!==T&&u!==T&&function qd(n,o){const u=n[Mn];o[Jr]!==o[Hr][Hr][Jr]&&(n[At]=!0),null===u?n[Mn]=[o]:u.push(o)}(T,o);const x=o[pr];null!==x&&x.insertView(n),o[An]|=64}(p,d,T,v);const x=Qc(v,T),H=d[Gn],J=Ka(H,T[$t]);return null!==J&&function gc(n,o,u,d,p,v){d[di]=p,d[hi]=o,vc(n,d,u,1,p,v)}(p,T[hi],H,d,J,x),o.attachToViewContainerRef(),Js(hE(T),v,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=JE(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=Yd(this._lContainer,u);d&&(Tl(hE(this._lContainer),u),mu(d[rn],d))}detach(o){const u=this._adjustIndex(o,-1),d=Yd(this._lContainer,u);return d&&null!=Tl(hE(this._lContainer),u)?new Sf(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function JE(n){return n[mn]}function hE(n){return n[mn]||(n[mn]=[])}function XE(n,o){let u;const d=o[n.index];if(Pi(d))u=d;else{let p;if(8&n.type)p=ti(d);else{const v=o[Gn];p=v.createComment("");const T=ji(n,o);Es(v,Ka(v,T),p,function mc(n,o){return n.nextSibling(o)}(v,T),!1)}o[n.index]=u=Lp(d,o,p,n),bf(o,u)}return new QE(u,n,o)}class fE{constructor(o){this.queryList=o,this.matches=null}clone(){return new fE(this.queryList)}setDirty(){this.queryList.setDirty()}}class pE{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,p=[];for(let v=0;v<d;v++){const T=u.getByIndex(v);p.push(this.queries[T.indexInDeclarationView].clone())}return new pE(p)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==u0(o,u).matches&&this.queries[u].setDirty()}}class e0{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class gE{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const p=null!==u?u.length:0,v=this.getByIndex(d).embeddedTView(o,p);v&&(v.indexInDeclarationView=d,null!==u?u.push(v):u=[v])}return null!==u?new gE(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class mE{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new mE(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const v=d[p];this.matchTNodeWithReadOption(o,u,_w(u,v)),this.matchTNodeWithReadOption(o,u,oi(u,o,v,!1,!1))}else d===Gv?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,oi(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===cd||p===tE||p===Gv&&4&u.type)this.addMatch(u.index,-2);else{const v=oi(u,o,p,!1,!1);null!==v&&this.addMatch(u.index,v)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function _w(n,o){const u=n.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function vw(n,o,u,d){return-1===u?function yw(n,o){return 11&n.type?dh(n,o):4&n.type?eE(n,o):null}(o,n):-2===u?function Ew(n,o,u){return u===cd?dh(o,n):u===Gv?eE(o,n):u===tE?XE(o,n):void 0}(n,o,d):Do(n,n[rn],u,o)}function t0(n,o,u,d){const p=o[pr].queries[d];if(null===p.matches){const v=n.data,T=u.matches,x=[];for(let H=0;H<T.length;H+=2){const J=T[H];x.push(J<0?null:vw(o,v[J],T[H+1],u.metadata.read))}p.matches=x}return p.matches}function _E(n,o,u,d){const p=n.queries.getByIndex(u),v=p.matches;if(null!==v){const T=t0(n,o,p,u);for(let x=0;x<v.length;x+=2){const H=v[x];if(H>0)d.push(T[x/2]);else{const J=v[x+1],de=o[-H];for(let De=kn;De<de.length;De++){const Ze=de[De];Ze[Ui]===Ze[Hr]&&_E(Ze[rn],Ze,J,d)}if(null!==de[Mn]){const De=de[Mn];for(let Ze=0;Ze<De.length;Ze++){const ft=De[Ze];_E(ft[rn],ft,J,d)}}}}}return d}function n0(n){const o=O(),u=B(),d=Bo();tl(d+1);const p=u0(u,d);if(n.dirty&&function ho(n){return 4==(4&n[An])}(o)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const v=p.crossesNgTemplate?_E(u,o,d,[]):t0(u,o,p,d);n.reset(v,Pg),n.notifyOnChanges()}return!0}return!1}function r0(n,o,u){const d=B();d.firstCreatePass&&(l0(d,new e0(n,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),a0(d,O(),o)}function s0(n,o,u,d){const p=B();if(p.firstCreatePass){const v=st();l0(p,new e0(o,u,d),v.index),function Cw(n,o){const u=n.contentQueries||(n.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(n.queries.length-1,o)}(p,n),2==(2&u)&&(p.staticContentQueries=!0)}a0(p,O(),u)}function o0(){return function ww(n,o){return n[pr].queries[o].queryList}(O(),Bo())}function a0(n,o,u){const d=new dE(4==(4&u));vf(n,o,d,d.destroy),null===o[pr]&&(o[pr]=new pE),o[pr].queries.push(new fE(d))}function l0(n,o,u){null===n.queries&&(n.queries=new gE),n.queries.track(new mE(o,u))}function u0(n,o){return n.queries.getByIndex(o)}function c0(n,o){return eE(n,o)}function yE(n){return!!Qr(n)}function rE(...n){}const A0=new Fr("Application Initializer");let iE=(()=>{class n{constructor(u){this.appInits=u,this.resolve=rE,this.reject=rE,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const v=this.appInits[p]();if(I_(v))u.push(v);else if(kf(v)){const T=new Promise((x,H)=>{v.subscribe({complete:x,error:H})});u.push(T)}}Promise.all(u).then(()=>{d()}).catch(p=>{this.reject(p)}),0===u.length&&d(),this.initialized=!0}}return n.\u0275fac=function(u){return new(u||n)($n(A0,8))},n.\u0275prov=_n({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M0=new Fr("AppId",{providedIn:"root",factory:function R0(){return`${bE()}${bE()}${bE()}`}});function bE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const x0=new Fr("Platform Initializer"),jw=new Fr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$w=new Fr("AnimationModuleType");let Gw=(()=>{class n{log(u){console.log(u)}warn(u){console.warn(u)}}return n.\u0275fac=function(u){return new(u||n)},n.\u0275prov=_n({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const sE=new Fr("LocaleId",{providedIn:"root",factory:()=>Tt(sE,qt.Optional|qt.SkipSelf)||function zw(){return typeof $localize<"u"&&$localize.locale||ig}()}),Ww=new Fr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kw{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let qw=(()=>{class n{compileModuleSync(u){return new t(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),v=Qn(Qr(u).declarations).reduce((T,x)=>{const H=Xn(x);return H&&T.push(new Fp(H)),T},[]);return new Kw(d,v)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return n.\u0275fac=function(u){return new(u||n)},n.\u0275prov=_n({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qw=(()=>Promise.resolve(0))();function IE(n){typeof Zone>"u"?Qw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ud{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jf(!1),this.onMicrotaskEmpty=new Jf(!1),this.onStable=new Jf(!1),this.onError=new Jf(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&u,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Jw(){let n=Sn.requestAnimationFrame,o=Sn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&o){const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function tC(n){const o=()=>{!function eC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,SE(n),n.isCheckStableRunning=!0,TE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),SE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,p,v,T,x)=>{try{return O0(n),u.invokeTask(p,v,T,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&o(),k0(n)}},onInvoke:(u,d,p,v,T,x,H)=>{try{return O0(n),u.invoke(p,v,T,x,H)}finally{n.shouldCoalesceRunChangeDetection&&o(),k0(n)}},onHasTask:(u,d,p,v)=>{u.hasTask(p,v),d===p&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,SE(n),TE(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(u,d,p,v)=>(u.handleError(p,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ud.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(Ud.isInAngularZone())throw new tt(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,p){const v=this._inner,T=v.scheduleEventTask("NgZoneEvent: "+p,o,Xw,rE,rE);try{return v.runTask(T,u,d)}finally{v.cancelTask(T)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const Xw={};function TE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function SE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function O0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function k0(n){n._nesting--,TE(n)}class nC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jf,this.onMicrotaskEmpty=new Jf,this.onStable=new Jf,this.onError=new Jf}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,p){return o.apply(u,d)}}const L0=new Fr(""),F0=new Fr("");let DE,rC=(()=>{class n{constructor(u,d,p){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,DE||(function iC(n){DE=n}(p),p.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ud.assertNotInAngularZone(),IE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())IE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,p){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==v),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:v,updateCb:p})}whenStable(u,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,p){return[]}}return n.\u0275fac=function(u){return new(u||n)($n(Ud),$n(U0),$n(F0))},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})(),U0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return DE?.findTestabilityInTree(this,u,d)??null}}return n.\u0275fac=function(u){return new(u||n)},n.\u0275prov=_n({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const cg=!1;let Fm=null;const V0=new Fr("AllowMultipleToken"),AE=new Fr("PlatformDestroyListeners"),B0=new Fr("appBootstrapListener");class aC{constructor(o,u){this.name=o,this.token=u}}function j0(n,o,u=[]){const d=`Platform: ${o}`,p=new Fr(d);return(v=[])=>{let T=ME();if(!T||T.injector.get(V0,!1)){const x=[...u,...v,{provide:p,useValue:!0}];n?n(x):function lC(n){if(Fm&&!Fm.get(V0,!1))throw new tt(400,!1);Fm=n;const o=n.get(G0);(function H0(n){const o=n.get(x0,null);o&&o.forEach(u=>u())})(n)}(function $0(n=[],o){return Eu.create({name:o,providers:[{provide:hp,useValue:"platform"},{provide:AE,useValue:new Set([()=>Fm=null])},...n]})}(x,d))}return function cC(n){const o=ME();if(!o)throw new tt(401,!1);return o}()}}function ME(){return Fm?.get(G0)??null}let G0=(()=>{class n{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const p=function W0(n,o){let u;return u="noop"===n?new nC:("zone.js"===n?void 0:n)||new Ud(o),u}(d?.ngZone,function z0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(d)),v=[{provide:Ud,useValue:p}];return p.run(()=>{const T=Eu.create({providers:v,parent:this.injector,name:u.moduleType.name}),x=u.create(T),H=x.injector.get(Gr,null);if(!H)throw new tt(402,!1);return p.runOutsideAngular(()=>{const J=p.onError.subscribe({next:de=>{H.handleError(de)}});x.onDestroy(()=>{aE(this._modules,x),J.unsubscribe()})}),function K0(n,o,u){try{const d=u();return I_(d)?d.catch(p=>{throw o.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw o.runOutsideAngular(()=>n.handleError(d)),d}}(H,p,()=>{const J=x.injector.get(iE);return J.runInitializers(),J.donePromise.then(()=>(function jc(n){Ot(n,"Expected localeId to be defined"),"string"==typeof n&&(Wf=n.toLowerCase().replace(/_/g,"-"))}(x.injector.get(sE,ig)||ig),this._moduleDoBootstrap(x),x))})})}bootstrapModule(u,d=[]){const p=q0({},d);return function sC(n,o,u){const d=new t(u);return Promise.resolve(d)}(0,0,u).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(u){const d=u.injector.get(oE);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new tt(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(AE,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(u){return new(u||n)($n(Eu))},n.\u0275prov=_n({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function q0(n,o){return Array.isArray(o)?o.reduce(q0,n):{...n,...o}}let oE=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,p){this._zone=u,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new Z.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),T=new Z.y(x=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{Ud.assertNotInAngularZone(),IE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const J=this._zone.onUnstable.subscribe(()=>{Ud.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{H.unsubscribe(),J.unsubscribe()}});this.isStable=(0,_e.T)(v,T.pipe((0,K.B)()))}bootstrap(u,d){const p=u instanceof Ac;if(!this._injector.get(iE).done){!p&&Is(u);throw new tt(405,cg)}let T;T=p?u:this._injector.get(ch).resolveComponentFactory(u),this.componentTypes.push(T.componentType);const x=function oC(n){return n.isBoundToModule}(T)?void 0:this._injector.get(lr),J=T.create(Eu.NULL,[],d||T.selector,x),de=J.location.nativeElement,De=J.injector.get(L0,null);return De?.registerApplication(de),J.onDestroy(()=>{this.detachView(J.hostView),aE(this.components,J),De?.unregisterApplication(de)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;aE(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(B0,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>aE(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new tt(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(u){return new(u||n)($n(Ud),$n(Dc),$n(Gr))},n.\u0275prov=_n({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aE(n,o){const u=n.indexOf(o);u>-1&&n.splice(u,1)}function hC(){return!1}function fC(){}let pC=(()=>{class n{}return n.__NG_ELEMENT_ID__=gC,n})();function gC(n){return function mC(n,o,u){if(Bi(n)&&!u){const d=$i(n.index,o);return new Sf(d,d)}return 47&n.type?new Sf(o[Jr],o):null}(st(),O(),16==(16&n))}class X0{constructor(){}supports(o){return Hp(o)}create(o){return new CC(o)}}const wC=(n,o)=>o;class CC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||wC}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,p=0,v=null;for(;u||d;){const T=!d||u&&u.currentIndex<tw(d,p,v)?u:d,x=tw(T,p,v),H=T.currentIndex;if(T===d)p--,d=d._nextRemoved;else if(u=u._next,null==T.previousIndex)p++;else{v||(v=[]);const J=x-p,de=H-p;if(J!=de){for(let Ze=0;Ze<J;Ze++){const ft=Ze<v.length?v[Ze]:v[Ze]=0,kt=ft+Ze;de<=kt&&kt<J&&(v[Ze]=ft+1)}v[T.previousIndex]=de-J}}x!==H&&o(T,x,H)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Hp(o))throw new tt(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let p,v,T,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let x=0;x<this.length;x++)v=o[x],T=this._trackByFn(x,v),null!==u&&Object.is(u.trackById,T)?(d&&(u=this._verifyReinsertion(u,v,T,x)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,T,x),d=!0),u=u._next}else p=0,function Cy(n,o){if(Array.isArray(n))for(let u=0;u<n.length;u++)o(n[u]);else{const u=n[Symbol.iterator]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,x=>{T=this._trackByFn(p,x),null!==u&&Object.is(u.trackById,T)?(d&&(u=this._verifyReinsertion(u,x,T,p)),Object.is(u.item,x)||this._addIdentityChange(u,x)):(u=this._mismatch(u,x,T,p),d=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,p){let v;return null===o?v=this._itTail:(v=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,v,p)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,v,p)):o=this._addAfter(new bC(u,d),v,p),o}_verifyReinsertion(o,u,d,p){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?o=this._reinsertAfter(v,o._prev,p):o.currentIndex!=p&&(o.currentIndex=p,this._addToMoves(o,p)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const p=o._prevRemoved,v=o._nextRemoved;return null===p?this._removalsHead=v:p._nextRemoved=v,null===v?this._removalsTail=p:v._prevRemoved=p,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const p=null===u?this._itHead:u._next;return o._next=p,o._prev=u,null===p?this._itTail=o:p._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new ew),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ew),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bC{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class ew{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new IC,this.map.set(u,d)),d.add(o)}get(o,u){const p=this.map.get(o);return p?p.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tw(n,o,u){const d=n.previousIndex;if(null===d)return d;let p=0;return u&&d<u.length&&(p=u[d]),d+o+p}class nw{constructor(){}supports(o){return o instanceof Map||jp(o)}create(){return new TC}}class TC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||jp(o)))throw new tt(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const v=this._getOrCreateRecordForKey(p,d);u=this._insertBeforeOrAppend(u,v)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const p=this._records.get(o);this._maybeAddToChanges(p,u);const v=p._prev,T=p._next;return v&&(v._next=T),T&&(T._prev=v),p._next=null,p._prev=null,p}const d=new SC(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class SC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rw(){return new OE([new X0])}let OE=(()=>{class n{constructor(u){this.factories=u}static create(u,d){if(null!=d){const p=d.factories.slice();u=u.concat(p)}return new n(u)}static extend(u){return{provide:n,useFactory:d=>n.create(u,d||rw()),deps:[[n,new Xs,new gi]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(null!=d)return d;throw new tt(901,!1)}}return n.\u0275prov=_n({token:n,providedIn:"root",factory:rw}),n})();function iw(){return new kE([new nw])}let kE=(()=>{class n{constructor(u){this.factories=u}static create(u,d){if(d){const p=d.factories.slice();u=u.concat(p)}return new n(u)}static extend(u){return{provide:n,useFactory:d=>n.create(u,d||iw()),deps:[[n,new Xs,new gi]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(d)return d;throw new tt(901,!1)}}return n.\u0275prov=_n({token:n,providedIn:"root",factory:iw}),n})();const MC=j0(null,"core",[]);let RC=(()=>{class n{constructor(u){}}return n.\u0275fac=function(u){return new(u||n)($n(oE))},n.\u0275mod=bs({type:n}),n.\u0275inj=xn({}),n})();function xC(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Gt,qe,U)=>{U.d(qe,{Fj:()=>Ve,CE:()=>oo,qu:()=>wo,u:()=>ao,sg:()=>so,x0:()=>Xo,u5:()=>sa,nD:()=>ys,qQ:()=>Ms,JU:()=>ze,a5:()=>li,JJ:()=>Sn,JL:()=>zn,On:()=>Mn,wV:()=>Wr,UX:()=>bo,Q7:()=>co,kI:()=>pt,_Y:()=>kn});var _=U(4650),E=U(6895),Z=U(8996),_e=U(9751),K=U(4742),Y=U(8421),ie=U(3269),he=U(5403),pe=U(3268),ee=U(1810),me=U(4004);let ke=(()=>{class O{constructor(F,ue){this._renderer=F,this._elementRef=ue,this.onChange=st=>{},this.onTouched=()=>{}}setProperty(F,ue){this._renderer.setProperty(this._elementRef.nativeElement,F,ue)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return O.\u0275fac=function(F){return new(F||O)(_.Y36(_.Qsj),_.Y36(_.SBq))},O.\u0275dir=_.lG2({type:O}),O})(),Ge=(()=>{class O extends ke{}return O.\u0275fac=function(){let B;return function(ue){return(B||(B=_.n5z(O)))(ue||O)}}(),O.\u0275dir=_.lG2({type:O,features:[_.qOj]}),O})();const ze=new _.OlP("NgValueAccessor"),Xe={provide:ze,useExisting:(0,_.Gpc)(()=>Ve),multi:!0},Ye=new _.OlP("CompositionEventMode");let Ve=(()=>{class O extends ke{constructor(F,ue,st){super(F,ue),this._compositionMode=st,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Te(){const O=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return O.\u0275fac=function(F){return new(F||O)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Ye,8))},O.\u0275dir=_.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,ue){1&F&&_.NdJ("input",function(cn){return ue._handleInput(cn.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(cn){return ue._compositionEnd(cn.target.value)})},features:[_._Bn([Xe]),_.qOj]}),O})();const k=!1;function ye(O){return null==O||("string"==typeof O||Array.isArray(O))&&0===O.length}function be(O){return null!=O&&"number"==typeof O.length}const Me=new _.OlP("NgValidators"),Ce=new _.OlP("NgAsyncValidators"),Re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pt{static min(B){return bt(B)}static max(B){return function Bt(O){return B=>{if(ye(B.value)||ye(O))return null;const F=parseFloat(B.value);return!isNaN(F)&&F>O?{max:{max:O,actual:B.value}}:null}}(B)}static required(B){return Ht(B)}static requiredTrue(B){return function rt(O){return!0===O.value?null:{required:!0}}(B)}static email(B){return function vt(O){return ye(O.value)||Re.test(O.value)?null:{email:!0}}(B)}static minLength(B){return function ot(O){return B=>ye(B.value)||!be(B.value)?null:B.value.length<O?{minlength:{requiredLength:O,actualLength:B.value.length}}:null}(B)}static maxLength(B){return ut(B)}static pattern(B){return function wt(O){if(!O)return yt;let B,F;return"string"==typeof O?(F="","^"!==O.charAt(0)&&(F+="^"),F+=O,"$"!==O.charAt(O.length-1)&&(F+="$"),B=new RegExp(F)):(F=O.toString(),B=O),ue=>{if(ye(ue.value))return null;const st=ue.value;return B.test(st)?null:{pattern:{requiredPattern:F,actualValue:st}}}}(B)}static nullValidator(B){return null}static compose(B){return Un(B)}static composeAsync(B){return ir(B)}}function bt(O){return B=>{if(ye(B.value)||ye(O))return null;const F=parseFloat(B.value);return!isNaN(F)&&F<O?{min:{min:O,actual:B.value}}:null}}function Ht(O){return ye(O.value)?{required:!0}:null}function ut(O){return B=>be(B.value)&&B.value.length>O?{maxlength:{requiredLength:O,actualLength:B.value.length}}:null}function yt(O){return null}function Ot(O){return null!=O}function Rt(O){const B=(0,_.QGY)(O)?(0,Z.D)(O):O;if(k&&!(0,_.CqO)(B)){let F="Expected async validator to return Promise or Observable.";throw"object"==typeof O&&(F+=" Are you using a synchronous validator where an async validator is expected?"),new _.vHH(-1101,F)}return B}function Zt(O){let B={};return O.forEach(F=>{B=null!=F?{...B,...F}:B}),0===Object.keys(B).length?null:B}function Ft(O,B){return B.map(F=>F(O))}function _n(O){return O.map(B=>function Tn(O){return!O.validate}(B)?B:F=>B.validate(F))}function Un(O){if(!O)return null;const B=O.filter(Ot);return 0==B.length?null:function(F){return Zt(Ft(F,B))}}function xn(O){return null!=O?Un(_n(O)):null}function ir(O){if(!O)return null;const B=O.filter(Ot);return 0==B.length?null:function(F){return function se(...O){const B=(0,ie.jO)(O),{args:F,keys:ue}=(0,K.D)(O),st=new _e.y(cn=>{const{length:yr}=F;if(!yr)return void cn.complete();const ni=new Array(yr);let Rs=yr,pi=yr;for(let xs=0;xs<yr;xs++){let Ci=!1;(0,Y.Xf)(F[xs]).subscribe((0,he.x)(cn,Io=>{Ci||(Ci=!0,pi--),ni[xs]=Io},()=>Rs--,void 0,()=>{(!Rs||!Ci)&&(pi||cn.next(ue?(0,ee.n)(ue,ni):ni),cn.complete())}))}});return B?st.pipe((0,pe.Z)(B)):st}(Ft(F,B).map(Rt)).pipe((0,me.U)(Zt))}}function Yn(O){return null!=O?ir(_n(O)):null}function Ur(O,B){return null===O?[B]:Array.isArray(O)?[...O,B]:[O,B]}function mr(O){return O._rawValidators}function gn(O){return O._rawAsyncValidators}function qn(O){return O?Array.isArray(O)?O:[O]:[]}function zr(O,B){return Array.isArray(O)?O.includes(B):O===B}function Dr(O,B){const F=qn(B);return qn(O).forEach(st=>{zr(F,st)||F.push(st)}),F}function Nn(O,B){return qn(B).filter(F=>!zr(O,F))}class qt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=xn(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=Yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B){this.control&&this.control.reset(B)}hasError(B,F){return!!this.control&&this.control.hasError(B,F)}getError(B,F){return this.control?this.control.getError(B,F):null}}class Dn extends qt{get formDirective(){return null}get path(){return null}}class li extends qt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Or{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sn=(()=>{class O extends Or{constructor(F){super(F)}}return O.\u0275fac=function(F){return new(F||O)(_.Y36(li,2))},O.\u0275dir=_.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,ue){2&F&&_.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[_.qOj]}),O})(),zn=(()=>{class O extends Or{constructor(F){super(F)}}return O.\u0275fac=function(F){return new(F||O)(_.Y36(Dn,10))},O.\u0275dir=_.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,ue){2&F&&_.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)("ng-submitted",ue.isSubmitted)},features:[_.qOj]}),O})();function nn(O,B){return O?`with name: '${B}'`:`at index: ${B}`}const Pe=!1,St="VALID",Et="INVALID",ve="PENDING",Ee="DISABLED";function Oe(O){return(Le(O)?O.validators:O)||null}function Je(O,B){return(Le(B)?B.asyncValidators:O)||null}function Le(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}function Ne(O,B,F){const ue=O.controls;if(!(B?Object.keys(ue):ue).length)throw new _.vHH(1e3,Pe?function Tt(O){return`\n    There are no form controls registered with this ${O?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(B):"");if(!ue[F])throw new _.vHH(1001,Pe?function We(O,B){return`Cannot find form control ${nn(O,B)}`}(B,F):"")}function fe(O,B,F){O._forEachChild((ue,st)=>{if(void 0===F[st])throw new _.vHH(1002,Pe?function Se(O,B){return`Must supply a value for form control ${nn(O,B)}`}(B,st):"")})}class He{constructor(B,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(B),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===St}get invalid(){return this.status===Et}get pending(){return this.status==ve}get disabled(){return this.status===Ee}get enabled(){return this.status!==Ee}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._assignValidators(B)}setAsyncValidators(B){this._assignAsyncValidators(B)}addValidators(B){this.setValidators(Dr(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(Dr(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(Nn(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(Nn(B,this._rawAsyncValidators))}hasValidator(B){return zr(this._rawValidators,B)}hasAsyncValidator(B){return zr(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=ve,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const F=this._parentMarkedDirty(B.onlySelf);this.status=Ee,this.errors=null,this._forEachChild(ue=>{ue.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:F}),this._onDisabledChange.forEach(ue=>ue(!0))}enable(B={}){const F=this._parentMarkedDirty(B.onlySelf);this.status=St,this._forEachChild(ue=>{ue.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:F}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===St||this.status===ve)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ee:St}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=ve,this._hasOwnPendingAsyncValidator=!0;const F=Rt(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,F={}){this.errors=B,this._updateControlsErrors(!1!==F.emitEvent)}get(B){let F=B;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((ue,st)=>ue&&ue._find(st),this)}getError(B,F){const ue=F?this.get(F):this;return ue&&ue.errors?ue.errors[B]:null}hasError(B,F){return!!this.getError(B,F)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Ee:this.errors?Et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ve)?ve:this._anyControlsHaveStatus(Et)?Et:St}_anyControlsHaveStatus(B){return this._anyControls(F=>F.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Le(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}_assignValidators(B){this._rawValidators=Array.isArray(B)?B.slice():B,this._composedValidatorFn=function at(O){return Array.isArray(O)?xn(O):O||null}(this._rawValidators)}_assignAsyncValidators(B){this._rawAsyncValidators=Array.isArray(B)?B.slice():B,this._composedAsyncValidatorFn=function Vt(O){return Array.isArray(O)?Yn(O):O||null}(this._rawAsyncValidators)}}class gt extends He{constructor(B,F,ue){super(Oe(F),Je(ue,F)),this.controls=B,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,F){return this.controls[B]?this.controls[B]:(this.controls[B]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(B,F,ue={}){this.registerControl(B,F),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl(B,F={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(B,F,ue={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],F&&this.registerControl(B,F),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,F={}){fe(this,!0,B),Object.keys(B).forEach(ue=>{Ne(this,!0,ue),this.controls[ue].setValue(B[ue],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(B,F={}){null!=B&&(Object.keys(B).forEach(ue=>{const st=this.controls[ue];st&&st.patchValue(B[ue],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(B={},F={}){this._forEachChild((ue,st)=>{ue.reset(B[st],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(B,F,ue)=>(B[ue]=F.getRawValue(),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(F,ue)=>!!ue._syncPendingControls()||F);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(F=>{const ue=this.controls[F];ue&&B(ue,F)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const[F,ue]of Object.entries(this.controls))if(this.contains(F)&&B(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,ue,st)=>((ue.enabled||this.disabled)&&(F[st]=ue.value),F))}_reduceChildren(B,F){let ue=B;return this._forEachChild((st,cn)=>{ue=F(ue,st,cn)}),ue}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(B){return this.controls.hasOwnProperty(B)?this.controls[B]:null}}class hn extends gt{}const Ai=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Li}),Li="always";function bs(O,B){return[...B.path,O]}function is(O,B,F=Li){Xn(O,B),B.valueAccessor.writeValue(O.value),(O.disabled||"always"===F)&&B.valueAccessor.setDisabledState?.(O.disabled),function Si(O,B){B.valueAccessor.registerOnChange(F=>{O._pendingValue=F,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&Qr(O,B)})}(O,B),function No(O,B){const F=(ue,st)=>{B.valueAccessor.writeValue(ue),st&&B.viewToModelUpdate(ue)};O.registerOnChange(F),B._registerOnDestroy(()=>{O._unregisterOnChange(F)})}(O,B),function Is(O,B){B.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&Qr(O,B),"submit"!==O.updateOn&&O.markAsTouched()})}(O,B),function gs(O,B){if(B.valueAccessor.setDisabledState){const F=ue=>{B.valueAccessor.setDisabledState(ue)};O.registerOnDisabledChange(F),B._registerOnDestroy(()=>{O._unregisterOnDisabledChange(F)})}}(O,B)}function Po(O,B,F=!0){const ue=()=>{};B.valueAccessor&&(B.valueAccessor.registerOnChange(ue),B.valueAccessor.registerOnTouched(ue)),kr(O,B),O&&(B._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function Fi(O,B){O.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(B)})}function Xn(O,B){const F=mr(O);null!==B.validator?O.setValidators(Ur(F,B.validator)):"function"==typeof F&&O.setValidators([F]);const ue=gn(O);null!==B.asyncValidator?O.setAsyncValidators(Ur(ue,B.asyncValidator)):"function"==typeof ue&&O.setAsyncValidators([ue]);const st=()=>O.updateValueAndValidity();Fi(B._rawValidators,st),Fi(B._rawAsyncValidators,st)}function kr(O,B){let F=!1;if(null!==O){if(null!==B.validator){const st=mr(O);if(Array.isArray(st)&&st.length>0){const cn=st.filter(yr=>yr!==B.validator);cn.length!==st.length&&(F=!0,O.setValidators(cn))}}if(null!==B.asyncValidator){const st=gn(O);if(Array.isArray(st)&&st.length>0){const cn=st.filter(yr=>yr!==B.asyncValidator);cn.length!==st.length&&(F=!0,O.setAsyncValidators(cn))}}}const ue=()=>{};return Fi(B._rawValidators,ue),Fi(B._rawAsyncValidators,ue),F}function Qr(O,B){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function Mi(O,B){if(!O.hasOwnProperty("model"))return!1;const F=O.model;return!!F.isFirstChange()||!Object.is(B,F.currentValue)}function sr(O,B){if(!B)return null;let F,ue,st;return Array.isArray(B),B.forEach(cn=>{cn.constructor===Ve?F=cn:function hi(O){return Object.getPrototypeOf(O.constructor)===Ge}(cn)?ue=cn:st=cn}),st||ue||F||null}function Qi(O,B){const F=O.indexOf(B);F>-1&&O.splice(F,1)}function jr(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}const Jr=class extends He{constructor(B=null,F,ue){super(Oe(F),Je(ue,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Le(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=jr(B)?B.value:B)}setValue(B,F={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(B,F={}){this.setValue(B,F)}reset(B=this.defaultValue,F={}){this._applyFormState(B),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){Qi(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){Qi(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){jr(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}};let pr=(()=>{class O extends Dn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return bs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return O.\u0275fac=function(){let B;return function(ue){return(B||(B=_.n5z(O)))(ue||O)}}(),O.\u0275dir=_.lG2({type:O,features:[_.qOj]}),O})();const $t={provide:li,useExisting:(0,_.Gpc)(()=>Mn)},mn=(()=>Promise.resolve())();let Mn=(()=>{class O extends li{constructor(F,ue,st,cn,yr,ni){super(),this._changeDetectorRef=yr,this.callSetDisabledState=ni,this.control=new Jr,this._registered=!1,this.update=new _.vpe,this._parent=F,this._setValidators(ue),this._setAsyncValidators(st),this.valueAccessor=sr(0,cn)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const ue=F.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),Mi(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){is(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){mn.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const ue=F.isDisabled.currentValue,st=0!==ue&&(0,_.D6c)(ue);mn.then(()=>{st&&!this.control.disabled?this.control.disable():!st&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?bs(F,this._parent):[F]}}return O.\u0275fac=function(F){return new(F||O)(_.Y36(Dn,9),_.Y36(Me,10),_.Y36(Ce,10),_.Y36(ze,10),_.Y36(_.sBO,8),_.Y36(Ai,8))},O.\u0275dir=_.lG2({type:O,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([$t]),_.qOj,_.TTD]}),O})(),kn=(()=>{class O{}return O.\u0275fac=function(F){return new(F||O)},O.\u0275dir=_.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})();const gr={provide:ze,useExisting:(0,_.Gpc)(()=>Wr),multi:!0};let Wr=(()=>{class O extends Ge{writeValue(F){this.setProperty("value",F??"")}registerOnChange(F){this.onChange=ue=>{F(""==ue?null:parseFloat(ue))}}}return O.\u0275fac=function(){let B;return function(ue){return(B||(B=_.n5z(O)))(ue||O)}}(),O.\u0275dir=_.lG2({type:O,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(F,ue){1&F&&_.NdJ("input",function(cn){return ue.onChange(cn.target.value)})("blur",function(){return ue.onTouched()})},features:[_._Bn([gr]),_.qOj]}),O})(),Bi=(()=>{class O{}return O.\u0275fac=function(F){return new(F||O)},O.\u0275mod=_.oAB({type:O}),O.\u0275inj=_.cJS({}),O})();const _a=new _.OlP("NgModelWithFormControlWarning"),io={provide:Dn,useExisting:(0,_.Gpc)(()=>so)};let so=(()=>{class O extends Dn{constructor(F,ue,st){super(),this.callSetDisabledState=st,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(F),this._setAsyncValidators(ue)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const ue=this.form.get(F.path);return is(ue,F,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),ue}getControl(F){return this.form.get(F.path)}removeControl(F){Po(F.control||null,F,!1),function Oo(O,B){const F=O.indexOf(B);F>-1&&O.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,ue){this.form.get(F.path).setValue(ue)}onSubmit(F){return this.submitted=!0,function Ri(O,B){O._syncPendingControls(),B.forEach(F=>{const ue=F.control;"submit"===ue.updateOn&&ue._pendingChange&&(F.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const ue=F.control,st=this.form.get(F.path);ue!==st&&(Po(ue||null,F),(O=>O instanceof Jr)(st)&&(is(st,F,this.callSetDisabledState),F.control=st))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const ue=this.form.get(F.path);(function ei(O,B){Xn(O,B)})(ue,F),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const ue=this.form.get(F.path);ue&&function Ts(O,B){return kr(O,B)}(ue,F)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xn(this.form,this),this._oldForm&&kr(this._oldForm,this)}_checkFormPresent(){}}return O.\u0275fac=function(F){return new(F||O)(_.Y36(Me,10),_.Y36(Ce,10),_.Y36(Ai,8))},O.\u0275dir=_.lG2({type:O,selectors:[["","formGroup",""]],hostBindings:function(F,ue){1&F&&_.NdJ("submit",function(cn){return ue.onSubmit(cn)})("reset",function(){return ue.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([io]),_.qOj,_.TTD]}),O})();const ya={provide:Dn,useExisting:(0,_.Gpc)(()=>Xo)};let Xo=(()=>{class O extends pr{constructor(F,ue,st){super(),this._parent=F,this._setValidators(ue),this._setAsyncValidators(st)}_checkParentType(){Ws(this._parent)}}return O.\u0275fac=function(F){return new(F||O)(_.Y36(Dn,13),_.Y36(Me,10),_.Y36(Ce,10))},O.\u0275dir=_.lG2({type:O,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[_._Bn([ya]),_.qOj]}),O})();const ss={provide:Dn,useExisting:(0,_.Gpc)(()=>oo)};let oo=(()=>{class O extends Dn{constructor(F,ue,st){super(),this._parent=F,this._setValidators(ue),this._setAsyncValidators(st)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return bs(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ws(this._parent)}}return O.\u0275fac=function(F){return new(F||O)(_.Y36(Dn,13),_.Y36(Me,10),_.Y36(Ce,10))},O.\u0275dir=_.lG2({type:O,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[_._Bn([ss]),_.qOj]}),O})();function Ws(O){return!(O instanceof Xo||O instanceof so||O instanceof oo)}const os={provide:li,useExisting:(0,_.Gpc)(()=>ao)};let ao=(()=>{class O extends li{set isDisabled(F){}constructor(F,ue,st,cn,yr){super(),this._ngModelWarningConfig=yr,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(ue),this._setAsyncValidators(st),this.valueAccessor=sr(0,cn)}ngOnChanges(F){this._added||this._setUpControl(),Mi(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return bs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return O._ngModelWarningSentOnce=!1,O.\u0275fac=function(F){return new(F||O)(_.Y36(Dn,13),_.Y36(Me,10),_.Y36(Ce,10),_.Y36(ze,10),_.Y36(_a,8))},O.\u0275dir=_.lG2({type:O,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([os]),_.qOj,_.TTD]}),O})();let lo=(()=>{class O{constructor(){this._validator=yt}ngOnChanges(F){if(this.inputName in F){const ue=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):yt,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}}return O.\u0275fac=function(F){return new(F||O)},O.\u0275dir=_.lG2({type:O,features:[_.TTD]}),O})();const Eo={provide:Me,useExisting:(0,_.Gpc)(()=>Ms),multi:!0};let Ms=(()=>{class O extends lo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=F=>function ls(O){return"number"==typeof O?O:parseFloat(O)}(F),this.createValidator=F=>bt(F)}}return O.\u0275fac=function(){let B;return function(ue){return(B||(B=_.n5z(O)))(ue||O)}}(),O.\u0275dir=_.lG2({type:O,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(F,ue){2&F&&_.uIk("min",ue._enabled?ue.min:null)},inputs:{min:"min"},features:[_._Bn([Eo]),_.qOj]}),O})();const _r={provide:Me,useExisting:(0,_.Gpc)(()=>co),multi:!0};let co=(()=>{class O extends lo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_.D6c,this.createValidator=F=>Ht}enabled(F){return F}}return O.\u0275fac=function(){let B;return function(ue){return(B||(B=_.n5z(O)))(ue||O)}}(),O.\u0275dir=_.lG2({type:O,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(F,ue){2&F&&_.uIk("required",ue._enabled?"":null)},inputs:{required:"required"},features:[_._Bn([_r]),_.qOj]}),O})();const La={provide:Me,useExisting:(0,_.Gpc)(()=>ys),multi:!0};let ys=(()=>{class O extends lo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=F=>function va(O){return"number"==typeof O?O:parseInt(O,10)}(F),this.createValidator=F=>ut(F)}}return O.\u0275fac=function(){let B;return function(ue){return(B||(B=_.n5z(O)))(ue||O)}}(),O.\u0275dir=_.lG2({type:O,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(F,ue){2&F&&_.uIk("maxlength",ue._enabled?ue.maxlength:null)},inputs:{maxlength:"maxlength"},features:[_._Bn([La]),_.qOj]}),O})(),Lo=(()=>{class O{}return O.\u0275fac=function(F){return new(F||O)},O.\u0275mod=_.oAB({type:O}),O.\u0275inj=_.cJS({imports:[Bi]}),O})();class ia extends He{constructor(B,F,ue){super(Oe(F),Je(ue,F)),this.controls=B,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(B){return this.controls[this._adjustIndex(B)]}push(B,F={}){this.controls.push(B),this._registerControl(B),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(B,F,ue={}){this.controls.splice(B,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt(B,F={}){let ue=this._adjustIndex(B);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(B,F,ue={}){let st=this._adjustIndex(B);st<0&&(st=0),this.controls[st]&&this.controls[st]._registerOnCollectionChange(()=>{}),this.controls.splice(st,1),F&&(this.controls.splice(st,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(B,F={}){fe(this,!1,B),B.forEach((ue,st)=>{Ne(this,!1,st),this.at(st).setValue(ue,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(B,F={}){null!=B&&(B.forEach((ue,st)=>{this.at(st)&&this.at(st).patchValue(ue,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(B=[],F={}){this._forEachChild((ue,st)=>{ue.reset(B[st],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(B=>B.getRawValue())}clear(B={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:B.emitEvent}))}_adjustIndex(B){return B<0?B+this.length:B}_syncPendingControls(){let B=this.controls.reduce((F,ue)=>!!ue._syncPendingControls()||F,!1);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){this.controls.forEach((F,ue)=>{B(F,ue)})}_updateValue(){this.value=this.controls.filter(B=>B.enabled||this.disabled).map(B=>B.value)}_anyControls(B){return this.controls.some(F=>F.enabled&&B(F))}_setUpControls(){this._forEachChild(B=>this._registerControl(B))}_allControlsDisabled(){for(const B of this.controls)if(B.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(B){B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)}_find(B){return this.at(B)??null}}function Fa(O){return!!O&&(void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn)}let wo=(()=>{class O{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new O;return F.useNonNullable=!0,F}group(F,ue=null){const st=this._reduceControls(F);let cn={};return Fa(ue)?cn=ue:null!==ue&&(cn.validators=ue.validator,cn.asyncValidators=ue.asyncValidator),new gt(st,cn)}record(F,ue=null){const st=this._reduceControls(F);return new hn(st,ue)}control(F,ue,st){let cn={};return this.useNonNullable?(Fa(ue)?cn=ue:(cn.validators=ue,cn.asyncValidators=st),new Jr(F,{...cn,nonNullable:!0})):new Jr(F,ue,st)}array(F,ue,st){const cn=F.map(yr=>this._createControl(yr));return new ia(cn,ue,st)}_reduceControls(F){const ue={};return Object.keys(F).forEach(st=>{ue[st]=this._createControl(F[st])}),ue}_createControl(F){return F instanceof Jr||F instanceof He?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}}return O.\u0275fac=function(F){return new(F||O)},O.\u0275prov=_.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),sa=(()=>{class O{static withConfig(F){return{ngModule:O,providers:[{provide:Ai,useValue:F.callSetDisabledState??Li}]}}}return O.\u0275fac=function(F){return new(F||O)},O.\u0275mod=_.oAB({type:O}),O.\u0275inj=_.cJS({imports:[Lo]}),O})(),bo=(()=>{class O{static withConfig(F){return{ngModule:O,providers:[{provide:_a,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:Ai,useValue:F.callSetDisabledState??Li}]}}}return O.\u0275fac=function(F){return new(F||O)},O.\u0275mod=_.oAB({type:O}),O.\u0275inj=_.cJS({imports:[Lo]}),O})()},1481:(Gt,qe,U)=>{U.d(qe,{Dx:()=>zn,H7:()=>Oe,b2:()=>li,q6:()=>Dr,se:()=>Ht});var _=U(6895),E=U(4650);class Z extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends Z{static makeCurrent(){(0,_.HT)(new _e)}onAndCancel(Ne,fe,He){return Ne.addEventListener(fe,He,!1),()=>{Ne.removeEventListener(fe,He,!1)}}dispatchEvent(Ne,fe){Ne.dispatchEvent(fe)}remove(Ne){Ne.parentNode&&Ne.parentNode.removeChild(Ne)}createElement(Ne,fe){return(fe=fe||this.getDefaultDocument()).createElement(Ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ne){return Ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ne){return Ne instanceof DocumentFragment}getGlobalEventTarget(Ne,fe){return"window"===fe?window:"document"===fe?Ne:"body"===fe?Ne.body:null}getBaseHref(Ne){const fe=function Y(){return K=K||document.querySelector("base"),K?K.getAttribute("href"):null}();return null==fe?null:function he(Le){ie=ie||document.createElement("a"),ie.setAttribute("href",Le);const Ne=ie.pathname;return"/"===Ne.charAt(0)?Ne:`/${Ne}`}(fe)}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ne){return(0,_.Mx)(document.cookie,Ne)}}let ie,K=null;const pe=new E.OlP("TRANSITION_ID"),se=[{provide:E.ip1,useFactory:function ee(Le,Ne,fe){return()=>{fe.get(E.CZH).donePromise.then(()=>{const He=(0,_.q)(),gt=Ne.querySelectorAll(`style[ng-transition="${Le}"]`);for(let Lt=0;Lt<gt.length;Lt++)He.remove(gt[Lt])})}},deps:[pe,_.K0,E.zs3],multi:!0}];let ke=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(fe){return new(fe||Le)},Le.\u0275prov=E.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Ge=new E.OlP("EventManagerPlugins");let ze=(()=>{class Le{constructor(fe,He){this._zone=He,this._eventNameToPlugin=new Map,fe.forEach(gt=>{gt.manager=this}),this._plugins=fe.slice().reverse()}addEventListener(fe,He,gt){return this._findPluginFor(He).addEventListener(fe,He,gt)}addGlobalEventListener(fe,He,gt){return this._findPluginFor(He).addGlobalEventListener(fe,He,gt)}getZone(){return this._zone}_findPluginFor(fe){const He=this._eventNameToPlugin.get(fe);if(He)return He;const gt=this._plugins;for(let Lt=0;Lt<gt.length;Lt++){const fn=gt[Lt];if(fn.supports(fe))return this._eventNameToPlugin.set(fe,fn),fn}throw new Error(`No event manager plugin found for event ${fe}`)}}return Le.\u0275fac=function(fe){return new(fe||Le)(E.LFG(Ge),E.LFG(E.R0b))},Le.\u0275prov=E.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class _t{constructor(Ne){this._doc=Ne}addGlobalEventListener(Ne,fe,He){const gt=(0,_.q)().getGlobalEventTarget(this._doc,Ne);if(!gt)throw new Error(`Unsupported event target ${gt} for event ${fe}`);return this.addEventListener(gt,fe,He)}}let tt=(()=>{class Le{constructor(){this.usageCount=new Map}addStyles(fe){for(const He of fe)1===this.changeUsageCount(He,1)&&this.onStyleAdded(He)}removeStyles(fe){for(const He of fe)0===this.changeUsageCount(He,-1)&&this.onStyleRemoved(He)}onStyleRemoved(fe){}onStyleAdded(fe){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(fe,He){const gt=this.usageCount;let Lt=gt.get(fe)??0;return Lt+=He,Lt>0?gt.set(fe,Lt):gt.delete(fe),Lt}ngOnDestroy(){for(const fe of this.getAllStyles())this.onStyleRemoved(fe);this.usageCount.clear()}}return Le.\u0275fac=function(fe){return new(fe||Le)},Le.\u0275prov=E.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),Xe=(()=>{class Le extends tt{constructor(fe){super(),this.doc=fe,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(fe){for(const He of this.hostNodes)this.addStyleToHost(He,fe)}onStyleRemoved(fe){const He=this.styleRef;He.get(fe)?.forEach(Lt=>Lt.remove()),He.delete(fe)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(fe){this.hostNodes.add(fe);for(const He of this.getAllStyles())this.addStyleToHost(fe,He)}removeHost(fe){this.hostNodes.delete(fe)}addStyleToHost(fe,He){const gt=this.doc.createElement("style");gt.textContent=He,fe.appendChild(gt);const Lt=this.styleRef.get(He);Lt?Lt.push(gt):this.styleRef.set(He,[gt])}resetHostNodes(){const fe=this.hostNodes;fe.clear(),fe.add(this.doc.head)}}return Le.\u0275fac=function(fe){return new(fe||Le)(E.LFG(_.K0))},Le.\u0275prov=E.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ye=/%COMP%/g,k="%COMP%",ye=`_nghost-${k}`,be=`_ngcontent-${k}`,Ce=new E.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bt(Le,Ne){return Ne.flat(100).map(fe=>fe.replace(Ye,Le))}function Bt(Le){return Ne=>{if("__ngUnwrap__"===Ne)return Le;!1===Le(Ne)&&(Ne.preventDefault(),Ne.returnValue=!1)}}let Ht=(()=>{class Le{constructor(fe,He,gt,Lt){this.eventManager=fe,this.sharedStylesHost=He,this.appId=gt,this.removeStylesOnCompDestory=Lt,this.rendererByCompId=new Map,this.defaultRenderer=new rt(fe)}createRenderer(fe,He){if(!fe||!He)return this.defaultRenderer;const gt=this.getOrCreateRenderer(fe,He);return gt instanceof Ot?gt.applyToHost(fe):gt instanceof yt&&gt.applyStyles(),gt}getOrCreateRenderer(fe,He){const gt=this.rendererByCompId;let Lt=gt.get(He.id);if(!Lt){const fn=this.eventManager,hn=this.sharedStylesHost,Kn=this.removeStylesOnCompDestory;switch(He.encapsulation){case E.ifc.Emulated:Lt=new Ot(fn,hn,He,this.appId,Kn);break;case E.ifc.ShadowDom:return new wt(fn,hn,fe,He);default:Lt=new yt(fn,hn,He,Kn)}Lt.onDestroy=()=>gt.delete(He.id),gt.set(He.id,Lt)}return Lt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Le.\u0275fac=function(fe){return new(fe||Le)(E.LFG(ze),E.LFG(Xe),E.LFG(E.AFp),E.LFG(Ce))},Le.\u0275prov=E.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class rt{constructor(Ne){this.eventManager=Ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ne,fe){return fe?document.createElementNS(Te[fe]||fe,Ne):document.createElement(Ne)}createComment(Ne){return document.createComment(Ne)}createText(Ne){return document.createTextNode(Ne)}appendChild(Ne,fe){(ut(Ne)?Ne.content:Ne).appendChild(fe)}insertBefore(Ne,fe,He){Ne&&(ut(Ne)?Ne.content:Ne).insertBefore(fe,He)}removeChild(Ne,fe){Ne&&Ne.removeChild(fe)}selectRootElement(Ne,fe){let He="string"==typeof Ne?document.querySelector(Ne):Ne;if(!He)throw new Error(`The selector "${Ne}" did not match any elements`);return fe||(He.textContent=""),He}parentNode(Ne){return Ne.parentNode}nextSibling(Ne){return Ne.nextSibling}setAttribute(Ne,fe,He,gt){if(gt){fe=gt+":"+fe;const Lt=Te[gt];Lt?Ne.setAttributeNS(Lt,fe,He):Ne.setAttribute(fe,He)}else Ne.setAttribute(fe,He)}removeAttribute(Ne,fe,He){if(He){const gt=Te[He];gt?Ne.removeAttributeNS(gt,fe):Ne.removeAttribute(`${He}:${fe}`)}else Ne.removeAttribute(fe)}addClass(Ne,fe){Ne.classList.add(fe)}removeClass(Ne,fe){Ne.classList.remove(fe)}setStyle(Ne,fe,He,gt){gt&(E.JOm.DashCase|E.JOm.Important)?Ne.style.setProperty(fe,He,gt&E.JOm.Important?"important":""):Ne.style[fe]=He}removeStyle(Ne,fe,He){He&E.JOm.DashCase?Ne.style.removeProperty(fe):Ne.style[fe]=""}setProperty(Ne,fe,He){Ne[fe]=He}setValue(Ne,fe){Ne.nodeValue=fe}listen(Ne,fe,He){return"string"==typeof Ne?this.eventManager.addGlobalEventListener(Ne,fe,Bt(He)):this.eventManager.addEventListener(Ne,fe,Bt(He))}}function ut(Le){return"TEMPLATE"===Le.tagName&&void 0!==Le.content}class wt extends rt{constructor(Ne,fe,He,gt){super(Ne),this.sharedStylesHost=fe,this.hostEl=He,this.shadowRoot=He.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=bt(gt.id,gt.styles);for(const fn of Lt){const hn=document.createElement("style");hn.textContent=fn,this.shadowRoot.appendChild(hn)}}nodeOrShadowRoot(Ne){return Ne===this.hostEl?this.shadowRoot:Ne}appendChild(Ne,fe){return super.appendChild(this.nodeOrShadowRoot(Ne),fe)}insertBefore(Ne,fe,He){return super.insertBefore(this.nodeOrShadowRoot(Ne),fe,He)}removeChild(Ne,fe){return super.removeChild(this.nodeOrShadowRoot(Ne),fe)}parentNode(Ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ne)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yt extends rt{constructor(Ne,fe,He,gt,Lt=He.id){super(Ne),this.sharedStylesHost=fe,this.removeStylesOnCompDestory=gt,this.rendererUsageCount=0,this.styles=bt(Lt,He.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ot extends yt{constructor(Ne,fe,He,gt,Lt){const fn=gt+"-"+He.id;super(Ne,fe,He,Lt,fn),this.contentAttr=function Re(Le){return be.replace(Ye,Le)}(fn),this.hostAttr=function pt(Le){return ye.replace(Ye,Le)}(fn)}applyToHost(Ne){this.applyStyles(),this.setAttribute(Ne,this.hostAttr,"")}createElement(Ne,fe){const He=super.createElement(Ne,fe);return super.setAttribute(He,this.contentAttr,""),He}}let Rt=(()=>{class Le extends _t{constructor(fe){super(fe)}supports(fe){return!0}addEventListener(fe,He,gt){return fe.addEventListener(He,gt,!1),()=>this.removeEventListener(fe,He,gt)}removeEventListener(fe,He,gt){return fe.removeEventListener(He,gt)}}return Le.\u0275fac=function(fe){return new(fe||Le)(E.LFG(_.K0))},Le.\u0275prov=E.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Zt=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tn={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let _n=(()=>{class Le extends _t{constructor(fe){super(fe)}supports(fe){return null!=Le.parseEventName(fe)}addEventListener(fe,He,gt){const Lt=Le.parseEventName(He),fn=Le.eventCallback(Lt.fullKey,gt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(fe,Lt.domEventName,fn))}static parseEventName(fe){const He=fe.toLowerCase().split("."),gt=He.shift();if(0===He.length||"keydown"!==gt&&"keyup"!==gt)return null;const Lt=Le._normalizeKey(He.pop());let fn="",hn=He.indexOf("code");if(hn>-1&&(He.splice(hn,1),fn="code."),Zt.forEach(Ai=>{const Li=He.indexOf(Ai);Li>-1&&(He.splice(Li,1),fn+=Ai+".")}),fn+=Lt,0!=He.length||0===Lt.length)return null;const Kn={};return Kn.domEventName=gt,Kn.fullKey=fn,Kn}static matchEventFullKeyCode(fe,He){let gt=Ft[fe.key]||fe.key,Lt="";return He.indexOf("code.")>-1&&(gt=fe.code,Lt="code."),!(null==gt||!gt)&&(gt=gt.toLowerCase()," "===gt?gt="space":"."===gt&&(gt="dot"),Zt.forEach(fn=>{fn!==gt&&(0,Tn[fn])(fe)&&(Lt+=fn+".")}),Lt+=gt,Lt===He)}static eventCallback(fe,He,gt){return Lt=>{Le.matchEventFullKeyCode(Lt,fe)&&gt.runGuarded(()=>He(Lt))}}static _normalizeKey(fe){return"esc"===fe?"escape":fe}}return Le.\u0275fac=function(fe){return new(fe||Le)(E.LFG(_.K0))},Le.\u0275prov=E.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Dr=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:_.bD},{provide:E.g9A,useValue:function mr(){_e.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function qn(){return(0,E.RDi)(document),document},deps:[]}]),Nn=new E.OlP(""),qt=[{provide:E.rWj,useClass:class me{addToWindow(Ne){E.dqk.getAngularTestability=(He,gt=!0)=>{const Lt=Ne.findTestabilityInTree(He,gt);if(null==Lt)throw new Error("Could not find testability for element.");return Lt},E.dqk.getAllAngularTestabilities=()=>Ne.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>Ne.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(He=>{const gt=E.dqk.getAllAngularTestabilities();let Lt=gt.length,fn=!1;const hn=function(Kn){fn=fn||Kn,Lt--,0==Lt&&He(fn)};gt.forEach(function(Kn){Kn.whenStable(hn)})})}findTestabilityInTree(Ne,fe,He){return null==fe?null:Ne.getTestability(fe)??(He?(0,_.q)().isShadowRoot(fe)?this.findTestabilityInTree(Ne,fe.host,!0):this.findTestabilityInTree(Ne,fe.parentElement,!0):null)}},deps:[]},{provide:E.lri,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]}],Dn=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function gn(){return new E.qLn},deps:[]},{provide:Ge,useClass:Rt,multi:!0,deps:[_.K0,E.R0b,E.Lbi]},{provide:Ge,useClass:_n,multi:!0,deps:[_.K0]},{provide:Ht,useClass:Ht,deps:[ze,Xe,E.AFp,Ce]},{provide:E.FYo,useExisting:Ht},{provide:tt,useExisting:Xe},{provide:Xe,useClass:Xe,deps:[_.K0]},{provide:ze,useClass:ze,deps:[Ge,E.R0b]},{provide:_.JF,useClass:ke,deps:[]},[]];let li=(()=>{class Le{constructor(fe){}static withServerTransition(fe){return{ngModule:Le,providers:[{provide:E.AFp,useValue:fe.appId},{provide:pe,useExisting:E.AFp},se]}}}return Le.\u0275fac=function(fe){return new(fe||Le)(E.LFG(Nn,12))},Le.\u0275mod=E.oAB({type:Le}),Le.\u0275inj=E.cJS({providers:[...Dn,...qt],imports:[_.ez,E.hGG]}),Le})(),zn=(()=>{class Le{constructor(fe){this._doc=fe}getTitle(){return this._doc.title}setTitle(fe){this._doc.title=fe||""}}return Le.\u0275fac=function(fe){return new(fe||Le)(E.LFG(_.K0))},Le.\u0275prov=E.Yz7({token:Le,factory:function(fe){let He=null;return He=fe?new fe:function Sn(){return new zn((0,E.LFG)(_.K0))}(),He},providedIn:"root"}),Le})();typeof window<"u"&&window;let Oe=(()=>{class Le{}return Le.\u0275fac=function(fe){return new(fe||Le)},Le.\u0275prov=E.Yz7({token:Le,factory:function(fe){let He=null;return He=fe?new(fe||Le):E.LFG(Je),He},providedIn:"root"}),Le})(),Je=(()=>{class Le extends Oe{constructor(fe){super(),this._doc=fe}sanitize(fe,He){if(null==He)return null;switch(fe){case E.q3G.NONE:return He;case E.q3G.HTML:return(0,E.qzn)(He,"HTML")?(0,E.z3N)(He):(0,E.EiD)(this._doc,String(He)).toString();case E.q3G.STYLE:return(0,E.qzn)(He,"Style")?(0,E.z3N)(He):He;case E.q3G.SCRIPT:if((0,E.qzn)(He,"Script"))return(0,E.z3N)(He);throw new Error("unsafe value used in a script context");case E.q3G.URL:return(0,E.qzn)(He,"URL")?(0,E.z3N)(He):(0,E.mCW)(String(He));case E.q3G.RESOURCE_URL:if((0,E.qzn)(He,"ResourceURL"))return(0,E.z3N)(He);throw new Error(`unsafe value used in a resource URL context (see ${E.JZr})`);default:throw new Error(`Unexpected SecurityContext ${fe} (see ${E.JZr})`)}}bypassSecurityTrustHtml(fe){return(0,E.JVY)(fe)}bypassSecurityTrustStyle(fe){return(0,E.L6k)(fe)}bypassSecurityTrustScript(fe){return(0,E.eBb)(fe)}bypassSecurityTrustUrl(fe){return(0,E.LAX)(fe)}bypassSecurityTrustResourceUrl(fe){return(0,E.pB0)(fe)}}return Le.\u0275fac=function(fe){return new(fe||Le)(E.LFG(_.K0))},Le.\u0275prov=E.Yz7({token:Le,factory:function(fe){let He=null;return He=fe?new fe:function at(Le){return new Je(Le.get(_.K0))}(E.LFG(E.zs3)),He},providedIn:"root"}),Le})()},7001:(Gt,qe,U)=>{U.d(qe,{gz:()=>ss,m2:()=>Ui,F0:()=>oi,rH:()=>jo,Od:()=>Lr,Bz:()=>Js,lC:()=>Eo});var _=U(4650),E=U(8996),Z=U(9646),_e=U(7579);class K extends _e.x{constructor(M){super(),this._value=M}get value(){return this.getValue()}_subscribe(M){const b=super._subscribe(M);return!b.closed&&M.next(this._value),b}getValue(){const{hasError:M,thrownError:b,_value:P}=this;if(M)throw b;return this._throwIfClosed(),P}next(M){super.next(this._value=M)}}var Y=U(6805),ie=U(9751),he=U(4742),pe=U(4671),ee=U(3268),se=U(3269),me=U(1810),ke=U(5403),Ge=U(9672);function ze(...S){const M=(0,se.yG)(S),b=(0,se.jO)(S),{args:P,keys:z}=(0,he.D)(S);if(0===P.length)return(0,E.D)([],M);const oe=new ie.y(function _t(S,M,b=pe.y){return P=>{tt(M,()=>{const{length:z}=S,oe=new Array(z);let ce=z,Qe=z;for(let Dt=0;Dt<z;Dt++)tt(M,()=>{const on=(0,E.D)(S[Dt],M);let un=!1;on.subscribe((0,ke.x)(P,dr=>{oe[Dt]=dr,un||(un=!0,Qe--),Qe||P.next(b(oe.slice()))},()=>{--ce||P.complete()}))},P)},P)}}(P,M,z?ce=>(0,me.n)(z,ce):pe.y));return b?oe.pipe((0,ee.Z)(b)):oe}function tt(S,M,b){S?(0,Ge.f)(b,S,M):M()}var Xe=U(7272),Te=U(8421);function Ye(S){return new ie.y(M=>{(0,Te.Xf)(S()).subscribe(M)})}var Ve=U(9635),k=U(576);function ye(S,M){const b=(0,k.m)(S)?S:()=>S,P=z=>z.error(b());return new ie.y(M?z=>M.schedule(P,0,z):P)}var be=U(515),Me=U(727),Ce=U(4482);function Re(){return(0,Ce.e)((S,M)=>{let b=null;S._refCount++;const P=(0,ke.x)(M,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(b=null);const z=S._connection,oe=b;b=null,z&&(!oe||z===oe)&&z.unsubscribe(),M.unsubscribe()});S.subscribe(P),P.closed||(b=S.connect())})}class pt extends ie.y{constructor(M,b){super(),this.source=M,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,Ce.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new Me.w0;const b=this.getSubject();M.add(this.source.subscribe((0,ke.x)(b,void 0,()=>{this._teardown(),b.complete()},P=>{this._teardown(),b.error(P)},()=>this._teardown()))),M.closed&&(this._connection=null,M=Me.w0.EMPTY)}return M}refCount(){return Re()(this)}}var bt=U(6895),Bt=U(4004),Ht=U(3900),rt=U(5698),vt=U(8675),ot=U(9300),ut=U(5577),wt=U(590),yt=U(4351),Ot=U(8505);function Rt(S){return(0,Ce.e)((M,b)=>{let oe,P=null,z=!1;P=M.subscribe((0,ke.x)(b,void 0,void 0,ce=>{oe=(0,Te.Xf)(S(ce,Rt(S)(M))),P?(P.unsubscribe(),P=null,oe.subscribe(b)):z=!0})),z&&(P.unsubscribe(),P=null,oe.subscribe(b))})}var Zt=U(5026);function Ft(S){return S<=0?()=>be.E:(0,Ce.e)((M,b)=>{let P=[];M.subscribe((0,ke.x)(b,z=>{P.push(z),S<P.length&&P.shift()},()=>{for(const z of P)b.next(z);b.complete()},void 0,()=>{P=null}))})}var Tn=U(8068),_n=U(6590);function Un(S,M){const b=arguments.length>=2;return P=>P.pipe(S?(0,ot.h)((z,oe)=>S(z,oe,P)):pe.y,Ft(1),b?(0,_n.d)(M):(0,Tn.T)(()=>new Y.K))}function Yn(S){return(0,Ce.e)((M,b)=>{try{M.subscribe(b)}finally{b.add(S)}})}var Ur=U(8189),mr=U(1481);const gn="primary",qn=Symbol("RouteTitle");class zr{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const b=this.params[M];return Array.isArray(b)?b[0]:b}return null}getAll(M){if(this.has(M)){const b=this.params[M];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Dr(S){return new zr(S)}function Nn(S,M,b){const P=b.path.split("/");if(P.length>S.length||"full"===b.pathMatch&&(M.hasChildren()||P.length<S.length))return null;const z={};for(let oe=0;oe<P.length;oe++){const ce=P[oe],Qe=S[oe];if(ce.startsWith(":"))z[ce.substring(1)]=Qe;else if(ce!==Qe.path)return null}return{consumed:S.slice(0,P.length),posParams:z}}function Dn(S,M){const b=S?Object.keys(S):void 0,P=M?Object.keys(M):void 0;if(!b||!P||b.length!=P.length)return!1;let z;for(let oe=0;oe<b.length;oe++)if(z=b[oe],!li(S[z],M[z]))return!1;return!0}function li(S,M){if(Array.isArray(S)&&Array.isArray(M)){if(S.length!==M.length)return!1;const b=[...S].sort(),P=[...M].sort();return b.every((z,oe)=>P[oe]===z)}return S===M}function Or(S){return Array.prototype.concat.apply([],S)}function qi(S){return S.length>0?S[S.length-1]:null}function Sn(S,M){for(const b in S)S.hasOwnProperty(b)&&M(S[b],b)}function zn(S){return(0,_.CqO)(S)?S:(0,_.QGY)(S)?(0,E.D)(Promise.resolve(S)):(0,Z.of)(S)}const ln=!1,Yt={exact:function Br(S,M,b){if(!Tt(S.segments,M.segments)||!ci(S.segments,M.segments,b)||S.numberOfChildren!==M.numberOfChildren)return!1;for(const P in M.children)if(!S.children[P]||!Br(S.children[P],M.children[P],b))return!1;return!0},subset:Cs},Yr={exact:function Ar(S,M){return Dn(S,M)},subset:function ui(S,M){return Object.keys(M).length<=Object.keys(S).length&&Object.keys(M).every(b=>li(S[b],M[b]))},ignored:()=>!0};function Vr(S,M,b){return Yt[b.paths](S.root,M.root,b.matrixParams)&&Yr[b.queryParams](S.queryParams,M.queryParams)&&!("exact"===b.fragment&&S.fragment!==M.fragment)}function Cs(S,M,b){return ur(S,M,M.segments,b)}function ur(S,M,b,P){if(S.segments.length>b.length){const z=S.segments.slice(0,b.length);return!(!Tt(z,b)||M.hasChildren()||!ci(z,b,P))}if(S.segments.length===b.length){if(!Tt(S.segments,b)||!ci(S.segments,b,P))return!1;for(const z in M.children)if(!S.children[z]||!Cs(S.children[z],M.children[z],P))return!1;return!0}{const z=b.slice(0,S.segments.length),oe=b.slice(S.segments.length);return!!(Tt(S.segments,z)&&ci(S.segments,z,P)&&S.children[gn])&&ur(S.children[gn],M,oe,P)}}function ci(S,M,b){return M.every((P,z)=>Yr[b](S[z].parameters,P.parameters))}class Bn{constructor(M=new On([],{}),b={},P=null){this.root=M,this.queryParams=b,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return St.serialize(this)}}class On{constructor(M,b){this.segments=M,this.children=b,this.parent=null,Sn(b,(P,z)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Et(this)}}class $n{constructor(M,b){this.path=M,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=Dr(this.parameters)),this._parameterMap}toString(){return Ne(this)}}function Tt(S,M){return S.length===M.length&&S.every((b,P)=>b.path===M[P].path)}let Se=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return new Pe},providedIn:"root"}),S})();class Pe{parse(M){const b=new Li(M);return new Bn(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(M){const b=`/${ve(M.root,!0)}`,P=function He(S){const M=Object.keys(S).map(b=>{const P=S[b];return Array.isArray(P)?P.map(z=>`${Oe(b)}=${Oe(z)}`).join("&"):`${Oe(b)}=${Oe(P)}`}).filter(b=>!!b);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${b}${P}${"string"==typeof M.fragment?`#${function at(S){return encodeURI(S)}(M.fragment)}`:""}`}}const St=new Pe;function Et(S){return S.segments.map(M=>Ne(M)).join("/")}function ve(S,M){if(!S.hasChildren())return Et(S);if(M){const b=S.children[gn]?ve(S.children[gn],!1):"",P=[];return Sn(S.children,(z,oe)=>{oe!==gn&&P.push(`${oe}:${ve(z,!1)}`)}),P.length>0?`${b}(${P.join("//")})`:b}{const b=function We(S,M){let b=[];return Sn(S.children,(P,z)=>{z===gn&&(b=b.concat(M(P,z)))}),Sn(S.children,(P,z)=>{z!==gn&&(b=b.concat(M(P,z)))}),b}(S,(P,z)=>z===gn?[ve(S.children[gn],!1)]:[`${z}:${ve(P,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[gn]?`${Et(S)}/${b[0]}`:`${Et(S)}/(${b.join("//")})`}}function Ee(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oe(S){return Ee(S).replace(/%3B/gi,";")}function Je(S){return Ee(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vt(S){return decodeURIComponent(S)}function Le(S){return Vt(S.replace(/\+/g,"%20"))}function Ne(S){return`${Je(S.path)}${function fe(S){return Object.keys(S).map(M=>`;${Je(M)}=${Je(S[M])}`).join("")}(S.parameters)}`}const gt=/^[^\/()?;=#]+/;function Lt(S){const M=S.match(gt);return M?M[0]:""}const fn=/^[^=?&#]+/,Kn=/^[^&#]+/;class Li{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(M.length>0||Object.keys(b).length>0)&&(P[gn]=new On(M,b)),P}parseSegment(){const M=Lt(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new _.vHH(4009,ln);return this.capture(M),new $n(Vt(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const b=Lt(this.remaining);if(!b)return;this.capture(b);let P="";if(this.consumeOptional("=")){const z=Lt(this.remaining);z&&(P=z,this.capture(P))}M[Vt(b)]=Vt(P)}parseQueryParam(M){const b=function hn(S){const M=S.match(fn);return M?M[0]:""}(this.remaining);if(!b)return;this.capture(b);let P="";if(this.consumeOptional("=")){const ce=function Ai(S){const M=S.match(Kn);return M?M[0]:""}(this.remaining);ce&&(P=ce,this.capture(P))}const z=Le(b),oe=Le(P);if(M.hasOwnProperty(z)){let ce=M[z];Array.isArray(ce)||(ce=[ce],M[z]=ce),ce.push(oe)}else M[z]=oe}parseParens(M){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Lt(this.remaining),z=this.remaining[P.length];if("/"!==z&&")"!==z&&";"!==z)throw new _.vHH(4010,ln);let oe;P.indexOf(":")>-1?(oe=P.slice(0,P.indexOf(":")),this.capture(oe),this.capture(":")):M&&(oe=gn);const ce=this.parseChildren();b[oe]=1===Object.keys(ce).length?ce[gn]:new On([],ce),this.consumeOptional("//")}return b}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new _.vHH(4011,ln)}}function bs(S){return S.segments.length>0?new On([],{[gn]:S}):S}function is(S){const M={};for(const P of Object.keys(S.children)){const oe=is(S.children[P]);(oe.segments.length>0||oe.hasChildren())&&(M[P]=oe)}return function Po(S){if(1===S.numberOfChildren&&S.children[gn]){const M=S.children[gn];return new On(S.segments.concat(M.segments),M.children)}return S}(new On(S.segments,M))}function Fi(S){return S instanceof Bn}const gs=!1;function Is(S,M,b,P,z){if(0===b.length)return ei(M.root,M.root,M.root,P,z);const oe=function rn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new di(!0,0,S);let M=0,b=!1;const P=S.reduce((z,oe,ce)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const Qe={};return Sn(oe.outlets,(Dt,on)=>{Qe[on]="string"==typeof Dt?Dt.split("/"):Dt}),[...z,{outlets:Qe}]}if(oe.segmentPath)return[...z,oe.segmentPath]}return"string"!=typeof oe?[...z,oe]:0===ce?(oe.split("/").forEach((Qe,Dt)=>{0==Dt&&"."===Qe||(0==Dt&&""===Qe?b=!0:".."===Qe?M++:""!=Qe&&z.push(Qe))}),z):[...z,oe]},[]);return new di(b,M,P)}(b);return oe.toRoot()?ei(M.root,M.root,new On([],{}),P,z):function ce(Dt){const on=function Zn(S,M,b,P){if(S.isAbsolute)return new An(M.root,!0,0);if(-1===P)return new An(b,b===M.root,0);return function Mi(S,M,b){let P=S,z=M,oe=b;for(;oe>z;){if(oe-=z,P=P.parent,!P)throw new _.vHH(4005,gs&&"Invalid number of '../'");z=P.segments.length}return new An(P,!1,z-oe)}(b,P+(Qr(S.commands[0])?0:1),S.numberOfDoubleDots)}(oe,M,S.snapshot?._urlSegment,Dt),un=on.processChildren?sr(on.segmentGroup,on.index,oe.commands):Ri(on.segmentGroup,on.index,oe.commands);return ei(M.root,on.segmentGroup,un,P,z)}(S.snapshot?._lastPathIndex)}function Qr(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function No(S){return"object"==typeof S&&null!=S&&S.outlets}function ei(S,M,b,P,z){let ce,oe={};P&&Sn(P,(Dt,on)=>{oe[on]=Array.isArray(Dt)?Dt.map(un=>`${un}`):`${Dt}`}),ce=S===M?b:Ts(S,M,b);const Qe=bs(is(ce));return new Bn(Qe,oe,z)}function Ts(S,M,b){const P={};return Sn(S.children,(z,oe)=>{P[oe]=z===M?b:Ts(z,M,b)}),new On(S.segments,P)}class di{constructor(M,b,P){if(this.isAbsolute=M,this.numberOfDoubleDots=b,this.commands=P,M&&P.length>0&&Qr(P[0]))throw new _.vHH(4003,gs&&"Root segment cannot have matrix parameters");const z=P.find(No);if(z&&z!==qi(P))throw new _.vHH(4004,gs&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class An{constructor(M,b,P){this.segmentGroup=M,this.processChildren=b,this.index=P}}function Ri(S,M,b){if(S||(S=new On([],{})),0===S.segments.length&&S.hasChildren())return sr(S,M,b);const P=function Oo(S,M,b){let P=0,z=M;const oe={match:!1,pathIndex:0,commandIndex:0};for(;z<S.segments.length;){if(P>=b.length)return oe;const ce=S.segments[z],Qe=b[P];if(No(Qe))break;const Dt=`${Qe}`,on=P<b.length-1?b[P+1]:null;if(z>0&&void 0===Dt)break;if(Dt&&on&&"object"==typeof on&&void 0===on.outlets){if(!mi(Dt,on,ce))return oe;P+=2}else{if(!mi(Dt,{},ce))return oe;P++}z++}return{match:!0,pathIndex:z,commandIndex:P}}(S,M,b),z=b.slice(P.commandIndex);if(P.match&&P.pathIndex<S.segments.length){const oe=new On(S.segments.slice(0,P.pathIndex),{});return oe.children[gn]=new On(S.segments.slice(P.pathIndex),S.children),sr(oe,0,z)}return P.match&&0===z.length?new On(S.segments,{}):P.match&&!S.hasChildren()?fi(S,M,b):P.match?sr(S,0,z):fi(S,M,b)}function sr(S,M,b){if(0===b.length)return new On(S.segments,{});{const P=function hi(S){return No(S[0])?S[0].outlets:{[gn]:S}}(b),z={};if(!P[gn]&&S.children[gn]&&1===S.numberOfChildren&&0===S.children[gn].segments.length){const oe=sr(S.children[gn],M,b);return new On(S.segments,oe.children)}return Sn(P,(oe,ce)=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(z[ce]=Ri(S.children[ce],M,oe))}),Sn(S.children,(oe,ce)=>{void 0===P[ce]&&(z[ce]=oe)}),new On(S.segments,z)}}function fi(S,M,b){const P=S.segments.slice(0,M);let z=0;for(;z<b.length;){const oe=b[z];if(No(oe)){const Dt=Gn(oe.outlets);return new On(P,Dt)}if(0===z&&Qr(b[0])){P.push(new $n(S.segments[M].path,Ss(b[0]))),z++;continue}const ce=No(oe)?oe.outlets[gn]:`${oe}`,Qe=z<b.length-1?b[z+1]:null;ce&&Qe&&Qr(Qe)?(P.push(new $n(ce,Ss(Qe))),z+=2):(P.push(new $n(ce,{})),z++)}return new On(P,{})}function Gn(S){const M={};return Sn(S,(b,P)=>{"string"==typeof b&&(b=[b]),null!==b&&(M[P]=fi(new On([],{}),0,b))}),M}function Ss(S){const M={};return Sn(S,(b,P)=>M[P]=`${b}`),M}function mi(S,M,b){return S==b.path&&Dn(M,b.parameters)}const Qi="imperative";class jr{constructor(M,b){this.id=M,this.url=b}}class Jr extends jr{constructor(M,b,P="imperative",z=null){super(M,b),this.type=0,this.navigationTrigger=P,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ui extends jr{constructor(M,b,P){super(M,b),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xi extends jr{constructor(M,b,P,z){super(M,b),this.reason=P,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pr extends jr{constructor(M,b,P,z){super(M,b),this.reason=P,this.code=z,this.type=16}}class Fs extends jr{constructor(M,b,P,z){super(M,b),this.error=P,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vi extends jr{constructor(M,b,P,z){super(M,b),this.urlAfterRedirects=P,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends jr{constructor(M,b,P,z){super(M,b),this.urlAfterRedirects=P,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends jr{constructor(M,b,P,z,oe){super(M,b),this.urlAfterRedirects=P,this.state=z,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lt extends jr{constructor(M,b,P,z){super(M,b),this.urlAfterRedirects=P,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At extends jr{constructor(M,b,P,z){super(M,b),this.urlAfterRedirects=P,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $t{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mn{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mn{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kn{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wr{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(M,b,P){this.routerEvent=M,this.position=b,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ko=(()=>{class S{createUrlTree(b,P,z,oe,ce,Qe){return Is(b||P.root,z,oe,ce,Qe)}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})(),ms=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:function(M){return ko.\u0275fac(M)},providedIn:"root"}),S})();class Jo{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const b=this.pathFromRoot(M);return b.length>1?b[b.length-2]:null}children(M){const b=_a(M,this._root);return b?b.children.map(P=>P.value):[]}firstChild(M){const b=_a(M,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(M){const b=Ds(M,this._root);return b.length<2?[]:b[b.length-2].children.map(z=>z.value).filter(z=>z!==M)}pathFromRoot(M){return Ds(M,this._root).map(b=>b.value)}}function _a(S,M){if(S===M.value)return M;for(const b of M.children){const P=_a(S,b);if(P)return P}return null}function Ds(S,M){if(S===M.value)return[M];for(const b of M.children){const P=Ds(S,b);if(P.length)return P.unshift(M),P}return[]}class vo{constructor(M,b){this.value=M,this.children=b}toString(){return`TreeNode(${this.value})`}}function io(S){const M={};return S&&S.children.forEach(b=>M[b.value.outlet]=b),M}class so extends Jo{constructor(M,b){super(M),this.snapshot=b,Oa(this,M)}toString(){return this.snapshot.toString()}}function ya(S,M){const b=function Xo(S,M){const ce=new os([],{},{},"",{},gn,M,null,S.root,-1,{});return new ao("",new vo(ce,[]))}(S,M),P=new K([new $n("",{})]),z=new K({}),oe=new K({}),ce=new K({}),Qe=new K(""),Dt=new ss(P,z,ce,Qe,oe,gn,M,b.root);return Dt.snapshot=b.root,new so(new vo(Dt,[]),b)}class ss{constructor(M,b,P,z,oe,ce,Qe,Dt){this.url=M,this.params=b,this.queryParams=P,this.fragment=z,this.data=oe,this.outlet=ce,this.component=Qe,this.title=this.data?.pipe((0,Bt.U)(on=>on[qn]))??(0,Z.of)(void 0),this._futureSnapshot=Dt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Bt.U)(M=>Dr(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Bt.U)(M=>Dr(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oo(S,M="emptyOnly"){const b=S.pathFromRoot;let P=0;if("always"!==M)for(P=b.length-1;P>=1;){const z=b[P],oe=b[P-1];if(z.routeConfig&&""===z.routeConfig.path)P--;else{if(oe.component)break;P--}}return function Ws(S){return S.reduce((M,b)=>({params:{...M.params,...b.params},data:{...M.data,...b.data},resolve:{...b.data,...M.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(P))}class os{get title(){return this.data?.[qn]}constructor(M,b,P,z,oe,ce,Qe,Dt,on,un,dr){this.url=M,this.params=b,this.queryParams=P,this.fragment=z,this.data=oe,this.outlet=ce,this.component=Qe,this.routeConfig=Dt,this._urlSegment=on,this._lastPathIndex=un,this._resolve=dr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ao extends Jo{constructor(M,b){super(b),this.url=M,Oa(this,b)}toString(){return ka(this._root)}}function Oa(S,M){M.value._routerState=S,M.children.forEach(b=>Oa(S,b))}function ka(S){const M=S.children.length>0?` { ${S.children.map(ka).join(", ")} } `:"";return`${S.value}${M}`}function Xi(S){if(S.snapshot){const M=S.snapshot,b=S._futureSnapshot;S.snapshot=b,Dn(M.queryParams,b.queryParams)||S.queryParams.next(b.queryParams),M.fragment!==b.fragment&&S.fragment.next(b.fragment),Dn(M.params,b.params)||S.params.next(b.params),function qt(S,M){if(S.length!==M.length)return!1;for(let b=0;b<S.length;++b)if(!Dn(S[b],M[b]))return!1;return!0}(M.url,b.url)||S.url.next(b.url),Dn(M.data,b.data)||S.data.next(b.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function As(S,M){const b=Dn(S.params,M.params)&&function nn(S,M){return Tt(S,M)&&S.every((b,P)=>Dn(b.parameters,M[P].parameters))}(S.url,M.url);return b&&!(!S.parent!=!M.parent)&&(!S.parent||As(S.parent,M.parent))}function as(S,M,b){if(b&&S.shouldReuseRoute(M.value,b.value.snapshot)){const P=b.value;P._futureSnapshot=M.value;const z=function ta(S,M,b){return M.children.map(P=>{for(const z of b.children)if(S.shouldReuseRoute(P.value,z.value.snapshot))return as(S,P,z);return as(S,P)})}(S,M,b);return new vo(P,z)}{if(S.shouldAttach(M.value)){const oe=S.retrieve(M.value);if(null!==oe){const ce=oe.route;return ce.value._futureSnapshot=M.value,ce.children=M.children.map(Qe=>as(S,Qe)),ce}}const P=function cr(S){return new ss(new K(S.url),new K(S.params),new K(S.queryParams),new K(S.fragment),new K(S.data),S.outlet,S.component,S)}(M.value),z=M.children.map(oe=>as(S,oe));return new vo(P,z)}}const Ks="ngNavigationCancelingError";function Hi(S,M){const{redirectTo:b,navigationBehaviorOptions:P}=Fi(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,z=Us(!1,0,M);return z.url=b,z.navigationBehaviorOptions=P,z}function Us(S,M,b){const P=new Error("NavigationCancelingError: "+(S||""));return P[Ks]=!0,P.cancellationCode=M,b&&(P.url=b),P}function va(S){return ls(S)&&Fi(S.url)}function ls(S){return S&&S[Ks]}class lo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new uo,this.attachRef=null}}let uo=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(b,P){const z=this.getOrCreateContext(b);z.outlet=P,this.contexts.set(b,z)}onChildOutletDestroyed(b){const P=this.getContext(b);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let P=this.getContext(b);return P||(P=new lo,this.contexts.set(b,P)),P}getContext(b){return this.contexts.get(b)||null}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Ea=!1;let Eo=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=gn,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(uo),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb)}ngOnChanges(b){if(b.name){const{firstChange:P,previousValue:z}=b.name;if(P)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,Ea);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,Ea);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,Ea);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,P){this.activated=b,this._activatedRoute=P,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,P){if(this.isActivated)throw new _.vHH(4013,Ea);this._activatedRoute=b;const z=this.location,ce=b.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,Dt=new Ms(b,Qe,z.injector);if(P&&function _r(S){return!!S.resolveComponentFactory}(P)){const on=P.resolveComponentFactory(ce);this.activated=z.createComponent(on,z.length,Dt)}else this.activated=z.createComponent(ce,{index:z.length,injector:Dt,environmentInjector:P??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275dir=_.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]}),S})();class Ms{constructor(M,b,P){this.route=M,this.childContexts=b,this.parent=P}get(M,b){return M===ss?this.route:M===uo?this.childContexts:this.parent.get(M,b)}}let _i=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275cmp=_.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(b,P){1&b&&_._UZ(0,"router-outlet")},dependencies:[Eo],encapsulation:2}),S})();function co(S,M){return S.providers&&!S._injector&&(S._injector=(0,_.MMx)(S.providers,M,`Route: ${S.path}`)),S._injector??M}function ho(S){const M=S.children&&S.children.map(ho),b=M?{...S,children:M}:{...S};return!b.component&&!b.loadComponent&&(M||b.loadChildren)&&b.outlet&&b.outlet!==gn&&(b.component=_i),b}function Gi(S){return S.outlet||gn}function el(S,M){const b=S.filter(P=>Gi(P)===M);return b.push(...S.filter(P=>Gi(P)!==M)),b}function Zi(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let M=S.parent;M;M=M.parent){const b=M.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class ia{constructor(M,b,P,z){this.routeReuseStrategy=M,this.futureState=b,this.currState=P,this.forwardEvent=z}activate(M){const b=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,P,M),Xi(this.futureState.root),this.activateChildRoutes(b,P,M)}deactivateChildRoutes(M,b,P){const z=io(b);M.children.forEach(oe=>{const ce=oe.value.outlet;this.deactivateRoutes(oe,z[ce],P),delete z[ce]}),Sn(z,(oe,ce)=>{this.deactivateRouteAndItsChildren(oe,P)})}deactivateRoutes(M,b,P){const z=M.value,oe=b?b.value:null;if(z===oe)if(z.component){const ce=P.getContext(z.outlet);ce&&this.deactivateChildRoutes(M,b,ce.children)}else this.deactivateChildRoutes(M,b,P);else oe&&this.deactivateRouteAndItsChildren(b,P)}deactivateRouteAndItsChildren(M,b){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,b):this.deactivateRouteAndOutlet(M,b)}detachAndStoreRouteSubtree(M,b){const P=b.getContext(M.value.outlet),z=P&&M.value.component?P.children:b,oe=io(M);for(const ce of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[ce],z);if(P&&P.outlet){const ce=P.outlet.detach(),Qe=P.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:ce,route:M,contexts:Qe})}}deactivateRouteAndOutlet(M,b){const P=b.getContext(M.value.outlet),z=P&&M.value.component?P.children:b,oe=io(M);for(const ce of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[ce],z);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(M,b,P){const z=io(b);M.children.forEach(oe=>{this.activateRoutes(oe,z[oe.value.outlet],P),this.forwardEvent(new Wr(oe.value.snapshot))}),M.children.length&&this.forwardEvent(new kn(M.value.snapshot))}activateRoutes(M,b,P){const z=M.value,oe=b?b.value:null;if(Xi(z),z===oe)if(z.component){const ce=P.getOrCreateContext(z.outlet);this.activateChildRoutes(M,b,ce.children)}else this.activateChildRoutes(M,b,P);else if(z.component){const ce=P.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Qe=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),ce.children.onOutletReAttached(Qe.contexts),ce.attachRef=Qe.componentRef,ce.route=Qe.route.value,ce.outlet&&ce.outlet.attach(Qe.componentRef,Qe.route.value),Xi(Qe.route.value),this.activateChildRoutes(M,null,ce.children)}else{const Qe=Zi(z.snapshot),Dt=Qe?.get(_._Vd)??null;ce.attachRef=null,ce.route=z,ce.resolver=Dt,ce.injector=Qe,ce.outlet&&ce.outlet.activateWith(z,ce.injector),this.activateChildRoutes(M,null,ce.children)}}else this.activateChildRoutes(M,null,P)}}class Vn{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Fo{constructor(M,b){this.component=M,this.route=b}}function Fa(S,M,b){const P=S._root;return fo(P,M?M._root:null,b,[P.value])}function Co(S,M){const b=Symbol(),P=M.get(S,b);return P===b?"function"!=typeof S||(0,_.Z0I)(S)?M.get(S):S:P}function fo(S,M,b,P,z={canDeactivateChecks:[],canActivateChecks:[]}){const oe=io(M);return S.children.forEach(ce=>{(function yl(S,M,b,P,z={canDeactivateChecks:[],canActivateChecks:[]}){const oe=S.value,ce=M?M.value:null,Qe=b?b.getContext(S.value.outlet):null;if(ce&&oe.routeConfig===ce.routeConfig){const Dt=function sa(S,M,b){if("function"==typeof b)return b(S,M);switch(b){case"pathParamsChange":return!Tt(S.url,M.url);case"pathParamsOrQueryParamsChange":return!Tt(S.url,M.url)||!Dn(S.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!As(S,M)||!Dn(S.queryParams,M.queryParams);default:return!As(S,M)}}(ce,oe,oe.routeConfig.runGuardsAndResolvers);Dt?z.canActivateChecks.push(new Vn(P)):(oe.data=ce.data,oe._resolvedData=ce._resolvedData),fo(S,M,oe.component?Qe?Qe.children:null:b,P,z),Dt&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&z.canDeactivateChecks.push(new Fo(Qe.outlet.component,ce))}else ce&&bo(M,Qe,z),z.canActivateChecks.push(new Vn(P)),fo(S,null,oe.component?Qe?Qe.children:null:b,P,z)})(ce,oe[ce.value.outlet],b,P.concat([ce.value]),z),delete oe[ce.value.outlet]}),Sn(oe,(ce,Qe)=>bo(ce,b.getContext(Qe),z)),z}function bo(S,M,b){const P=io(S),z=S.value;Sn(P,(oe,ce)=>{bo(oe,z.component?M?M.children.getContext(ce):null:M,b)}),b.canDeactivateChecks.push(new Fo(z.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,z))}function O(S){return"function"==typeof S}function pi(S){return S instanceof Y.K||"EmptyError"===S?.name}const xs=Symbol("INITIAL_VALUE");function Ci(){return(0,Ht.w)(S=>ze(S.map(M=>M.pipe((0,rt.q)(1),(0,vt.O)(xs)))).pipe((0,Bt.U)(M=>{for(const b of M)if(!0!==b){if(b===xs)return xs;if(!1===b||b instanceof Bn)return b}return!0}),(0,ot.h)(M=>M!==xs),(0,rt.q)(1)))}function iu(S){return(0,Ve.z)((0,Ot.b)(M=>{if(Fi(M))throw Hi(0,M)}),(0,Bt.U)(M=>!0===M))}const Ni={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bo(S,M,b,P,z){const oe=tl(S,M,b);return oe.matched?function Ua(S,M,b,P){const z=M.canMatch;if(!z||0===z.length)return(0,Z.of)(!0);const oe=z.map(ce=>{const Qe=Co(ce,S);return zn(function yr(S){return S&&O(S.canMatch)}(Qe)?Qe.canMatch(M,b):S.runInContext(()=>Qe(M,b)))});return(0,Z.of)(oe).pipe(Ci(),iu())}(P=co(M,P),M,b).pipe((0,Bt.U)(ce=>!0===ce?oe:{...Ni})):(0,Z.of)(oe)}function tl(S,M,b){if(""===M.path)return"full"===M.pathMatch&&(S.hasChildren()||b.length>0)?{...Ni}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const z=(M.matcher||Nn)(b,S,M);if(!z)return{...Ni};const oe={};Sn(z.posParams,(Qe,Dt)=>{oe[Dt]=Qe.path});const ce=z.consumed.length>0?{...oe,...z.consumed[z.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:z.consumed,remainingSegments:b.slice(z.consumed.length),parameters:ce,positionalParamSegments:z.posParams??{}}}function oa(S,M,b,P){if(b.length>0&&function El(S,M,b){return b.some(P=>Ol(S,M,P)&&Gi(P)!==gn)}(S,b,P)){const oe=new On(M,function Va(S,M,b,P){const z={};z[gn]=P,P._sourceSegment=S,P._segmentIndexShift=M.length;for(const oe of b)if(""===oe.path&&Gi(oe)!==gn){const ce=new On([],{});ce._sourceSegment=S,ce._segmentIndexShift=M.length,z[Gi(oe)]=ce}return z}(S,M,P,new On(b,S.children)));return oe._sourceSegment=S,oe._segmentIndexShift=M.length,{segmentGroup:oe,slicedSegments:[]}}if(0===b.length&&function nl(S,M,b){return b.some(P=>Ol(S,M,P))}(S,b,P)){const oe=new On(S.segments,function Nl(S,M,b,P,z){const oe={};for(const ce of P)if(Ol(S,b,ce)&&!z[Gi(ce)]){const Qe=new On([],{});Qe._sourceSegment=S,Qe._segmentIndexShift=M.length,oe[Gi(ce)]=Qe}return{...z,...oe}}(S,M,b,P,S.children));return oe._sourceSegment=S,oe._segmentIndexShift=M.length,{segmentGroup:oe,slicedSegments:b}}const z=new On(S.segments,S.children);return z._sourceSegment=S,z._segmentIndexShift=M.length,{segmentGroup:z,slicedSegments:b}}function Ol(S,M,b){return(!(S.hasChildren()||M.length>0)||"full"!==b.pathMatch)&&""===b.path}function go(S,M,b,P){return!!(Gi(S)===P||P!==gn&&Ol(M,b,S))&&("**"===S.path||tl(M,S,b).matched)}function wl(S,M,b){return 0===M.length&&!S.children[b]}const rl=!1;class ba{constructor(M){this.segmentGroup=M||null}}class ds{constructor(M){this.urlTree=M}}function Ps(S){return ye(new ba(S))}function or(S){return ye(new ds(S))}class oc{constructor(M,b,P,z,oe){this.injector=M,this.configLoader=b,this.urlSerializer=P,this.urlTree=z,this.config=oe,this.allowRedirects=!0}apply(){const M=oa(this.urlTree.root,[],[],this.config).segmentGroup,b=new On(M.segments,M.children);return this.expandSegmentGroup(this.injector,this.config,b,gn).pipe((0,Bt.U)(oe=>this.createUrlTree(is(oe),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rt(oe=>{if(oe instanceof ds)return this.allowRedirects=!1,this.match(oe.urlTree);throw oe instanceof ba?this.noMatchError(oe):oe}))}match(M){return this.expandSegmentGroup(this.injector,this.config,M.root,gn).pipe((0,Bt.U)(z=>this.createUrlTree(is(z),M.queryParams,M.fragment))).pipe(Rt(z=>{throw z instanceof ba?this.noMatchError(z):z}))}noMatchError(M){return new _.vHH(4002,rl)}createUrlTree(M,b,P){const z=bs(M);return new Bn(z,b,P)}expandSegmentGroup(M,b,P,z){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(M,b,P).pipe((0,Bt.U)(oe=>new On([],oe))):this.expandSegment(M,P,b,P.segments,z,!0)}expandChildren(M,b,P){const z=[];for(const oe of Object.keys(P.children))"primary"===oe?z.unshift(oe):z.push(oe);return(0,E.D)(z).pipe((0,yt.b)(oe=>{const ce=P.children[oe],Qe=el(b,oe);return this.expandSegmentGroup(M,Qe,ce,oe).pipe((0,Bt.U)(Dt=>({segment:Dt,outlet:oe})))}),(0,Zt.R)((oe,ce)=>(oe[ce.outlet]=ce.segment,oe),{}),Un())}expandSegment(M,b,P,z,oe,ce){return(0,E.D)(P).pipe((0,yt.b)(Qe=>this.expandSegmentAgainstRoute(M,b,P,Qe,z,oe,ce).pipe(Rt(on=>{if(on instanceof ba)return(0,Z.of)(null);throw on}))),(0,wt.P)(Qe=>!!Qe),Rt((Qe,Dt)=>{if(pi(Qe))return wl(b,z,oe)?(0,Z.of)(new On([],{})):Ps(b);throw Qe}))}expandSegmentAgainstRoute(M,b,P,z,oe,ce,Qe){return go(z,b,oe,ce)?void 0===z.redirectTo?this.matchSegmentAgainstRoute(M,b,z,oe,ce):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,b,P,z,oe,ce):Ps(b):Ps(b)}expandSegmentAgainstRouteUsingRedirect(M,b,P,z,oe,ce){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,P,z,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(M,b,P,z,oe,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,b,P,z){const oe=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?or(oe):this.lineralizeSegments(P,oe).pipe((0,ut.z)(ce=>{const Qe=new On(ce,{});return this.expandSegment(M,Qe,b,ce,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,b,P,z,oe,ce){const{matched:Qe,consumedSegments:Dt,remainingSegments:on,positionalParamSegments:un}=tl(b,z,oe);if(!Qe)return Ps(b);const dr=this.applyRedirectCommands(Dt,z.redirectTo,un);return z.redirectTo.startsWith("/")?or(dr):this.lineralizeSegments(z,dr).pipe((0,ut.z)(gi=>this.expandSegment(M,b,P,gi.concat(on),ce,!1)))}matchSegmentAgainstRoute(M,b,P,z,oe){return"**"===P.path?(M=co(P,M),P.loadChildren?(P._loadedRoutes?(0,Z.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):this.configLoader.loadChildren(M,P)).pipe((0,Bt.U)(Qe=>(P._loadedRoutes=Qe.routes,P._loadedInjector=Qe.injector,new On(z,{})))):(0,Z.of)(new On(z,{}))):Bo(b,P,z,M).pipe((0,Ht.w)(({matched:ce,consumedSegments:Qe,remainingSegments:Dt})=>ce?this.getChildConfig(M=P._injector??M,P,z).pipe((0,ut.z)(un=>{const dr=un.injector??M,gi=un.routes,{segmentGroup:vi,slicedSegments:Xs}=oa(b,Qe,Dt,gi),V=new On(vi.segments,vi.children);if(0===Xs.length&&V.hasChildren())return this.expandChildren(dr,gi,V).pipe((0,Bt.U)(Ke=>new On(Qe,Ke)));if(0===gi.length&&0===Xs.length)return(0,Z.of)(new On(Qe,{}));const $=Gi(P)===oe;return this.expandSegment(dr,V,gi,Xs,$?gn:oe,!0).pipe((0,Bt.U)(Ae=>new On(Qe.concat(Ae.segments),Ae.children)))})):Ps(b)))}getChildConfig(M,b,P){return b.children?(0,Z.of)({routes:b.children,injector:M}):b.loadChildren?void 0!==b._loadedRoutes?(0,Z.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function vl(S,M,b,P){const z=M.canLoad;if(void 0===z||0===z.length)return(0,Z.of)(!0);const oe=z.map(ce=>{const Qe=Co(ce,S);return zn(function F(S){return S&&O(S.canLoad)}(Qe)?Qe.canLoad(M,b):S.runInContext(()=>Qe(M,b)))});return(0,Z.of)(oe).pipe(Ci(),iu())}(M,b,P).pipe((0,ut.z)(z=>z?this.configLoader.loadChildren(M,b).pipe((0,Ot.b)(oe=>{b._loadedRoutes=oe.routes,b._loadedInjector=oe.injector})):function aa(S){return ye(Us(rl,3))}())):(0,Z.of)({routes:[],injector:M})}lineralizeSegments(M,b){let P=[],z=b.root;for(;;){if(P=P.concat(z.segments),0===z.numberOfChildren)return(0,Z.of)(P);if(z.numberOfChildren>1||!z.children[gn])return M.redirectTo,ye(new _.vHH(4e3,rl));z=z.children[gn]}}applyRedirectCommands(M,b,P){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),M,P)}applyRedirectCreateUrlTree(M,b,P,z){const oe=this.createSegmentGroup(M,b.root,P,z);return new Bn(oe,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(M,b){const P={};return Sn(M,(z,oe)=>{if("string"==typeof z&&z.startsWith(":")){const Qe=z.substring(1);P[oe]=b[Qe]}else P[oe]=z}),P}createSegmentGroup(M,b,P,z){const oe=this.createSegments(M,b.segments,P,z);let ce={};return Sn(b.children,(Qe,Dt)=>{ce[Dt]=this.createSegmentGroup(M,Qe,P,z)}),new On(oe,ce)}createSegments(M,b,P,z){return b.map(oe=>oe.path.startsWith(":")?this.findPosParam(M,oe,z):this.findOrReturn(oe,P))}findPosParam(M,b,P){const z=P[b.path.substring(1)];if(!z)throw new _.vHH(4001,rl);return z}findOrReturn(M,b){let P=0;for(const z of b){if(z.path===M.path)return b.splice(P),z;P++}return M}}class Ll{}class N{constructor(M,b,P,z,oe,ce,Qe){this.injector=M,this.rootComponentType=b,this.config=P,this.urlTree=z,this.url=oe,this.paramsInheritanceStrategy=ce,this.urlSerializer=Qe}recognize(){const M=oa(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,gn).pipe((0,Bt.U)(b=>{if(null===b)return null;const P=new os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gn,this.rootComponentType,null,this.urlTree.root,-1,{}),z=new vo(P,b),oe=new ao(this.url,z);return this.inheritParamsAndData(oe._root),oe}))}inheritParamsAndData(M){const b=M.value,P=oo(b,this.paramsInheritanceStrategy);b.params=Object.freeze(P.params),b.data=Object.freeze(P.data),M.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(M,b,P,z){return 0===P.segments.length&&P.hasChildren()?this.processChildren(M,b,P):this.processSegment(M,b,P,P.segments,z)}processChildren(M,b,P){return(0,E.D)(Object.keys(P.children)).pipe((0,yt.b)(z=>{const oe=P.children[z],ce=el(b,z);return this.processSegmentGroup(M,ce,oe,z)}),(0,Zt.R)((z,oe)=>z&&oe?(z.push(...oe),z):null),function xn(S,M=!1){return(0,Ce.e)((b,P)=>{let z=0;b.subscribe((0,ke.x)(P,oe=>{const ce=S(oe,z++);(ce||M)&&P.next(oe),!ce&&P.complete()}))})}(z=>null!==z),(0,_n.d)(null),Un(),(0,Bt.U)(z=>{if(null===z)return null;const oe=Ie(z);return function Q(S){S.sort((M,b)=>M.value.outlet===gn?-1:b.value.outlet===gn?1:M.value.outlet.localeCompare(b.value.outlet))}(oe),oe}))}processSegment(M,b,P,z,oe){return(0,E.D)(b).pipe((0,yt.b)(ce=>this.processSegmentAgainstRoute(ce._injector??M,ce,P,z,oe)),(0,wt.P)(ce=>!!ce),Rt(ce=>{if(pi(ce))return wl(P,z,oe)?(0,Z.of)([]):(0,Z.of)(null);throw ce}))}processSegmentAgainstRoute(M,b,P,z,oe){if(b.redirectTo||!go(b,P,z,oe))return(0,Z.of)(null);let ce;if("**"===b.path){const Qe=z.length>0?qi(z).parameters:{},Dt=yn(P)+z.length,on=new os(z,Qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ct(b),Gi(b),b.component??b._loadedComponent??null,b,xt(P),Dt,Ln(b));ce=(0,Z.of)({snapshot:on,consumedSegments:[],remainingSegments:[]})}else ce=Bo(P,b,z,M).pipe((0,Bt.U)(({matched:Qe,consumedSegments:Dt,remainingSegments:on,parameters:un})=>{if(!Qe)return null;const dr=yn(P)+Dt.length;return{snapshot:new os(Dt,un,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ct(b),Gi(b),b.component??b._loadedComponent??null,b,xt(P),dr,Ln(b)),consumedSegments:Dt,remainingSegments:on}}));return ce.pipe((0,Ht.w)(Qe=>{if(null===Qe)return(0,Z.of)(null);const{snapshot:Dt,consumedSegments:on,remainingSegments:un}=Qe;M=b._injector??M;const dr=b._loadedInjector??M,gi=function j(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(b),{segmentGroup:vi,slicedSegments:Xs}=oa(P,on,un,gi.filter($=>void 0===$.redirectTo));if(0===Xs.length&&vi.hasChildren())return this.processChildren(dr,gi,vi).pipe((0,Bt.U)($=>null===$?null:[new vo(Dt,$)]));if(0===gi.length&&0===Xs.length)return(0,Z.of)([new vo(Dt,[])]);const V=Gi(b)===oe;return this.processSegment(dr,gi,vi,Xs,V?gn:oe).pipe((0,Bt.U)($=>null===$?null:[new vo(Dt,$)]))}))}}function le(S){const M=S.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function Ie(S){const M=[],b=new Set;for(const P of S){if(!le(P)){M.push(P);continue}const z=M.find(oe=>P.value.routeConfig===oe.value.routeConfig);void 0!==z?(z.children.push(...P.children),b.add(z)):M.push(P)}for(const P of b){const z=Ie(P.children);M.push(new vo(P.value,z))}return M.filter(P=>!b.has(P))}function xt(S){let M=S;for(;M._sourceSegment;)M=M._sourceSegment;return M}function yn(S){let M=S,b=M._segmentIndexShift??0;for(;M._sourceSegment;)M=M._sourceSegment,b+=M._segmentIndexShift??0;return b-1}function Ct(S){return S.data||{}}function Ln(S){return S.resolve||{}}function ct(S){return"string"==typeof S.title||null===S.title}function Mt(S){return(0,Ht.w)(M=>{const b=S(M);return b?(0,E.D)(b).pipe((0,Bt.U)(()=>M)):(0,Z.of)(M)})}const mo=new _.OlP("ROUTES");let Ta=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,Z.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const P=zn(b.loadComponent()).pipe((0,Bt.U)(So),(0,Ot.b)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=oe}),Yn(()=>{this.componentLoaders.delete(b)})),z=new pt(P,()=>new _e.x).pipe(Re());return this.componentLoaders.set(b,z),z}loadChildren(b,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Z.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const oe=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,Bt.U)(Qe=>{this.onLoadEndListener&&this.onLoadEndListener(P);let Dt,on,un=!1;Array.isArray(Qe)?on=Qe:(Dt=Qe.create(b).injector,on=Or(Dt.get(mo,[],_.XFs.Self|_.XFs.Optional)));return{routes:on.map(ho),injector:Dt}}),Yn(()=>{this.childrenLoaders.delete(P)})),ce=new pt(oe,()=>new _e.x).pipe(Re());return this.childrenLoaders.set(P,ce),ce}loadModuleFactoryOrRoutes(b){return zn(b()).pipe((0,Bt.U)(So),(0,ut.z)(P=>P instanceof _.YKP||Array.isArray(P)?(0,Z.of)(P):(0,E.D)(this.compiler.compileModuleAsync(P))))}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function So(S){return function To(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let Ul=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new _e.x,this.configLoader=(0,_.f3M)(Ta),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(Se),this.rootContexts=(0,_.f3M)(uo),this.navigationId=0,this.afterPreactivation=()=>(0,Z.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new mn(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new $t(z))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:P})}setupNavigations(b){return this.transitions=new K({id:0,targetPageId:0,currentUrlTree:b.currentUrlTree,currentRawUrl:b.currentUrlTree,extractedUrl:b.urlHandlingStrategy.extract(b.currentUrlTree),urlAfterRedirects:b.urlHandlingStrategy.extract(b.currentUrlTree),rawUrl:b.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qi,restoredState:null,currentSnapshot:b.routerState.snapshot,targetSnapshot:null,currentRouterState:b.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ot.h)(P=>0!==P.id),(0,Bt.U)(P=>({...P,extractedUrl:b.urlHandlingStrategy.extract(P.rawUrl)})),(0,Ht.w)(P=>{let z=!1,oe=!1;return(0,Z.of)(P).pipe((0,Ot.b)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ht.w)(ce=>{const Qe=b.browserUrlTree.toString(),Dt=!b.navigated||ce.extractedUrl.toString()!==Qe||Qe!==b.currentUrlTree.toString();if(!Dt&&"reload"!==(ce.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const un="";return this.events.next(new pr(ce.id,b.serializeUrl(P.rawUrl),un,0)),b.rawUrlTree=ce.rawUrl,ce.resolve(null),be.E}if(b.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return Ho(ce.source)&&(b.browserUrlTree=ce.extractedUrl),(0,Z.of)(ce).pipe((0,Ht.w)(un=>{const dr=this.transitions?.getValue();return this.events.next(new Jr(un.id,this.urlSerializer.serialize(un.extractedUrl),un.source,un.restoredState)),dr!==this.transitions?.getValue()?be.E:Promise.resolve(un)}),function qs(S,M,b,P){return(0,Ht.w)(z=>function ri(S,M,b,P,z){return new oc(S,M,b,P,z).apply()}(S,M,b,z.extractedUrl,P).pipe((0,Bt.U)(oe=>({...z,urlAfterRedirects:oe}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,b.config),(0,Ot.b)(un=>{this.currentNavigation={...this.currentNavigation,finalUrl:un.urlAfterRedirects},P.urlAfterRedirects=un.urlAfterRedirects}),function Wn(S,M,b,P,z){return(0,ut.z)(oe=>function ou(S,M,b,P,z,oe,ce="emptyOnly"){return new N(S,M,b,P,z,ce,oe).recognize().pipe((0,Ht.w)(Qe=>null===Qe?function su(S){return new ie.y(M=>M.error(S))}(new Ll):(0,Z.of)(Qe)))}(S,M,b,oe.urlAfterRedirects,P.serialize(oe.urlAfterRedirects),P,z).pipe((0,Bt.U)(ce=>({...oe,targetSnapshot:ce}))))}(this.environmentInjector,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,Ot.b)(un=>{if(P.targetSnapshot=un.targetSnapshot,"eager"===b.urlUpdateStrategy){if(!un.extras.skipLocationChange){const gi=b.urlHandlingStrategy.merge(un.urlAfterRedirects,un.rawUrl);b.setBrowserUrl(gi,un)}b.browserUrlTree=un.urlAfterRedirects}const dr=new Vi(un.id,this.urlSerializer.serialize(un.extractedUrl),this.urlSerializer.serialize(un.urlAfterRedirects),un.targetSnapshot);this.events.next(dr)}));if(Dt&&b.urlHandlingStrategy.shouldProcessUrl(b.rawUrlTree)){const{id:un,extractedUrl:dr,source:gi,restoredState:vi,extras:Xs}=ce,V=new Jr(un,this.urlSerializer.serialize(dr),gi,vi);this.events.next(V);const $=ya(dr,this.rootComponentType).snapshot;return P={...ce,targetSnapshot:$,urlAfterRedirects:dr,extras:{...Xs,skipLocationChange:!1,replaceUrl:!1}},(0,Z.of)(P)}{const un="";return this.events.next(new pr(ce.id,b.serializeUrl(P.extractedUrl),un,1)),b.rawUrlTree=ce.rawUrl,ce.resolve(null),be.E}}),(0,Ot.b)(ce=>{const Qe=new Ue(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Qe)}),(0,Bt.U)(ce=>P={...ce,guards:Fa(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)}),function Io(S,M){return(0,ut.z)(b=>{const{targetSnapshot:P,currentSnapshot:z,guards:{canActivateChecks:oe,canDeactivateChecks:ce}}=b;return 0===ce.length&&0===oe.length?(0,Z.of)({...b,guardsResult:!0}):function us(S,M,b,P){return(0,E.D)(S).pipe((0,ut.z)(z=>function Ca(S,M,b,P,z){const oe=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,Z.of)(!0);const ce=oe.map(Qe=>{const Dt=Zi(M)??z,on=Co(Qe,Dt);return zn(function cn(S){return S&&O(S.canDeactivate)}(on)?on.canDeactivate(S,M,b,P):Dt.runInContext(()=>on(S,M,b,P))).pipe((0,wt.P)())});return(0,Z.of)(ce).pipe(Ci())}(z.component,z.route,b,M,P)),(0,wt.P)(z=>!0!==z,!0))}(ce,P,z,S).pipe((0,ut.z)(Qe=>Qe&&function B(S){return"boolean"==typeof S}(Qe)?function cs(S,M,b,P){return(0,E.D)(M).pipe((0,yt.b)(z=>(0,Xe.z)(function Uo(S,M){return null!==S&&M&&M(new Mn(S)),(0,Z.of)(!0)}(z.route.parent,P),function po(S,M){return null!==S&&M&&M(new gr(S)),(0,Z.of)(!0)}(z.route,P),function wa(S,M,b){const P=M[M.length-1],oe=M.slice(0,M.length-1).reverse().map(ce=>function wo(S){const M=S.routeConfig?S.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:S,guards:M}:null}(ce)).filter(ce=>null!==ce).map(ce=>Ye(()=>{const Qe=ce.guards.map(Dt=>{const on=Zi(ce.node)??b,un=Co(Dt,on);return zn(function st(S){return S&&O(S.canActivateChild)}(un)?un.canActivateChild(P,S):on.runInContext(()=>un(P,S))).pipe((0,wt.P)())});return(0,Z.of)(Qe).pipe(Ci())}));return(0,Z.of)(oe).pipe(Ci())}(S,z.path,b),function Vo(S,M,b){const P=M.routeConfig?M.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Z.of)(!0);const z=P.map(oe=>Ye(()=>{const ce=Zi(M)??b,Qe=Co(oe,ce);return zn(function ue(S){return S&&O(S.canActivate)}(Qe)?Qe.canActivate(M,S):ce.runInContext(()=>Qe(M,S))).pipe((0,wt.P)())}));return(0,Z.of)(z).pipe(Ci())}(S,z.route,b))),(0,wt.P)(z=>!0!==z,!0))}(P,oe,S,M):(0,Z.of)(Qe)),(0,Bt.U)(Qe=>({...b,guardsResult:Qe})))})}(this.environmentInjector,ce=>this.events.next(ce)),(0,Ot.b)(ce=>{if(P.guardsResult=ce.guardsResult,Fi(ce.guardsResult))throw Hi(0,ce.guardsResult);const Qe=new je(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(Qe)}),(0,ot.h)(ce=>!!ce.guardsResult||(b.restoreHistory(ce),this.cancelNavigationTransition(ce,"",3),!1)),Mt(ce=>{if(ce.guards.canActivateChecks.length)return(0,Z.of)(ce).pipe((0,Ot.b)(Qe=>{const Dt=new lt(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Dt)}),(0,Ht.w)(Qe=>{let Dt=!1;return(0,Z.of)(Qe).pipe(function Oi(S,M){return(0,ut.z)(b=>{const{targetSnapshot:P,guards:{canActivateChecks:z}}=b;if(!z.length)return(0,Z.of)(b);let oe=0;return(0,E.D)(z).pipe((0,yt.b)(ce=>function zt(S,M,b,P){const z=S.routeConfig,oe=S._resolve;return void 0!==z?.title&&!ct(z)&&(oe[qn]=z.title),function sn(S,M,b,P){const z=function Ia(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===z.length)return(0,Z.of)({});const oe={};return(0,E.D)(z).pipe((0,ut.z)(ce=>function Wt(S,M,b,P){const z=Zi(M)??P,oe=Co(S,z);return zn(oe.resolve?oe.resolve(M,b):z.runInContext(()=>oe(M,b)))}(S[ce],M,b,P).pipe((0,wt.P)(),(0,Ot.b)(Qe=>{oe[ce]=Qe}))),Ft(1),function ir(S){return(0,Bt.U)(()=>S)}(oe),Rt(ce=>pi(ce)?be.E:ye(ce)))}(oe,S,M,P).pipe((0,Bt.U)(ce=>(S._resolvedData=ce,S.data=oo(S,b).resolve,z&&ct(z)&&(S.data[qn]=z.title),null)))}(ce.route,P,S,M)),(0,Ot.b)(()=>oe++),Ft(1),(0,ut.z)(ce=>oe===z.length?(0,Z.of)(b):be.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,Ot.b)({next:()=>Dt=!0,complete:()=>{Dt||(b.restoreHistory(Qe),this.cancelNavigationTransition(Qe,"",2))}}))}),(0,Ot.b)(Qe=>{const Dt=new At(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Dt)}))}),Mt(ce=>{const Qe=Dt=>{const on=[];Dt.routeConfig?.loadComponent&&!Dt.routeConfig._loadedComponent&&on.push(this.configLoader.loadComponent(Dt.routeConfig).pipe((0,Ot.b)(un=>{Dt.component=un}),(0,Bt.U)(()=>{})));for(const un of Dt.children)on.push(...Qe(un));return on};return ze(Qe(ce.targetSnapshot.root)).pipe((0,_n.d)(),(0,rt.q)(1))}),Mt(()=>this.afterPreactivation()),(0,Bt.U)(ce=>{const Qe=function ea(S,M,b){const P=as(S,M._root,b?b._root:void 0);return new so(P,M)}(b.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return P={...ce,targetRouterState:Qe}}),(0,Ot.b)(ce=>{b.currentUrlTree=ce.urlAfterRedirects,b.rawUrlTree=b.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),b.routerState=ce.targetRouterState,"deferred"===b.urlUpdateStrategy&&(ce.extras.skipLocationChange||b.setBrowserUrl(b.rawUrlTree,ce),b.browserUrlTree=ce.urlAfterRedirects)}),((S,M,b)=>(0,Bt.U)(P=>(new ia(M,P.targetRouterState,P.currentRouterState,b).activate(S),P)))(this.rootContexts,b.routeReuseStrategy,ce=>this.events.next(ce)),(0,rt.q)(1),(0,Ot.b)({next:ce=>{z=!0,this.lastSuccessfulNavigation=this.currentNavigation,b.navigated=!0,this.events.next(new Ui(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(b.currentUrlTree))),b.titleStrategy?.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{z=!0}}),Yn(()=>{z||oe||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),Rt(ce=>{if(oe=!0,ls(ce)){va(ce)||(b.navigated=!0,b.restoreHistory(P,!0));const Qe=new xi(P.id,this.urlSerializer.serialize(P.extractedUrl),ce.message,ce.cancellationCode);if(this.events.next(Qe),va(ce)){const Dt=b.urlHandlingStrategy.merge(ce.url,b.rawUrlTree),on={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===b.urlUpdateStrategy||Ho(P.source)};b.scheduleNavigation(Dt,Qi,null,on,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{b.restoreHistory(P,!0);const Qe=new Fs(P.id,this.urlSerializer.serialize(P.extractedUrl),ce,P.targetSnapshot??void 0);this.events.next(Qe);try{P.resolve(b.errorHandler(ce))}catch(Dt){P.reject(Dt)}}return be.E}))}))}cancelNavigationTransition(b,P,z){const oe=new xi(b.id,this.urlSerializer.serialize(b.extractedUrl),P,z);this.events.next(oe),b.resolve(!1)}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Ho(S){return S!==Qi}let zc=(()=>{class S{buildTitle(b){let P,z=b.root;for(;void 0!==z;)P=this.getResolvedTitleForRoute(z)??P,z=z.children.find(oe=>oe.outlet===gn);return P}getResolvedTitleForRoute(b){return b.data[qn]}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return(0,_.f3M)(es)},providedIn:"root"}),S})(),es=(()=>{class S extends zc{constructor(b){super(),this.title=b}updateTitle(b){const P=this.buildTitle(b);void 0!==P&&this.title.setTitle(P)}}return S.\u0275fac=function(b){return new(b||S)(_.LFG(mr.Dx))},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Pu=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return(0,_.f3M)(Rn)},providedIn:"root"}),S})();class Cl{shouldDetach(M){return!1}store(M,b){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,b){return M.routeConfig===b.routeConfig}}let Rn=(()=>{class S extends Cl{}return S.\u0275fac=function(){let M;return function(P){return(M||(M=_.n5z(S)))(P||S)}}(),S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const er=new _.OlP("",{providedIn:"root",factory:()=>({})});let si=(()=>{class S{}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:function(){return(0,_.f3M)(bn)},providedIn:"root"}),S})(),bn=(()=>{class S{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,P){return b}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function ge(S){throw S}function il(S,M,b){return M.parse("/")}const yi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oi=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this.options=(0,_.f3M)(er,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ge,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||il,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(si),this.routeReuseStrategy=(0,_.f3M)(Pu),this.urlCreationStrategy=(0,_.f3M)(ms),this.titleStrategy=(0,_.f3M)(zc),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Or((0,_.f3M)(mo,{optional:!0})??[]),this.navigationTransitions=(0,_.f3M)(Ul),this.urlSerializer=(0,_.f3M)(Se),this.location=(0,_.f3M)(bt.Ye),this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ya(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId??0},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Qi,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const P="popstate"===b.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,P,b.state)},0)}))}navigateToSyncWithBrowser(b,P,z){const oe={replaceUrl:!0},ce=z?.navigationId?z:null;if(z){const Dt={...z};delete Dt.navigationId,delete Dt.\u0275routerPageId,0!==Object.keys(Dt).length&&(oe.state=Dt)}const Qe=this.parseUrl(b);this.scheduleNavigation(Qe,P,ce,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(b){this.config=b.map(ho),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,P={}){const{relativeTo:z,queryParams:oe,fragment:ce,queryParamsHandling:Qe,preserveFragment:Dt}=P,on=Dt?this.currentUrlTree.fragment:ce;let un=null;switch(Qe){case"merge":un={...this.currentUrlTree.queryParams,...oe};break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=oe||null}return null!==un&&(un=this.removeEmptyProps(un)),this.urlCreationStrategy.createUrlTree(z,this.routerState,this.currentUrlTree,b,un,on??null)}navigateByUrl(b,P={skipLocationChange:!1}){const z=Fi(b)?b:this.parseUrl(b),oe=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(oe,Qi,null,P)}navigate(b,P={skipLocationChange:!1}){return function Do(S){for(let M=0;M<S.length;M++){const b=S[M];if(null==b)throw new _.vHH(4008,false)}}(b),this.navigateByUrl(this.createUrlTree(b,P),P)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let P;try{P=this.urlSerializer.parse(b)}catch(z){P=this.malformedUriErrorHandler(z,this.urlSerializer,b)}return P}isActive(b,P){let z;if(z=!0===P?{...yi}:!1===P?{...tn}:P,Fi(b))return Vr(this.currentUrlTree,b,z);const oe=this.parseUrl(b);return Vr(this.currentUrlTree,oe,z)}removeEmptyProps(b){return Object.keys(b).reduce((P,z)=>{const oe=b[z];return null!=oe&&(P[z]=oe),P},{})}scheduleNavigation(b,P,z,oe,ce){if(this.disposed)return Promise.resolve(!1);let Qe,Dt,on,un;return ce?(Qe=ce.resolve,Dt=ce.reject,on=ce.promise):on=new Promise((dr,gi)=>{Qe=dr,Dt=gi}),un="computed"===this.canceledNavigationResolution?z&&z.\u0275routerPageId?z.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:un,source:P,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:oe,resolve:Qe,reject:Dt,promise:on,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),on.catch(dr=>Promise.reject(dr))}setBrowserUrl(b,P){const z=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(z)||P.extras.replaceUrl){const ce={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(z,"",ce)}else{const oe={...P.extras.state,...this.generateNgRouterState(P.id,P.targetPageId)};this.location.go(z,"",oe)}}restoreHistory(b,P=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-(this.browserPageId??this.currentPageId);0!==oe?this.location.historyGo(oe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===oe&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,P){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:P}:{navigationId:b}}}return S.\u0275fac=function(b){return new(b||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),jo=(()=>{class S{constructor(b,P,z,oe,ce,Qe){this.router=b,this.route=P,this.tabIndexAttribute=z,this.renderer=oe,this.el=ce,this.locationStrategy=Qe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new _e.x;const Dt=ce.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Dt||"area"===Dt,this.isAnchorElement?this.subscription=b.events.subscribe(on=>{on instanceof Ui&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(b){this._preserveFragment=(0,_.D6c)(b)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(b){this._skipLocationChange=(0,_.D6c)(b)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(b){this._replaceUrl=(0,_.D6c)(b)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,P,z,oe,ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||P||z||oe||ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,P){const z=this.renderer,oe=this.el.nativeElement;null!==P?z.setAttribute(oe,b,P):z.removeAttribute(oe,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(b){return new(b||S)(_.Y36(oi),_.Y36(ss),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(bt.S$))},S.\u0275dir=_.lG2({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,P){1&b&&_.NdJ("click",function(oe){return P.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&b&&_.uIk("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[_.TTD]}),S})(),Lr=(()=>{class S{get isActive(){return this._isActive}constructor(b,P,z,oe,ce){this.router=b,this.element=P,this.renderer=z,this.cdr=oe,this.link=ce,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _.vpe,this.routerEventsSubscription=b.events.subscribe(Qe=>{Qe instanceof Ui&&this.update()})}ngAfterContentInit(){(0,Z.of)(this.links.changes,(0,Z.of)(null)).pipe((0,Ur.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const b=[...this.links.toArray(),this.link].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,E.D)(b).pipe((0,Ur.J)()).subscribe(P=>{this._isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(b){const P=Array.isArray(b)?b:b.split(" ");this.classes=P.filter(z=>!!z)}ngOnChanges(b){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this._isActive!==b&&(this._isActive=b,this.cdr.markForCheck(),this.classes.forEach(P=>{b?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),b&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(b))})}isLinkActive(b){const P=function Cr(S){return!!S.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return z=>!!z.urlTree&&b.isActive(z.urlTree,P)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.links.some(b)}}return S.\u0275fac=function(b){return new(b||S)(_.Y36(oi),_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(jo,8))},S.\u0275dir=_.lG2({type:S,selectors:[["","routerLinkActive",""]],contentQueries:function(b,P,z){if(1&b&&_.Suo(z,jo,5),2&b){let oe;_.iGM(oe=_.CRH())&&(P.links=oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_.TTD]}),S})();class Sa{}let lu=(()=>{class S{constructor(b,P,z,oe,ce){this.router=b,this.injector=z,this.preloadingStrategy=oe,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,ot.h)(b=>b instanceof Ui),(0,yt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,P){const z=[];for(const oe of P){oe.providers&&!oe._injector&&(oe._injector=(0,_.MMx)(oe.providers,b,`Route: ${oe.path}`));const ce=oe._injector??b,Qe=oe._loadedInjector??ce;(oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent)&&z.push(this.preloadConfig(ce,oe)),(oe.children||oe._loadedRoutes)&&z.push(this.processRoutes(Qe,oe.children??oe._loadedRoutes))}return(0,E.D)(z).pipe((0,Ur.J)())}preloadConfig(b,P){return this.preloadingStrategy.preload(P,()=>{let z;z=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(b,P):(0,Z.of)(null);const oe=z.pipe((0,ut.z)(ce=>null===ce?(0,Z.of)(void 0):(P._loadedRoutes=ce.routes,P._loadedInjector=ce.injector,this.processRoutes(ce.injector??b,ce.routes))));if(P.loadComponent&&!P._loadedComponent){const ce=this.loader.loadComponent(P);return(0,E.D)([oe,ce]).pipe((0,Ur.J)())}return oe})}}return S.\u0275fac=function(b){return new(b||S)(_.LFG(oi),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(Sa),_.LFG(Ta))},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Ys=new _.OlP("");let bl=(()=>{class S{constructor(b,P,z,oe,ce={}){this.urlSerializer=b,this.transitions=P,this.viewportScroller=z,this.zone=oe,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Ui&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Pi&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pi(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return S.\u0275fac=function(b){_.$Z()},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})();var Bs=(()=>((Bs=Bs||{})[Bs.COMPLETE=0]="COMPLETE",Bs[Bs.FAILED=1]="FAILED",Bs[Bs.REDIRECTING=2]="REDIRECTING",Bs))();const hs=!1;function $o(S,M){return{\u0275kind:S,\u0275providers:M}}const vs=new _.OlP("",{providedIn:"root",factory:()=>!1});function al(){const S=(0,_.f3M)(_.zs3);return M=>{const b=S.get(_.z2F);if(M!==b.components[0])return;const P=S.get(oi),z=S.get(Ba);1===S.get(uu)&&P.initialNavigation(),S.get(Ao,null,_.XFs.Optional)?.setUpPreloading(),S.get(Ys,null,_.XFs.Optional)?.init(),P.resetRootComponentType(b.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const Ba=new _.OlP(hs?"bootstrap done indicator":"",{factory:()=>new _e.x}),uu=new _.OlP(hs?"initial navigation":"",{providedIn:"root",factory:()=>1});function Qs(){let S=[];return S=hs?[{provide:_.Xts,multi:!0,useFactory:()=>{const M=(0,_.f3M)(oi);return()=>M.events.subscribe(b=>{console.group?.(`Router Event: ${b.constructor.name}`),console.log(function Ji(S){if(!("type"in S))return`Unknown Router Event: ${S.constructor.name}`;switch(S.type){case 14:return`ActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state}, shouldActivate: ${S.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 2:return`NavigationCancel(id: ${S.id}, url: '${S.url}')`;case 16:return`NavigationSkipped(id: ${S.id}, url: '${S.url}')`;case 1:return`NavigationEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${S.id}, url: '${S.url}', error: ${S.error})`;case 0:return`NavigationStart(id: ${S.id}, url: '${S.url}')`;case 6:return`ResolveEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 5:return`ResolveStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 10:return`RouteConfigLoadEnd(path: ${S.route.path})`;case 9:return`RouteConfigLoadStart(path: ${S.route.path})`;case 4:return`RoutesRecognized(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 15:return`Scroll(anchor: '${S.anchor}', position: '${S.position?`${S.position[0]}, ${S.position[1]}`:null}')`}}(b)),console.log(b),console.groupEnd?.()})}}]:[],$o(1,S)}const Ao=new _.OlP(hs?"router preloader":"");function Ha(S){return $o(0,[{provide:Ao,useExisting:lu},{provide:Sa,useExisting:S}])}const Il=!1,Go=new _.OlP(Il?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ns=[bt.Ye,{provide:Se,useClass:Pe},oi,uo,{provide:ss,useFactory:function ht(S){return S.routerState.root},deps:[oi]},Ta,Il?{provide:vs,useValue:!0}:[]];function _o(){return new _.PXZ("Router",oi)}let Js=(()=>{class S{constructor(b){}static forRoot(b,P){return{ngModule:S,providers:[Ns,Il&&P?.enableTracing?Qs().\u0275providers:[],{provide:mo,multi:!0,useValue:b},{provide:Go,useFactory:Ou,deps:[[oi,new _.FiY,new _.tp0]]},{provide:er,useValue:P||{}},P?.useHash?{provide:bt.S$,useClass:bt.Do}:{provide:bt.S$,useClass:bt.b0},{provide:Ys,useFactory:()=>{const S=(0,_.f3M)(bt.EM),M=(0,_.f3M)(_.R0b),b=(0,_.f3M)(er),P=(0,_.f3M)(Ul),z=(0,_.f3M)(Se);return b.scrollOffset&&S.setOffset(b.scrollOffset),new bl(z,P,S,M,b)}},P?.preloadingStrategy?Ha(P.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:_o},P?.initialNavigation?$a(P):[],[{provide:Wc,useFactory:al},{provide:_.tb,multi:!0,useExisting:Wc}]]}}static forChild(b){return{ngModule:S,providers:[{provide:mo,multi:!0,useValue:b}]}}}return S.\u0275fac=function(b){return new(b||S)(_.LFG(Go,8))},S.\u0275mod=_.oAB({type:S}),S.\u0275inj=_.cJS({imports:[_i]}),S})();function Ou(S){if(Il&&S)throw new _.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function $a(S){return["disabled"===S.initialNavigation?$o(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const M=(0,_.f3M)(oi);return()=>{M.setUpLocationChangeListener()}}},{provide:uu,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?$o(2,[{provide:uu,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:M=>{const b=M.get(bt.V_,Promise.resolve());return()=>b.then(()=>new Promise(P=>{const z=M.get(oi),oe=M.get(Ba);(function sl(S,M){S.events.pipe((0,ot.h)(b=>b instanceof Ui||b instanceof xi||b instanceof Fs||b instanceof pr),(0,Bt.U)(b=>b instanceof Ui||b instanceof pr?Bs.COMPLETE:b instanceof xi&&(0===b.code||1===b.code)?Bs.REDIRECTING:Bs.FAILED),(0,ot.h)(b=>b!==Bs.REDIRECTING),(0,rt.q)(1)).subscribe(()=>{M()})})(z,()=>{P(!0)}),M.get(Ul).afterPreactivation=()=>(P(!0),oe.closed?(0,Z.of)(void 0):oe),z.initialNavigation()}))}}]).\u0275providers:[]]}const Wc=new _.OlP(Il?"Router Initializer":"")},3942:(Gt,qe,U)=>{U.d(qe,{Z:()=>ze});var _=U(2090),E=U(4859),Z=U(9681),_e=U(1877);class K{constructor(tt,Xe){this._delegate=tt,this.firebase=Xe,(0,Z._addComponent)(tt,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(tt,Xe=Z._DEFAULT_ENTRY_NAME){var Te;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(tt);return!Ye.isInitialized()&&"EXPLICIT"===(null===(Te=Ye.getComponent())||void 0===Te?void 0:Te.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:Xe})}_removeServiceInstance(tt,Xe=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(Xe)}_addComponent(tt){(0,Z._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,Z._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function pe(){const _t=function he(_t){const tt={},Xe={__esModule:!0,initializeApp:function Ve(Me,Ce={}){const Re=Z.initializeApp(Me,Ce);if((0,_.r3)(tt,Re.name))return tt[Re.name];const pt=new _t(Re,Xe);return tt[Re.name]=pt,pt},app:Ye,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function ye(Me){const Ce=Me.name,Re=Ce.replace("-compat","");if(Z._registerComponent(Me)&&"PUBLIC"===Me.type){const pt=(bt=Ye())=>{if("function"!=typeof bt[Re])throw ie.create("invalid-app-argument",{appName:Ce});return bt[Re]()};void 0!==Me.serviceProps&&(0,_.ZB)(pt,Me.serviceProps),Xe[Re]=pt,_t.prototype[Re]=function(...bt){return this._getService.bind(this,Ce).apply(this,Me.multipleInstances?bt:[])}}return"PUBLIC"===Me.type?Xe[Re]:null},removeApp:function Te(Me){delete tt[Me]},useAsService:function be(Me,Ce){return"serverAuth"===Ce?null:Ce},modularAPIs:Z}};function Ye(Me){if(!(0,_.r3)(tt,Me=Me||Z._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Me});return tt[Me]}return Xe.default=Xe,Object.defineProperty(Xe,"apps",{get:function k(){return Object.keys(tt).map(Me=>tt[Me])}}),Ye.App=_t,Xe}(K);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function tt(Xe){(0,_.ZB)(_t,Xe)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),_t}(),se=new _e.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=ee;!function Ge(_t){(0,Z.registerVersion)("@firebase/app-compat","0.2.8",_t)}()},9681:(Gt,qe,U)=>{U.r(qe),U.d(qe,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>mr,_DEFAULT_ENTRY_NAME:()=>wt,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>Ft,_apps:()=>Ot,_clearComponents:()=>xn,_components:()=>Rt,_getProvider:()=>_n,_registerComponent:()=>Tn,_removeServiceInstance:()=>Un,deleteApp:()=>Dr,getApp:()=>qn,getApps:()=>zr,initializeApp:()=>gn,onLog:()=>Dn,registerVersion:()=>qt,setLogLevel:()=>li});var _=U(5861),E=U(4859),Z=U(1877),_e=U(2090),K=U(8766);class Y{constructor(Tt){this.container=Tt}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function ie(nn){return"VERSION"===nn.getComponent()?.type}(We)){const Se=We.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(We=>We).join(" ")}}const he="@firebase/app",ee=new Z.Yd("@firebase/app"),wt="[DEFAULT]",yt={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,Rt=new Map;function Zt(nn,Tt){try{nn.container.addComponent(Tt)}catch(We){ee.debug(`Component ${Tt.name} failed to register with FirebaseApp ${nn.name}`,We)}}function Ft(nn,Tt){nn.container.addOrOverwriteComponent(Tt)}function Tn(nn){const Tt=nn.name;if(Rt.has(Tt))return ee.debug(`There were multiple attempts to register component ${Tt}.`),!1;Rt.set(Tt,nn);for(const We of Ot.values())Zt(We,nn);return!0}function _n(nn,Tt){const We=nn.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),nn.container.getProvider(Tt)}function Un(nn,Tt,We=wt){_n(nn,Tt).clearInstance(We)}function xn(){Rt.clear()}const Yn=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ur{constructor(Tt,We,Se){this._isDeleted=!1,this._options=Object.assign({},Tt),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Tt){this._isDeleted=Tt}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const mr="9.20.0";function gn(nn,Tt={}){let We=nn;"object"!=typeof Tt&&(Tt={name:Tt});const Se=Object.assign({name:wt,automaticDataCollectionEnabled:!1},Tt),Pe=Se.name;if("string"!=typeof Pe||!Pe)throw Yn.create("bad-app-name",{appName:String(Pe)});if(We||(We=(0,_e.aH)()),!We)throw Yn.create("no-options");const St=Ot.get(Pe);if(St){if((0,_e.vZ)(We,St.options)&&(0,_e.vZ)(Se,St.config))return St;throw Yn.create("duplicate-app",{appName:Pe})}const Et=new E.H0(Pe);for(const Ee of Rt.values())Et.addComponent(Ee);const ve=new Ur(We,Se,Et);return Ot.set(Pe,ve),ve}function qn(nn=wt){const Tt=Ot.get(nn);if(!Tt&&nn===wt)return gn();if(!Tt)throw Yn.create("no-app",{appName:nn});return Tt}function zr(){return Array.from(Ot.values())}function Dr(nn){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,_.Z)(function*(nn){const Tt=nn.name;Ot.has(Tt)&&(Ot.delete(Tt),yield Promise.all(nn.container.getProviders().map(We=>We.delete())),nn.isDeleted=!0)})).apply(this,arguments)}function qt(nn,Tt,We){var Se;let Pe=null!==(Se=yt[nn])&&void 0!==Se?Se:nn;We&&(Pe+=`-${We}`);const St=Pe.match(/\s|\//),Et=Tt.match(/\s|\//);if(St||Et){const ve=[`Unable to register library "${Pe}" with version "${Tt}":`];return St&&ve.push(`library name "${Pe}" contains illegal characters (whitespace or "/")`),St&&Et&&ve.push("and"),Et&&ve.push(`version name "${Tt}" contains illegal characters (whitespace or "/")`),void ee.warn(ve.join(" "))}Tn(new E.wA(`${Pe}-version`,()=>({library:Pe,version:Tt}),"VERSION"))}function Dn(nn,Tt){if(null!==nn&&"function"!=typeof nn)throw Yn.create("invalid-log-argument");(0,Z.Am)(nn,Tt)}function li(nn){(0,Z.Ub)(nn)}const Or="firebase-heartbeat-database",qi=1,wi="firebase-heartbeat-store";let Sn=null;function zn(){return Sn||(Sn=(0,K.X3)(Or,qi,{upgrade:(nn,Tt)=>{0===Tt&&nn.createObjectStore(wi)}}).catch(nn=>{throw Yn.create("idb-open",{originalErrorMessage:nn.message})})),Sn}function Yt(){return(Yt=(0,_.Z)(function*(nn){try{return(yield zn()).transaction(wi).objectStore(wi).get(Ar(nn))}catch(Tt){if(Tt instanceof _e.ZR)ee.warn(Tt.message);else{const We=Yn.create("idb-get",{originalErrorMessage:Tt?.message});ee.warn(We.message)}}})).apply(this,arguments)}function Yr(nn,Tt){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,_.Z)(function*(nn,Tt){try{const Se=(yield zn()).transaction(wi,"readwrite");return yield Se.objectStore(wi).put(Tt,Ar(nn)),Se.done}catch(We){if(We instanceof _e.ZR)ee.warn(We.message);else{const Se=Yn.create("idb-set",{originalErrorMessage:We?.message});ee.warn(Se.message)}}})).apply(this,arguments)}function Ar(nn){return`${nn.name}!${nn.options.appId}`}class Cs{constructor(Tt){this.container=Tt,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new Bn(We),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var Tt=this;return(0,_.Z)(function*(){const Se=Tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pe=ur();if(null===Tt._heartbeatsCache&&(Tt._heartbeatsCache=yield Tt._heartbeatsCachePromise),Tt._heartbeatsCache.lastSentHeartbeatDate!==Pe&&!Tt._heartbeatsCache.heartbeats.some(St=>St.date===Pe))return Tt._heartbeatsCache.heartbeats.push({date:Pe,agent:Se}),Tt._heartbeatsCache.heartbeats=Tt._heartbeatsCache.heartbeats.filter(St=>{const Et=new Date(St.date).valueOf();return Date.now()-Et<=2592e6}),Tt._storage.overwrite(Tt._heartbeatsCache)})()}getHeartbeatsHeader(){var Tt=this;return(0,_.Z)(function*(){if(null===Tt._heartbeatsCache&&(yield Tt._heartbeatsCachePromise),null===Tt._heartbeatsCache||0===Tt._heartbeatsCache.heartbeats.length)return"";const We=ur(),{heartbeatsToSend:Se,unsentEntries:Pe}=function ci(nn,Tt=1024){const We=[];let Se=nn.slice();for(const Pe of nn){const St=We.find(Et=>Et.agent===Pe.agent);if(St){if(St.dates.push(Pe.date),On(We)>Tt){St.dates.pop();break}}else if(We.push({agent:Pe.agent,dates:[Pe.date]}),On(We)>Tt){We.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:We,unsentEntries:Se}}(Tt._heartbeatsCache.heartbeats),St=(0,_e.L)(JSON.stringify({version:2,heartbeats:Se}));return Tt._heartbeatsCache.lastSentHeartbeatDate=We,Pe.length>0?(Tt._heartbeatsCache.heartbeats=Pe,yield Tt._storage.overwrite(Tt._heartbeatsCache)):(Tt._heartbeatsCache.heartbeats=[],Tt._storage.overwrite(Tt._heartbeatsCache)),St})()}}function ur(){return(new Date).toISOString().substring(0,10)}class Bn{constructor(Tt){this.app=Tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Tt=this;return(0,_.Z)(function*(){return(yield Tt._canUseIndexedDBPromise)&&(yield function ln(nn){return Yt.apply(this,arguments)}(Tt.app))||{heartbeats:[]}})()}overwrite(Tt){var We=this;return(0,_.Z)(function*(){var Se;if(yield We._canUseIndexedDBPromise){const St=yield We.read();return Yr(We.app,{lastSentHeartbeatDate:null!==(Se=Tt.lastSentHeartbeatDate)&&void 0!==Se?Se:St.lastSentHeartbeatDate,heartbeats:Tt.heartbeats})}})()}add(Tt){var We=this;return(0,_.Z)(function*(){var Se;if(yield We._canUseIndexedDBPromise){const St=yield We.read();return Yr(We.app,{lastSentHeartbeatDate:null!==(Se=Tt.lastSentHeartbeatDate)&&void 0!==Se?Se:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...Tt.heartbeats]})}})()}}function On(nn){return(0,_e.L)(JSON.stringify({version:2,heartbeats:nn})).length}!function $n(nn){Tn(new E.wA("platform-logger",Tt=>new Y(Tt),"PRIVATE")),Tn(new E.wA("heartbeat",Tt=>new Cs(Tt),"PRIVATE")),qt(he,"0.9.8",nn),qt(he,"0.9.8","esm2017"),qt("fire-js","")}("")},4859:(Gt,qe,U)=>{U.d(qe,{H0:()=>he,wA:()=>Z,zt:()=>K});var _=U(5861),E=U(2090);class Z{constructor(ee,se,me){this.name=ee,this.instanceFactory=se,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const _e="[DEFAULT]";class K{constructor(ee,se){this.name=ee,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const se=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(se)){const me=new E.BH;if(this.instancesDeferred.set(se,me),this.isInitialized(se)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:se});ke&&me.resolve(ke)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(ee){var se;const me=this.normalizeInstanceIdentifier(ee?.identifier),ke=null!==(se=ee?.optional)&&void 0!==se&&se;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Ge){if(ke)return null;throw Ge}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function ie(pe){return"EAGER"===pe.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[se,me]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(se);try{const Ge=this.getOrInitializeService({instanceIdentifier:ke});me.resolve(Ge)}catch{}}}}clearInstance(ee=_e){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,_.Z)(function*(){const se=Array.from(ee.instances.values());yield Promise.all([...se.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...se.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=_e){return this.instances.has(ee)}getOptions(ee=_e){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:se={}}=ee,me=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:me,options:se});for(const[Ge,ze]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Ge)&&ze.resolve(ke);return ke}onInit(ee,se){var me;const ke=this.normalizeInstanceIdentifier(se),Ge=null!==(me=this.onInitCallbacks.get(ke))&&void 0!==me?me:new Set;Ge.add(ee),this.onInitCallbacks.set(ke,Ge);const ze=this.instances.get(ke);return ze&&ee(ze,ke),()=>{Ge.delete(ee)}}invokeOnInitCallbacks(ee,se){const me=this.onInitCallbacks.get(se);if(me)for(const ke of me)try{ke(ee,se)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:se={}}){let me=this.instances.get(ee);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=ee,pe===_e?void 0:pe),options:se}),this.instances.set(ee,me),this.instancesOptions.set(ee,se),this.invokeOnInitCallbacks(me,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,me)}catch{}var pe;return me||null}normalizeInstanceIdentifier(ee=_e){return this.component?this.component.multipleInstances?ee:_e:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const se=this.getProvider(ee.name);if(se.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);se.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const se=new K(ee,this);return this.providers.set(ee,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(Gt,qe,U)=>{U.d(qe,{Am:()=>pe,Ub:()=>he,Yd:()=>ie,in:()=>E});const _=[];var E=(()=>{return(ee=E||(E={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",E;var ee})();const Z={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},_e=E.INFO,K={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},Y=(ee,se,...me)=>{if(se<ee.logLevel)return;const ke=(new Date).toISOString(),Ge=K[se];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Ge](`[${ke}]  ${ee.name}:`,...me)};class ie{constructor(se){this.name=se,this._logLevel=_e,this._logHandler=Y,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in E))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?Z[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...se),this._logHandler(this,E.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...se),this._logHandler(this,E.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,E.INFO,...se),this._logHandler(this,E.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,E.WARN,...se),this._logHandler(this,E.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...se),this._logHandler(this,E.ERROR,...se)}}function he(ee){_.forEach(se=>{se.setLogLevel(ee)})}function pe(ee,se){for(const me of _){let ke=null;se&&se.level&&(ke=Z[se.level]),me.userLogHandler=null===ee?null:(Ge,ze,..._t)=>{const tt=_t.map(Xe=>{if(null==Xe)return null;if("string"==typeof Xe)return Xe;if("number"==typeof Xe||"boolean"==typeof Xe)return Xe.toString();if(Xe instanceof Error)return Xe.message;try{return JSON.stringify(Xe)}catch{return null}}).filter(Xe=>Xe).join(" ");ze>=(ke??Ge.logLevel)&&ee({level:E[ze].toLowerCase(),message:tt,args:_t,type:Ge.name})}}}},259:(Gt,qe,U)=>{U.d(qe,{C6:()=>_.getApps,Mq:()=>_.getApp});var _=U(9681);(0,_.registerVersion)("firebase","9.20.0","app")},9260:(Gt,qe,U)=>{U.d(qe,{Z:()=>_.Z});var _=U(3942);_.Z.registerVersion("firebase","9.20.0","app-compat")},6689:(Gt,qe,U)=>{U.r(qe);var _=U(5861),E=U(3942),Z=U(2090),_e=U(9681),K=U(655),Y=U(1877),ie=U(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me_EMAIL_SIGNIN="EMAIL_SIGNIN",me_PASSWORD_RESET="PASSWORD_RESET",me_RECOVER_EMAIL="RECOVER_EMAIL",me_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",me_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",me_VERIFY_EMAIL="VERIFY_EMAIL";const ze=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},_t=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new Y.Yd("@firebase/auth");function Ve(I,...g){Te.logLevel<=Y.in.ERROR&&Te.error(`Auth (${_e.SDK_VERSION}): ${I}`,...g)}function k(I,...g){throw Ce(I,...g)}function ye(I,...g){return Ce(I,...g)}function be(I,g,y){const A=Object.assign(Object.assign({},_t()),{[g]:y});return new Z.LL("auth","Firebase",A).create(g,{appName:I.name})}function Me(I,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&k(I,"argument-error"),be(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ce(I,...g){if("string"!=typeof I){const y=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=I.name),I._errorFactory.create(y,...A)}return tt.create(I,...g)}function Re(I,g,...y){if(!I)throw Ce(g,...y)}function pt(I){const g="INTERNAL ASSERTION FAILED: "+I;throw Ve(g),new Error(g)}function bt(I,g){I||pt(g)}function Bt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Ht(){return"http:"===rt()||"https:"===rt()}function rt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ut{constructor(g,y){this.shortDelay=g,this.longDelay=y,bt(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return function vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ht()||(0,Z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wt(I,g){bt(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class yt{static initialize(g,y,A){this.fetchImpl=g,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rt=new ut(3e4,6e4);function Zt(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function Ft(I,g,y,A){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,_.Z)(function*(I,g,y,A,W={}){return _n(I,W,(0,_.Z)(function*(){let ae={},Be={};A&&("GET"===g?Be=A:ae={body:JSON.stringify(A)});const it=(0,Z.xO)(Object.assign({key:I.config.apiKey},Be)).slice(1),Nt=yield I._getAdditionalHeaders();return Nt["Content-Type"]="application/json",I.languageCode&&(Nt["X-Firebase-Locale"]=I.languageCode),yt.fetch()(Yn(I,I.config.apiHost,y,it),Object.assign({method:g,headers:Nt,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function _n(I,g,y){return Un.apply(this,arguments)}function Un(){return(Un=(0,_.Z)(function*(I,g,y){I._canInitEmulator=!1;const A=Object.assign(Object.assign({},Ot),g);try{const W=new Ur(I),ae=yield Promise.race([y(),W.promise]);W.clearNetworkTimeout();const Be=yield ae.json();if("needConfirmation"in Be)throw mr(I,"account-exists-with-different-credential",Be);if(ae.ok&&!("errorMessage"in Be))return Be;{const it=ae.ok?Be.errorMessage:Be.error.message,[Nt,Jt]=it.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nt)throw mr(I,"credential-already-in-use",Be);if("EMAIL_EXISTS"===Nt)throw mr(I,"email-already-in-use",Be);if("USER_DISABLED"===Nt)throw mr(I,"user-disabled",Be);const En=A[Nt]||Nt.toLowerCase().replace(/[_\s]+/g,"-");if(Jt)throw be(I,En,Jt);k(I,En)}}catch(W){if(W instanceof Z.ZR)throw W;k(I,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function xn(I,g,y,A){return ir.apply(this,arguments)}function ir(){return(ir=(0,_.Z)(function*(I,g,y,A,W={}){const ae=yield Ft(I,g,y,A,W);return"mfaPendingCredential"in ae&&k(I,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function Yn(I,g,y,A){const W=`${g}${y}?${A}`;return I.config.emulator?wt(I.config,W):`${I.config.apiScheme}://${W}`}class Ur{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(ye(this.auth,"network-request-failed")),Rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mr(I,g,y){const A={appName:I.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const W=ye(I,g,A);return W.customData._tokenResponse=y,W}function qn(){return(qn=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Dr(){return(Dr=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qt(){return(qt=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Dn(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function qi(){return(qi=(0,_.Z)(function*(I,g=!1){const y=(0,Z.m9)(I),A=yield y.getIdToken(g),W=Sn(A);Re(W&&W.exp&&W.auth_time&&W.iat,y.auth,"internal-error");const ae="object"==typeof W.firebase?W.firebase:void 0,Be=ae?.sign_in_provider;return{claims:W,token:A,authTime:Dn(wi(W.auth_time)),issuedAtTime:Dn(wi(W.iat)),expirationTime:Dn(wi(W.exp)),signInProvider:Be||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function wi(I){return 1e3*Number(I)}function Sn(I){const[g,y,A]=I.split(".");if(void 0===g||void 0===y||void 0===A)return Ve("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,Z.tV)(y);return W?JSON.parse(W):(Ve("Failed to decode base64 JWT payload"),null)}catch(W){return Ve("Caught error parsing JWT payload as JSON",W?.toString()),null}}function ln(I,g){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,_.Z)(function*(I,g,y=!1){if(y)return g;try{return yield g}catch(A){throw A instanceof Z.ZR&&function Yr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(A)&&I.auth.currentUser===I&&(yield I.auth.signOut()),A}})).apply(this,arguments)}class Vr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const W=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,_.Z)(function*(){yield y.iteration()}),A)}iteration(){var g=this;return(0,_.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class Ar{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dn(this.lastLoginAt),this.creationTime=Dn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Br(I){return ui.apply(this,arguments)}function ui(){return ui=(0,_.Z)(function*(I){var g;const y=I.auth,A=yield I.getIdToken(),W=yield ln(I,function Nn(I,g){return qt.apply(this,arguments)}(y,{idToken:A}));Re(W?.users.length,y,"internal-error");const ae=W.users[0];I._notifyReloadListener(ae);const Be=null!==(g=ae.providerUserInfo)&&void 0!==g&&g.length?function Bn(I){return I.map(g=>{var{providerId:y}=g,A=(0,K._T)(g,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(ae.providerUserInfo):[],it=function ci(I,g){return[...I.filter(A=>!g.some(W=>W.providerId===A.providerId)),...g]}(I.providerData,Be),En=!!I.isAnonymous&&!(I.email&&ae.passwordHash||it?.length),pn={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:it,metadata:new Ar(ae.createdAt,ae.lastLoginAt),isAnonymous:En};Object.assign(I,pn)}),ui.apply(this,arguments)}function ur(){return(ur=(0,_.Z)(function*(I){const g=(0,Z.m9)(I);yield Br(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function $n(){return($n=(0,_.Z)(function*(I,g){const y=yield _n(I,{},(0,_.Z)(function*(){const A=(0,Z.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:W,apiKey:ae}=I.config,Be=Yn(I,W,"/v1/token",`key=${ae}`),it=yield I._getAdditionalHeaders();return it["Content-Type"]="application/x-www-form-urlencoded",yt.fetch()(Be,{method:"POST",headers:it,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Re(g.idToken,"internal-error"),Re(typeof g.idToken<"u","internal-error"),Re(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function zn(I){const g=Sn(I);return Re(g,"internal-error"),Re(typeof g.exp<"u","internal-error"),Re(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var A=this;return(0,_.Z)(function*(){return Re(!A.accessToken||A.refreshToken,g,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var A=this;return(0,_.Z)(function*(){const{accessToken:W,refreshToken:ae,expiresIn:Be}=yield function On(I,g){return $n.apply(this,arguments)}(g,y);A.updateTokensAndExpiration(W,ae,Number(Be))})()}updateTokensAndExpiration(g,y,A){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,y){const{refreshToken:A,accessToken:W,expirationTime:ae}=y,Be=new nn;return A&&(Re("string"==typeof A,"internal-error",{appName:g}),Be.refreshToken=A),W&&(Re("string"==typeof W,"internal-error",{appName:g}),Be.accessToken=W),ae&&(Re("number"==typeof ae,"internal-error",{appName:g}),Be.expirationTime=ae),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new nn,this.toJSON())}_performRefresh(){return pt("not implemented")}}function Tt(I,g){Re("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class We{constructor(g){var{uid:y,auth:A,stsTokenManager:W}=g,ae=(0,K._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new Ar(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,_.Z)(function*(){const A=yield ln(y,y.stsTokenManager.getToken(y.auth,g));return Re(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(g){return function Or(I){return qi.apply(this,arguments)}(this,g)}reload(){return function Cs(I){return ur.apply(this,arguments)}(this)}_assign(g){this!==g&&(Re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new We(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var A=this;return(0,_.Z)(function*(){let W=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),W=!0),y&&(yield Br(A)),yield A.auth._persistUserIfCurrent(A),W&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,_.Z)(function*(){const y=yield g.getIdToken();return yield ln(g,function gn(I,g){return qn.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var A,W,ae,Be,it,Nt,Jt,En;const pn=null!==(A=y.displayName)&&void 0!==A?A:void 0,Kr=null!==(W=y.email)&&void 0!==W?W:void 0,Ls=null!==(ae=y.phoneNumber)&&void 0!==ae?ae:void 0,sd=null!==(Be=y.photoURL)&&void 0!==Be?Be:void 0,dl=null!==(it=y.tenantId)&&void 0!==it?it:void 0,nf=null!==(Nt=y._redirectEventId)&&void 0!==Nt?Nt:void 0,fs=null!==(Jt=y.createdAt)&&void 0!==Jt?Jt:void 0,Gu=null!==(En=y.lastLoginAt)&&void 0!==En?En:void 0,{uid:od,emailVerified:oh,isAnonymous:zu,providerData:ad,stsTokenManager:lp}=y;Re(od&&lp,g,"internal-error");const up=nn.fromJSON(this.name,lp);Re("string"==typeof od,g,"internal-error"),Tt(pn,g.name),Tt(Kr,g.name),Re("boolean"==typeof oh,g,"internal-error"),Re("boolean"==typeof zu,g,"internal-error"),Tt(Ls,g.name),Tt(sd,g.name),Tt(dl,g.name),Tt(nf,g.name),Tt(fs,g.name),Tt(Gu,g.name);const ld=new We({uid:od,auth:g,email:Kr,emailVerified:oh,displayName:pn,isAnonymous:zu,photoURL:sd,phoneNumber:Ls,tenantId:dl,stsTokenManager:up,createdAt:fs,lastLoginAt:Gu});return ad&&Array.isArray(ad)&&(ld.providerData=ad.map(rf=>Object.assign({},rf))),nf&&(ld._redirectEventId=nf),ld}static _fromIdTokenResponse(g,y,A=!1){return(0,_.Z)(function*(){const W=new nn;W.updateFromServerResponse(y);const ae=new We({uid:y.localId,auth:g,stsTokenManager:W,isAnonymous:A});return yield Br(ae),ae})()}}const Se=new Map;function Pe(I){bt(I instanceof Function,"Expected a class definition");let g=Se.get(I);return g?(bt(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,Se.set(I,g),g)}const Et=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(y,A){var W=this;return(0,_.Z)(function*(){W.storage[y]=A})()}_get(y){var A=this;return(0,_.Z)(function*(){const W=A.storage[y];return void 0===W?null:W})()}_remove(y){var A=this;return(0,_.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return I.type="NONE",I})();function ve(I,g,y){return`firebase:${I}:${g}:${y}`}class Ee{constructor(g,y,A){this.persistence=g,this.auth=y,this.userKey=A;const{config:W,name:ae}=this.auth;this.fullUserKey=ve(this.userKey,W.apiKey,ae),this.fullPersistenceKey=ve("persistence",W.apiKey,ae),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,_.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?We._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,_.Z)(function*(){if(y.persistence===g)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,A="authUser"){return(0,_.Z)(function*(){if(!y.length)return new Ee(Pe(Et),g,A);const W=(yield Promise.all(y.map(function(){var Jt=(0,_.Z)(function*(En){if(yield En._isAvailable())return En});return function(En){return Jt.apply(this,arguments)}}()))).filter(Jt=>Jt);let ae=W[0]||Pe(Et);const Be=ve(A,g.config.apiKey,g.name);let it=null;for(const Jt of y)try{const En=yield Jt._get(Be);if(En){const pn=We._fromJSON(g,En);Jt!==ae&&(it=pn),ae=Jt;break}}catch{}const Nt=W.filter(Jt=>Jt._shouldAllowMigration);return ae._shouldAllowMigration&&Nt.length?(ae=Nt[0],it&&(yield ae._set(Be,it.toJSON())),yield Promise.all(y.map(function(){var Jt=(0,_.Z)(function*(En){if(En!==ae)try{yield En._remove(Be)}catch{}});return function(En){return Jt.apply(this,arguments)}}())),new Ee(ae,g,A)):new Ee(ae,g,A)})()}}function Oe(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Le(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(at(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(fe(g))return"Blackberry";if(He(g))return"Webos";if(Je(g))return"Safari";if((g.includes("chrome/")||Vt(g))&&!g.includes("edge/"))return"Chrome";if(Ne(g))return"Android";{const A=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function at(I=(0,Z.z$)()){return/firefox\//i.test(I)}function Je(I=(0,Z.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Vt(I=(0,Z.z$)()){return/crios\//i.test(I)}function Le(I=(0,Z.z$)()){return/iemobile/i.test(I)}function Ne(I=(0,Z.z$)()){return/android/i.test(I)}function fe(I=(0,Z.z$)()){return/blackberry/i.test(I)}function He(I=(0,Z.z$)()){return/webos/i.test(I)}function gt(I=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Kn(I=(0,Z.z$)()){return gt(I)||Ne(I)||He(I)||fe(I)||/windows phone/i.test(I)||Le(I)}function Li(I,g=[]){let y;switch(I){case"Browser":y=Oe((0,Z.z$)());break;case"Worker":y=`${Oe((0,Z.z$)())}-${I}`;break;default:y=I}const A=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${_e.SDK_VERSION}/${A}`}function is(){return(is=(0,_.Z)(function*(I){return(yield Ft(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Po(I,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,_.Z)(function*(I,g){return Ft(I,"GET","/v2/recaptchaConfig",Zt(I,g))})).apply(this,arguments)}function gs(I){return void 0!==I&&void 0!==I.getResponse}function Xn(I){return void 0!==I&&void 0!==I.enterprise}class kr{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function Is(I){return new Promise((g,y)=>{const A=document.createElement("script");A.setAttribute("src",I),A.onload=g,A.onerror=W=>{const ae=ye("internal-error");ae.customData=W,y(ae)},A.type="text/javascript",A.charset="UTF-8",function Si(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(A)})}function Qr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Ts{constructor(g){this.type="recaptcha-enterprise",this.auth=Zn(g)}verify(g="verify",y=!1){var A=this;return(0,_.Z)(function*(){function ae(){return ae=(0,_.Z)(function*(it){if(!y){if(null==it.tenantId&&null!=it._agentRecaptchaConfig)return it._agentRecaptchaConfig.siteKey;if(null!=it.tenantId&&void 0!==it._tenantRecaptchaConfigs[it.tenantId])return it._tenantRecaptchaConfigs[it.tenantId].siteKey}return new Promise(function(){var Nt=(0,_.Z)(function*(Jt,En){Po(it,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pn=>{if(void 0!==pn.recaptchaKey){const Kr=new kr(pn);return null==it.tenantId?it._agentRecaptchaConfig=Kr:it._tenantRecaptchaConfigs[it.tenantId]=Kr,Jt(Kr.siteKey)}En(new Error("recaptcha Enterprise site key undefined"))}).catch(pn=>{En(pn)})});return function(Jt,En){return Nt.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Be(it,Nt,Jt){const En=window.grecaptcha;Xn(En)?En.enterprise.ready(()=>{try{En.enterprise.execute(it,{action:g}).then(pn=>{Nt(pn)}).catch(pn=>{Jt(pn)})}catch(pn){Jt(pn)}}):Jt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((it,Nt)=>{(function W(it){return ae.apply(this,arguments)})(A.auth).then(Jt=>{if(!y&&Xn(window.grecaptcha))Be(Jt,it,Nt);else{if(typeof window>"u")return void Nt(new Error("RecaptchaVerifier is only supported in browser"));Is("https://www.google.com/recaptcha/enterprise.js?render="+Jt).then(()=>{Be(Jt,it,Nt)}).catch(En=>{Nt(En)})}}).catch(Jt=>{Nt(Jt)})})})()}}function di(I,g,y){return rn.apply(this,arguments)}function rn(){return(rn=(0,_.Z)(function*(I,g,y,A=!1){const W=new Ts(I);let ae;try{ae=yield W.verify(y)}catch{ae=yield W.verify(y,!0)}const Be=Object.assign({},g);return Object.assign(Be,A?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Be,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Be,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Be})).apply(this,arguments)}class An{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const A=ae=>new Promise((Be,it)=>{try{Be(g(ae))}catch(Nt){it(Nt)}});A.onAbort=y,this.queue.push(A);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,_.Z)(function*(){if(y.auth.currentUser===g)return;const A=[];try{for(const W of y.queue)yield W(g),W.onAbort&&A.push(W.onAbort)}catch(W){A.reverse();for(const ae of A)try{ae()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}class Hr{constructor(g,y,A,W){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=A,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new An(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(g,y){var A=this;return y&&(this._popupRedirectResolver=Pe(y)),this._initializationPromise=this.queue((0,_.Z)(function*(){var W,ae;if(!A._deleted&&(A.persistenceManager=yield Ee.create(A,g),!A._deleted)){if(null!==(W=A._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(ae=A.currentUser)||void 0===ae?void 0:ae.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,_.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,_.Z)(function*(){var A;const W=yield y.assertedPersistence.getCurrentUser();let ae=W,Be=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const it=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,Nt=ae?._redirectEventId,Jt=yield y.tryRedirectSignIn(g);(!it||it===Nt)&&Jt?.user&&(ae=Jt.user,Be=!0)}if(!ae)return y.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Be)try{yield y.beforeStateQueue.runMiddleware(ae)}catch(it){ae=W,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(it))}return ae?y.reloadAndSetCurrentUserOrClear(ae):y.directlySetCurrentUser(null)}return Re(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ae._redirectEventId?y.directlySetCurrentUser(ae):y.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(g){var y=this;return(0,_.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,_.Z)(function*(){try{yield Br(g)}catch(A){if("auth/network-request-failed"!==A?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ot(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,_.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,_.Z)(function*(){const A=g?(0,Z.m9)(g):null;return A&&Re(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(g,y=!1){var A=this;return(0,_.Z)(function*(){if(!A._deleted)return g&&Re(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,_.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,_.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,_.Z)(function*(){yield y.assertedPersistence.setPersistence(Pe(g))}))}initializeRecaptchaConfig(){var g=this;return(0,_.Z)(function*(){const y=yield Po(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new kr(y);null==g.tenantId?g._agentRecaptchaConfig=A:g._tenantRecaptchaConfigs[g.tenantId]=A,A.emailPasswordEnabled&&new Ts(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new Z.LL("auth","Firebase",g())}onAuthStateChanged(g,y,A){return this.registerStateListener(this.authStateSubscription,g,y,A)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,A){return this.registerStateListener(this.idTokenSubscription,g,y,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var A=this;return(0,_.Z)(function*(){const W=yield A.getOrInitRedirectPersistenceManager(y);return null===g?W.removeCurrentUser():W.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,_.Z)(function*(){if(!y.redirectPersistenceManager){const A=g&&Pe(g)||y._popupRedirectResolver;Re(A,y,"argument-error"),y.redirectPersistenceManager=yield Ee.create(y,[Pe(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,_.Z)(function*(){var A,W;return y._isInitialized&&(yield y.queue((0,_.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===g?y._currentUser:(null===(W=y.redirectUser)||void 0===W?void 0:W._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,_.Z)(function*(){if(g===y.currentUser)return y.queue((0,_.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,A,W){if(this._deleted)return()=>{};const ae="function"==typeof y?y:y.next.bind(y),Be=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(Be,this,"internal-error"),Be.then(()=>ae(this.currentUser)),"function"==typeof y?g.addObserver(y,A,W):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,_.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Li(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,_.Z)(function*(){var y;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const W=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();W&&(A["X-Firebase-Client"]=W);const ae=yield g._getAppCheckToken();return ae&&(A["X-Firebase-AppCheck"]=ae),A})()}_getAppCheckToken(){var g=this;return(0,_.Z)(function*(){var y;const A=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return A?.error&&function Ye(I,...g){Te.logLevel<=Y.in.WARN&&Te.warn(`Auth (${_e.SDK_VERSION}): ${I}`,...g)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Zn(I){return(0,Z.m9)(I)}class Mi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,Z.ne)(y=>this.observer=y)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Oo(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Gn(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class mi{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return pt("not implemented")}_getIdTokenResponse(g){return pt("not implemented")}_linkToIdToken(g,y){return pt("not implemented")}_getReauthenticationResolver(g){return pt("not implemented")}}function Qi(I,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:resetPassword",Zt(I,g))})).apply(this,arguments)}function Jr(I,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function pr(){return(pr=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:update",Zt(I,g))})).apply(this,arguments)}function Fs(I,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,_.Z)(function*(I,g){return xn(I,"POST","/v1/accounts:signInWithPassword",Zt(I,g))})).apply(this,arguments)}function Ue(I,g){return je.apply(this,arguments)}function je(){return(je=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:sendOobCode",Zt(I,g))})).apply(this,arguments)}function At(){return(At=(0,_.Z)(function*(I,g){return Ue(I,g)})).apply(this,arguments)}function $t(I,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,_.Z)(function*(I,g){return Ue(I,g)})).apply(this,arguments)}function Mn(I,g){return kn.apply(this,arguments)}function kn(){return(kn=(0,_.Z)(function*(I,g){return Ue(I,g)})).apply(this,arguments)}function Wr(){return(Wr=(0,_.Z)(function*(I,g){return Ue(I,g)})).apply(this,arguments)}function Ji(){return(Ji=(0,_.Z)(function*(I,g){return xn(I,"POST","/v1/accounts:signInWithEmailLink",Zt(I,g))})).apply(this,arguments)}function ko(){return(ko=(0,_.Z)(function*(I,g){return xn(I,"POST","/v1/accounts:signInWithEmailLink",Zt(I,g))})).apply(this,arguments)}class Xr extends mi{constructor(g,y,A,W=null){super("password",A),this._email=g,this._password=y,this._tenantId=W}static _fromEmailAndPassword(g,y){return new Xr(g,y,"password")}static _fromEmailAndCode(g,y,A=null){return new Xr(g,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,_.Z)(function*(){var A;switch(y.signInMethod){case"password":const W={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=g._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const ae=yield di(g,W,"signInWithPassword");return Fs(g,ae)}return Fs(g,W).catch(function(){var ae=(0,_.Z)(function*(Be){if("auth/missing-recaptcha-token"===Be.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const it=yield di(g,W,"signInWithPassword");return Fs(g,it)}return Promise.reject(Be)});return function(Be){return ae.apply(this,arguments)}}());case"emailLink":return function Pi(I,g){return Ji.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:k(g,"internal-error")}})()}_linkToIdToken(g,y){var A=this;return(0,_.Z)(function*(){switch(A.signInMethod){case"password":return Jr(g,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Bi(I,g){return ko.apply(this,arguments)}(g,{idToken:y,email:A._email,oobCode:A._password});default:k(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ms(I,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,_.Z)(function*(I,g){return xn(I,"POST","/v1/accounts:signInWithIdp",Zt(I,g))})).apply(this,arguments)}class Ds extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Ds(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):k("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:W}=y,ae=(0,K._T)(y,["providerId","signInMethod"]);if(!A||!W)return null;const Be=new Ds(A,W);return Be.idToken=ae.idToken||void 0,Be.accessToken=ae.accessToken||void 0,Be.secret=ae.secret,Be.nonce=ae.nonce,Be.pendingToken=ae.pendingToken||null,Be}_getIdTokenResponse(g){return ms(g,this.buildRequest())}_linkToIdToken(g,y){const A=this.buildRequest();return A.idToken=y,ms(g,A)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,ms(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,Z.xO)(y)}return g}}function io(){return(io=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:sendVerificationCode",Zt(I,g))})).apply(this,arguments)}function ya(){return(ya=(0,_.Z)(function*(I,g){return xn(I,"POST","/v1/accounts:signInWithPhoneNumber",Zt(I,g))})).apply(this,arguments)}function ss(){return(ss=(0,_.Z)(function*(I,g){const y=yield xn(I,"POST","/v1/accounts:signInWithPhoneNumber",Zt(I,g));if(y.temporaryProof)throw mr(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const oo={USER_NOT_FOUND:"user-not-found"};function os(){return(os=(0,_.Z)(function*(I,g){return xn(I,"POST","/v1/accounts:signInWithPhoneNumber",Zt(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),oo)})).apply(this,arguments)}class ao extends mi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new ao({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new ao({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function so(I,g){return ya.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Xo(I,g){return ss.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ws(I,g){return os.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:A,verificationCode:W}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:A,code:W}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:A,phoneNumber:W,temporaryProof:ae}=g;return A||y||W||ae?new ao({verificationId:y,verificationCode:A,phoneNumber:W,temporaryProof:ae}):null}}class Xi{constructor(g){var y,A,W,ae,Be,it;const Nt=(0,Z.zd)((0,Z.pd)(g)),Jt=null!==(y=Nt.apiKey)&&void 0!==y?y:null,En=null!==(A=Nt.oobCode)&&void 0!==A?A:null,pn=function Oa(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=Nt.mode)&&void 0!==W?W:null);Re(Jt&&En&&pn,"argument-error"),this.apiKey=Jt,this.operation=pn,this.code=En,this.continueUrl=null!==(ae=Nt.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Be=Nt.languageCode)&&void 0!==Be?Be:null,this.tenantId=null!==(it=Nt.tenantId)&&void 0!==it?it:null}static parseLink(g){const y=function ka(I){const g=(0,Z.zd)((0,Z.pd)(I)).link,y=g?(0,Z.zd)((0,Z.pd)(g)).deep_link_id:null,A=(0,Z.zd)((0,Z.pd)(I)).deep_link_id;return(A?(0,Z.zd)((0,Z.pd)(A)).link:null)||A||y||g||I}(g);try{return new Xi(y)}catch{return null}}}let ea=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,A){return Xr._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const W=Xi.parseLink(A);return Re(W,"argument-error"),Xr._fromEmailAndCode(y,W.code,W.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class as{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ta extends as{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class cr extends ta{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return Re("providerId"in y&&"signInMethod"in y,"argument-error"),Ds._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Re(g.idToken||g.accessToken,"argument-error"),Ds._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return cr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return cr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:A,oauthTokenSecret:W,pendingToken:ae,nonce:Be,providerId:it}=g;if(!A&&!W&&!y&&!ae||!it)return null;try{return new cr(it)._credential({idToken:y,accessToken:A,nonce:Be,pendingToken:ae})}catch{return null}}}let Ks=(()=>{class I extends ta{constructor(){super("facebook.com")}static credential(y){return Ds._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Hi=(()=>{class I extends ta{constructor(){super("google.com"),this.addScope("profile")}static credential(y,A){return Ds._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:A})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:A,oauthAccessToken:W}=y;if(!A&&!W)return null;try{return I.credential(A,W)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Us=(()=>{class I extends ta{constructor(){super("github.com")}static credential(y){return Ds._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class ls extends mi{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return ms(g,this.buildRequest())}_linkToIdToken(g,y){const A=this.buildRequest();return A.idToken=y,ms(g,A)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,ms(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:W,pendingToken:ae}=y;return A&&W&&ae&&A===W?new ls(A,ae):null}static _create(g,y){return new ls(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class uo extends as{constructor(g){Re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return uo.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return uo.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=ls.fromJSON(g);return Re(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:A}=g;if(!y||!A)return null;try{return ls._create(A,y)}catch{return null}}}let Ea=(()=>{class I extends ta{constructor(){super("twitter.com")}static credential(y,A){return Ds._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:A})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:A,oauthTokenSecret:W}=y;if(!A||!W)return null;try{return I.credential(A,W)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Eo(I,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,_.Z)(function*(I,g){return xn(I,"POST","/v1/accounts:signUp",Zt(I,g))})).apply(this,arguments)}class _r{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,A,W=!1){return(0,_.Z)(function*(){const ae=yield We._fromIdTokenResponse(g,A,W),Be=_i(A);return new _r({user:ae,providerId:Be,_tokenResponse:A,operationType:y})})()}static _forOperation(g,y,A){return(0,_.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const W=_i(A);return new _r({user:g,providerId:W,_tokenResponse:A,operationType:y})})()}}function _i(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ti(){return(ti=(0,_.Z)(function*(I){var g;const y=Zn(I);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new _r({user:y.currentUser,providerId:null,operationType:"signIn"});const A=yield Eo(y,{returnSecureToken:!0}),W=yield _r._fromIdTokenResponse(y,"signIn",A,!0);return yield y._updateCurrentUser(W.user),W})).apply(this,arguments)}class _s extends Z.ZR{constructor(g,y,A,W){var ae;super(y.code,y.message),this.operationType=A,this.user=W,Object.setPrototypeOf(this,_s.prototype),this.customData={appName:g.name,tenantId:null!==(ae=g.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,y,A,W){return new _s(g,y,A,W)}}function na(I,g,y,A){return("reauthenticate"===g?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?_s._fromErrorAndOperation(I,ae,g,A):ae})}function ji(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function La(){return La=(0,_.Z)(function*(I,g){const y=(0,Z.m9)(I);yield ho(!0,y,g);const{providerUserInfo:A}=yield function zr(I,g){return Dr.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),W=ji(A||[]);return y.providerData=y.providerData.filter(ae=>W.has(ae.providerId)),W.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),La.apply(this,arguments)}function ys(I,g){return $i.apply(this,arguments)}function $i(){return($i=(0,_.Z)(function*(I,g,y=!1){const A=yield ln(I,g._linkToIdToken(I.auth,yield I.getIdToken()),y);return _r._forOperation(I,"link",A)})).apply(this,arguments)}function ho(I,g,y){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,_.Z)(function*(I,g,y){yield Br(g);const W=!1===I?"provider-already-linked":"no-such-provider";Re(ji(g.providerData).has(y)===I,g.auth,W)})).apply(this,arguments)}function el(I,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,_.Z)(function*(I,g,y=!1){const{auth:A}=I,W="reauthenticate";try{const ae=yield ln(I,na(A,W,g,I),y);Re(ae.idToken,A,"internal-error");const Be=Sn(ae.idToken);Re(Be,A,"internal-error");const{sub:it}=Be;return Re(I.uid===it,A,"user-mismatch"),_r._forOperation(I,W,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&k(A,"user-mismatch"),ae}})).apply(this,arguments)}function Lo(I,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,_.Z)(function*(I,g,y=!1){const A="signIn",W=yield na(I,A,g),ae=yield _r._fromIdTokenResponse(I,A,W);return y||(yield I._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function Vn(I,g){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,_.Z)(function*(I,g){return Lo(Zn(I),g)})).apply(this,arguments)}function Fa(I,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,_.Z)(function*(I,g){const y=(0,Z.m9)(I);return yield ho(!1,y,g.providerId),ys(y,g)})).apply(this,arguments)}function Co(I,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,_.Z)(function*(I,g){return el((0,Z.m9)(I),g)})).apply(this,arguments)}function sa(){return(sa=(0,_.Z)(function*(I,g){return xn(I,"POST","/v1/accounts:signInWithCustomToken",Zt(I,g))})).apply(this,arguments)}function O(){return O=(0,_.Z)(function*(I,g){const y=Zn(I),A=yield function yl(I,g){return sa.apply(this,arguments)}(y,{token:g,returnSecureToken:!0}),W=yield _r._fromIdTokenResponse(y,"signIn",A);return yield y._updateCurrentUser(W.user),W}),O.apply(this,arguments)}class B{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?F._fromServerResponse(g,y):"totpInfo"in y?ue._fromServerResponse(g,y):k(g,"internal-error")}}class F extends B{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new F(y)}}class ue extends B{constructor(g){super("totp",g)}static _fromServerResponse(g,y){return new ue(y)}}function st(I,g,y){var A;Re((null===(A=y.url)||void 0===A?void 0:A.length)>0,I,"invalid-continue-uri"),Re(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Re(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(Re(y.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function yr(){return yr=(0,_.Z)(function*(I,g,y){var A;const W=Zn(I),ae={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=W._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Be=yield di(W,ae,"getOobCode",!0);y&&st(W,Be,y),yield $t(W,Be)}else y&&st(W,ae,y),yield $t(W,ae).catch(function(){var Be=(0,_.Z)(function*(it){if("auth/missing-recaptcha-token"!==it.code)return Promise.reject(it);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Nt=yield di(W,ae,"getOobCode",!0);y&&st(W,Nt,y),yield $t(W,Nt)}});return function(it){return Be.apply(this,arguments)}}())}),yr.apply(this,arguments)}function Rs(){return(Rs=(0,_.Z)(function*(I,g,y){yield Qi((0,Z.m9)(I),{oobCode:g,newPassword:y})})).apply(this,arguments)}function xs(){return xs=(0,_.Z)(function*(I,g){yield function xi(I,g){return pr.apply(this,arguments)}((0,Z.m9)(I),{oobCode:g})}),xs.apply(this,arguments)}function Ci(I,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,_.Z)(function*(I,g){const y=(0,Z.m9)(I),A=yield Qi(y,{oobCode:g}),W=A.requestType;switch(Re(W,y,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(A.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(A.mfaInfo,y,"internal-error");default:Re(A.email,y,"internal-error")}let ae=null;return A.mfaInfo&&(ae=B._fromServerResponse(Zn(y),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:ae},operation:W}})).apply(this,arguments)}function cs(){return(cs=(0,_.Z)(function*(I,g){const{data:y}=yield Ci((0,Z.m9)(I),g);return y.email})).apply(this,arguments)}function Uo(){return Uo=(0,_.Z)(function*(I,g,y){var A;const W=Zn(I),ae={returnSecureToken:!0,email:g,password:y,clientType:"CLIENT_TYPE_WEB"};let Be;if(null!==(A=W._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Jt=yield di(W,ae,"signUpPassword");Be=Eo(W,Jt)}else Be=Eo(W,ae).catch(function(){var Jt=(0,_.Z)(function*(En){if("auth/missing-recaptcha-token"===En.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const pn=yield di(W,ae,"signUpPassword");return Eo(W,pn)}return Promise.reject(En)});return function(En){return Jt.apply(this,arguments)}}());const it=yield Be.catch(Jt=>Promise.reject(Jt)),Nt=yield _r._fromIdTokenResponse(W,"signIn",it);return yield W._updateCurrentUser(Nt.user),Nt}),Uo.apply(this,arguments)}function Ca(){return Ca=(0,_.Z)(function*(I,g,y){var A;const W=Zn(I),ae={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function Be(it,Nt){Re(Nt.handleCodeInApp,W,"argument-error"),Nt&&st(W,it,Nt)}if(null!==(A=W._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const it=yield di(W,ae,"getOobCode",!0);Be(it,y),yield Mn(W,it)}else Be(ae,y),yield Mn(W,ae).catch(function(){var it=(0,_.Z)(function*(Nt){if("auth/missing-recaptcha-token"!==Nt.code)return Promise.reject(Nt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Jt=yield di(W,ae,"getOobCode",!0);Be(Jt,y),yield Mn(W,Jt)}});return function(Nt){return it.apply(this,arguments)}}())}),Ca.apply(this,arguments)}function Ua(){return(Ua=(0,_.Z)(function*(I,g,y){const A=(0,Z.m9)(I),W=ea.credentialWithLink(g,y||Bt());return Re(W._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Vn(A,W)})).apply(this,arguments)}function Bo(){return(Bo=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:createAuthUri",Zt(I,g))})).apply(this,arguments)}function oa(){return oa=(0,_.Z)(function*(I,g){const A={identifier:g,continueUri:Ht()?Bt():"http://localhost"},{signinMethods:W}=yield function Ni(I,g){return Bo.apply(this,arguments)}((0,Z.m9)(I),A);return W||[]}),oa.apply(this,arguments)}function Va(){return Va=(0,_.Z)(function*(I,g){const y=(0,Z.m9)(I),W={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&st(y.auth,W,g);const{email:ae}=yield function lt(I,g){return At.apply(this,arguments)}(y.auth,W);ae!==I.email&&(yield I.reload())}),Va.apply(this,arguments)}function nl(){return nl=(0,_.Z)(function*(I,g,y){const A=(0,Z.m9)(I),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};y&&st(A.auth,ae,y);const{email:Be}=yield function gr(I,g){return Wr.apply(this,arguments)}(A.auth,ae);Be!==I.email&&(yield I.reload())}),nl.apply(this,arguments)}function go(){return(go=(0,_.Z)(function*(I,g){return Ft(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function rl(){return rl=(0,_.Z)(function*(I,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const A=(0,Z.m9)(I),ae={idToken:yield A.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},Be=yield ln(A,function Ol(I,g){return go.apply(this,arguments)}(A.auth,ae));A.displayName=Be.displayName||null,A.photoURL=Be.photoUrl||null;const it=A.providerData.find(({providerId:Nt})=>"password"===Nt);it&&(it.displayName=A.displayName,it.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Be)}),rl.apply(this,arguments)}function Ps(I,g,y){return or.apply(this,arguments)}function or(){return(or=(0,_.Z)(function*(I,g,y){const{auth:A}=I,ae={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(ae.email=g),y&&(ae.password=y);const Be=yield ln(I,Jr(A,ae));yield I._updateTokensIfNecessary(Be,!0)})).apply(this,arguments)}class aa{constructor(g,y,A={}){this.isNewUser=g,this.providerId=y,this.profile=A}}class ri extends aa{constructor(g,y,A,W){super(g,y,A),this.username=W}}class oc extends aa{constructor(g,y){super(g,"facebook.com",y)}}class qs extends ri{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class kl extends aa{constructor(g,y){super(g,"google.com",y)}}class Ll extends ri{constructor(g,y,A){super(g,"twitter.com",y,A)}}function su(I){const{user:g,_tokenResponse:y}=I;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function xu(I){var g,y;if(!I)return null;const{providerId:A}=I,W=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ae=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!A&&I?.idToken){const Be=null===(y=null===(g=Sn(I.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(Be)return new aa(ae,"anonymous"!==Be&&"custom"!==Be?Be:null)}if(!A)return null;switch(A){case"facebook.com":return new oc(ae,W);case"github.com":return new qs(ae,W);case"google.com":return new kl(ae,W);case"twitter.com":return new Ll(ae,W,I.screenName||null);case"custom":case"anonymous":return new aa(ae,null);default:return new aa(ae,A,W)}}(y)}class Ct{constructor(g,y,A){this.type=g,this.credential=y,this.auth=A}static _fromIdtoken(g,y){return new Ct("enroll",g,y)}static _fromMfaPendingCredential(g){return new Ct("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,A;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Ct._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(A=g.multiFactorSession)&&void 0!==A&&A.idToken)return Ct._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ln{constructor(g,y,A){this.session=g,this.hints=y,this.signInResolver=A}static _fromError(g,y){const A=Zn(g),W=y.customData._serverResponse,ae=(W.mfaInfo||[]).map(it=>B._fromServerResponse(A,it));Re(W.mfaPendingCredential,A,"internal-error");const Be=Ct._fromMfaPendingCredential(W.mfaPendingCredential);return new Ln(Be,ae,function(){var it=(0,_.Z)(function*(Nt){const Jt=yield Nt._process(A,Be);delete W.mfaInfo,delete W.mfaPendingCredential;const En=Object.assign(Object.assign({},W),{idToken:Jt.idToken,refreshToken:Jt.refreshToken});switch(y.operationType){case"signIn":const pn=yield _r._fromIdTokenResponse(A,y.operationType,En);return yield A._updateCurrentUser(pn.user),pn;case"reauthenticate":return Re(y.user,A,"internal-error"),_r._forOperation(y.user,y.operationType,En);default:k(A,"internal-error")}});return function(Nt){return it.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,_.Z)(function*(){return y.signInResolver(g)})()}}class ct{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(A=>B._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new ct(g)}getSession(){var g=this;return(0,_.Z)(function*(){return Ct._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var A=this;return(0,_.Z)(function*(){const W=g,ae=yield A.getSession(),Be=yield ln(A.user,W._process(A.user.auth,ae,y));return yield A.user._updateTokensIfNecessary(Be),A.user.reload()})()}unenroll(g){var y=this;return(0,_.Z)(function*(){const A="string"==typeof g?g:g.uid,W=yield y.user.getIdToken();try{const ae=yield ln(y.user,function Wt(I,g){return Ft(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(I,g))}(y.user.auth,{idToken:W,mfaEnrollmentId:A}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Be})=>Be!==A),yield y.user._updateTokensIfNecessary(ae),yield y.user.reload()}catch(ae){throw ae}})()}}const Mt=new WeakMap,mo="__sak";class Ta{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(mo,"1"),this.storage.removeItem(mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ho=(()=>{class I extends Ta{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function To(){const I=(0,Z.z$)();return Je(I)||gt(I)}()&&function Ai(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Kn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const W=this.storage.getItem(A),ae=this.localCache[A];W!==ae&&y(A,ae,W)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((it,Nt,Jt)=>{this.notifyListeners(it,Jt)});const W=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const it=this.storage.getItem(W);if(y.newValue!==it)null!==y.newValue?this.storage.setItem(W,y.newValue):this.storage.removeItem(W);else if(this.localCache[W]===y.newValue&&!A)return}const ae=()=>{const it=this.storage.getItem(W);!A&&this.localCache[W]===it||this.notifyListeners(W,it)},Be=this.storage.getItem(W);!function hn(){return(0,Z.w1)()&&10===document.documentMode}()||Be===y.newValue||y.newValue===y.oldValue?ae():setTimeout(ae,10)}notifyListeners(y,A){this.localCache[y]=A;const W=this.listeners[y];if(W)for(const ae of Array.from(W))ae(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var W=()=>super._set,ae=this;return(0,_.Z)(function*(){yield W().call(ae,y,A),ae.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,W=this;return(0,_.Z)(function*(){const ae=yield A().call(W,y);return W.localCache[y]=JSON.stringify(ae),ae})()}_remove(y){var A=()=>super._remove,W=this;return(0,_.Z)(function*(){yield A().call(W,y),delete W.localCache[y]})()}}return I.type="LOCAL",I})(),es=(()=>{class I extends Ta{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return I.type="SESSION",I})();let Cl=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(ae=>ae.isListeningto(y));if(A)return A;const W=new I(y);return this.receivers.push(W),W}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,_.Z)(function*(){const W=y,{eventId:ae,eventType:Be,data:it}=W.data,Nt=A.handlersMap[Be];if(!Nt?.size)return;W.ports[0].postMessage({status:"ack",eventId:ae,eventType:Be});const Jt=Array.from(Nt).map(function(){var pn=(0,_.Z)(function*(Kr){return Kr(W.origin,it)});return function(Kr){return pn.apply(this,arguments)}}()),En=yield function Pu(I){return Promise.all(I.map(function(){var g=(0,_.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return g.apply(this,arguments)}}()))}(Jt);W.ports[0].postMessage({status:"done",eventId:ae,eventType:Be,response:En})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Rn(I="",g=10){let y="";for(let A=0;A<g;A++)y+=Math.floor(10*Math.random());return I+y}class la{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,A=50){var W=this;return(0,_.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Be,it;return new Promise((Nt,Jt)=>{const En=Rn("",20);ae.port1.start();const pn=setTimeout(()=>{Jt(new Error("unsupported_event"))},A);it={messageChannel:ae,onMessage(Kr){const Ls=Kr;if(Ls.data.eventId===En)switch(Ls.data.status){case"ack":clearTimeout(pn),Be=setTimeout(()=>{Jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),Nt(Ls.data.response);break;default:clearTimeout(pn),clearTimeout(Be),Jt(new Error("invalid_response"))}}},W.handlers.add(it),ae.port1.addEventListener("message",it.onMessage),W.target.postMessage({eventType:g,eventId:En,data:y},[ae.port2])}).finally(()=>{it&&W.removeMessageHandler(it)})})()}}function er(){return window}function bn(){return typeof er().WorkerGlobalScope<"u"&&"function"==typeof er().importScripts}function ge(){return(ge=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const tn="firebaseLocalStorageDb",oi=1,Do="firebaseLocalStorage",jo="fbase_key";class Lr{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Cr(I,g){return I.transaction([Do],g?"readwrite":"readonly").objectStore(Do)}function Vs(){const I=indexedDB.open(tn,oi);return new Promise((g,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const A=I.result;try{A.createObjectStore(Do,{keyPath:jo})}catch(W){y(W)}}),I.addEventListener("success",(0,_.Z)(function*(){const A=I.result;A.objectStoreNames.contains(Do)?g(A):(A.close(),yield function Sa(){const I=indexedDB.deleteDatabase(tn);return new Lr(I).toPromise()}(),g(yield Vs()))}))})}function au(I,g,y){return lu.apply(this,arguments)}function lu(){return(lu=(0,_.Z)(function*(I,g,y){const A=Cr(I,!0).put({[jo]:g,value:y});return new Lr(A).toPromise()})).apply(this,arguments)}function bl(){return(bl=(0,_.Z)(function*(I,g){const y=Cr(I,!1).get(g),A=yield new Lr(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Bs(I,g){const y=Cr(I,!0).delete(g);return new Lr(y).toPromise()}const ht=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,_.Z)(function*(){return y.db||(y.db=yield Vs()),y.db})()}_withRetries(y){var A=this;return(0,_.Z)(function*(){let W=0;for(;;)try{const ae=yield A._openDb();return yield y(ae)}catch(ae){if(W++>3)throw ae;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,_.Z)(function*(){return bn()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,_.Z)(function*(){y.receiver=Cl._getInstance(function yi(){return bn()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,_.Z)(function*(W,ae){return{keyProcessed:(yield y._poll()).includes(ae.key)}});return function(W,ae){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,_.Z)(function*(W,ae){return["keyChanged"]});return function(W,ae){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,_.Z)(function*(){var A,W;if(y.activeServiceWorker=yield function Zs(){return ge.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new la(y.activeServiceWorker);const ae=yield y.sender._send("ping",{},800);ae&&null!==(A=ae[0])&&void 0!==A&&A.fulfilled&&null!==(W=ae[0])&&void 0!==W&&W.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,_.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function il(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Vs();return yield au(y,mo,"1"),yield Bs(y,mo),!0}catch{}return!1})()}_withPendingWrite(y){var A=this;return(0,_.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var W=this;return(0,_.Z)(function*(){return W._withPendingWrite((0,_.Z)(function*(){return yield W._withRetries(ae=>au(ae,y,A)),W.localCache[y]=A,W.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,_.Z)(function*(){const W=yield A._withRetries(ae=>function Ys(I,g){return bl.apply(this,arguments)}(ae,y));return A.localCache[y]=W,W})()}_remove(y){var A=this;return(0,_.Z)(function*(){return A._withPendingWrite((0,_.Z)(function*(){return yield A._withRetries(W=>Bs(W,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,_.Z)(function*(){const A=yield y._withRetries(Be=>{const it=Cr(Be,!1).getAll();return new Lr(it).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const W=[],ae=new Set;for(const{fbase_key:Be,value:it}of A)ae.add(Be),JSON.stringify(y.localCache[Be])!==JSON.stringify(it)&&(y.notifyListeners(Be,it),W.push(Be));for(const Be of Object.keys(y.localCache))y.localCache[Be]&&!ae.has(Be)&&(y.notifyListeners(Be,null),W.push(Be));return W})()}notifyListeners(y,A){this.localCache[y]=A;const W=this.listeners[y];if(W)for(const ae of Array.from(W))ae(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),al=1e12;class Ba{constructor(g){this.auth=g,this.counter=al,this._widgets=new Map}render(g,y){const A=this.counter;return this._widgets.set(A,new uu(g,this.auth.name,y||{})),this.counter++,A}reset(g){var y;const A=g||al;null===(y=this._widgets.get(A))||void 0===y||y.delete(),this._widgets.delete(A)}getResponse(g){var y;return(null===(y=this._widgets.get(g||al))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,_.Z)(function*(){var A;return null===(A=y._widgets.get(g||al))||void 0===A||A.execute(),""})()}}class uu{constructor(g,y,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof g?document.getElementById(g):g;Re(W,"argument-error",{appName:y}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vl(I){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<I;A++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bl=Qr("rcb"),Qs=new ut(3e4,6e4);class Ha{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=er().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return Re(function lc(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(y),g,"argument-error"),this.shouldResolveImmediately(y)&&gs(er().grecaptcha)?Promise.resolve(er().grecaptcha):new Promise((A,W)=>{const ae=er().setTimeout(()=>{W(ye(g,"network-request-failed"))},Qs.get());er()[Bl]=()=>{er().clearTimeout(ae),delete er()[Bl];const it=er().grecaptcha;if(!it||!gs(it))return void W(ye(g,"internal-error"));const Nt=it.render;it.render=(Jt,En)=>{const pn=Nt(Jt,En);return this.counter++,pn},this.hostLanguage=y,A(it)},Is(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:Bl,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(ae),W(ye(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=er().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ep{load(g){return(0,_.Z)(function*(){return new Ba(g)})()}clearedOneInstance(){}}const Mr="recaptcha",Il={theme:"light",type:"image"};class ja{constructor(g,y=Object.assign({},Il),A){this.parameters=y,this.type=Mr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(A),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof g?document.getElementById(g):g;Re(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ep:new Ha,this.validateStartingState()}verify(){var g=this;return(0,_.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(y)||new Promise(ae=>{const Be=it=>{it&&(g.tokenChangeListeners.delete(Be),ae(it))};g.tokenChangeListeners.add(Be),g.isInvisible&&A.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(A=>A(y)),"function"==typeof g)g(y);else if("string"==typeof g){const A=er()[g];"function"==typeof A&&A(y)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,_.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const A=document.createElement("div");y.appendChild(A),y=A}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,_.Z)(function*(){Re(Ht()&&!bn(),g.auth,"internal-error"),yield function Go(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function bs(I){return is.apply(this,arguments)}(g.auth);Re(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ns{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=ao._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Js(){return(Js=(0,_.Z)(function*(I,g,y){const A=Zn(I),W=yield $a(A,g,(0,Z.m9)(y));return new Ns(W,ae=>Vn(A,ae))})).apply(this,arguments)}function Hs(){return(Hs=(0,_.Z)(function*(I,g,y){const A=(0,Z.m9)(I);yield ho(!1,A,"phone");const W=yield $a(A.auth,g,(0,Z.m9)(y));return new Ns(W,ae=>Fa(A,ae))})).apply(this,arguments)}function Ou(){return(Ou=(0,_.Z)(function*(I,g,y){const A=(0,Z.m9)(I),W=yield $a(A.auth,g,(0,Z.m9)(y));return new Ns(W,ae=>Co(A,ae))})).apply(this,arguments)}function $a(I,g,y){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,_.Z)(function*(I,g,y){var A;const W=yield y.verify();try{let ae;if(Re("string"==typeof W,I,"argument-error"),Re(y.type===Mr,I,"argument-error"),ae="string"==typeof g?{phoneNumber:g}:g,"session"in ae){const Be=ae.session;if("phoneNumber"in ae)return Re("enroll"===Be.type,I,"internal-error"),(yield function Oi(I,g){return Ft(I,"POST","/v2/accounts/mfaEnrollment:start",Zt(I,g))}(I,{idToken:Be.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{Re("signin"===Be.type,I,"internal-error");const it=(null===(A=ae.multiFactorHint)||void 0===A?void 0:A.uid)||ae.multiFactorUid;return Re(it,I,"missing-multi-factor-info"),(yield function $o(I,g){return Ft(I,"POST","/v2/accounts/mfaSignIn:start",Zt(I,g))}(I,{mfaPendingCredential:Be.credential,mfaEnrollmentId:it,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Be}=yield function vo(I,g){return io.apply(this,arguments)}(I,{phoneNumber:ae.phoneNumber,recaptchaToken:W});return Be}}finally{y._reset()}}),Wc.apply(this,arguments)}function uc(){return(uc=(0,_.Z)(function*(I,g){yield ys((0,Z.m9)(I),g)})).apply(this,arguments)}let S=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=Zn(y)}verifyPhoneNumber(y,A){return $a(this.auth,y,(0,Z.m9)(A))}static credential(y,A){return ao._fromVerification(y,A)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:A,temporaryProof:W}=y;return A&&W?ao._fromTokenResponse(A,W):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function M(I,g){return g?Pe(g):(Re(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class b extends mi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ms(g,this._buildIdpRequest())}_linkToIdToken(g,y){return ms(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return ms(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function P(I){return Lo(I.auth,new b(I),I.bypassAuthState)}function z(I){const{auth:g,user:y}=I;return Re(y,g,"internal-error"),el(y,new b(I),I.bypassAuthState)}function oe(I){return ce.apply(this,arguments)}function ce(){return(ce=(0,_.Z)(function*(I){const{auth:g,user:y}=I;return Re(y,g,"internal-error"),ys(y,new b(I),I.bypassAuthState)})).apply(this,arguments)}class Qe{constructor(g,y,A,W,ae=!1){this.auth=g,this.resolver=A,this.user=W,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,_.Z)(function*(A,W){g.pendingPromise={resolve:A,reject:W};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ae){g.reject(ae)}});return function(A,W){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,_.Z)(function*(){const{urlResponse:A,sessionId:W,postBody:ae,tenantId:Be,error:it,type:Nt}=g;if(it)return void y.reject(it);const Jt={auth:y.auth,requestUri:A,sessionId:W,tenantId:Be||void 0,postBody:ae||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Nt)(Jt))}catch(En){y.reject(En)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return P;case"linkViaPopup":case"linkViaRedirect":return oe;case"reauthViaPopup":case"reauthViaRedirect":return z;default:k(this.auth,"internal-error")}}resolve(g){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dt=new ut(2e3,1e4);function un(){return(un=(0,_.Z)(function*(I,g,y){const A=Zn(I);Me(I,g,as);const W=M(A,y);return new V(A,"signInViaPopup",g,W).executeNotNull()})).apply(this,arguments)}function gi(){return(gi=(0,_.Z)(function*(I,g,y){const A=(0,Z.m9)(I);Me(A.auth,g,as);const W=M(A.auth,y);return new V(A.auth,"reauthViaPopup",g,W,A).executeNotNull()})).apply(this,arguments)}function Xs(){return(Xs=(0,_.Z)(function*(I,g,y){const A=(0,Z.m9)(I);Me(A.auth,g,as);const W=M(A.auth,y);return new V(A.auth,"linkViaPopup",g,W,A).executeNotNull()})).apply(this,arguments)}let V=(()=>{class I extends Qe{constructor(y,A,W,ae,Be){super(y,A,ae,Be),this.provider=W,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,_.Z)(function*(){const A=yield y.execute();return Re(A,y.auth,"internal-error"),A})()}onExecution(){var y=this;return(0,_.Z)(function*(){bt(1===y.filter.length,"Popup operations only handle one event");const A=Rn();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],A),y.authWindow.associatedEvent=A,y.resolver._originValidation(y.auth).catch(W=>{y.reject(W)}),y.resolver._isIframeWebStorageSupported(y.auth,W=>{W||y.reject(ye(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var A,W;this.pollId=null!==(W=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Dt.get())};y()}}return I.currentPopupAction=null,I})();const $="pendingRedirect",ne=new Map;class Ae extends Qe{constructor(g,y,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,_.Z)(function*(){let A=ne.get(y.auth._key());if(!A){try{const ae=(yield function Ke(I,g){return et.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;A=()=>Promise.resolve(ae)}catch(W){A=()=>Promise.reject(W)}ne.set(y.auth._key(),A)}return y.bypassAuthState||ne.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,A=this;return(0,_.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(A,g);if("unknown"!==g.type){if(g.eventId){const W=yield A.auth._redirectUserForId(g.eventId);if(W)return A.user=W,y().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function et(){return(et=(0,_.Z)(function*(I,g){const y=In(g),A=hr(I);if(!(yield A._isAvailable()))return!1;const W="true"===(yield A._get(y));return yield A._remove(y),W})).apply(this,arguments)}function jt(I,g){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,_.Z)(function*(I,g){return hr(I)._set(In(g),"true")})).apply(this,arguments)}function Fn(I,g){ne.set(I._key(),g)}function hr(I){return Pe(I._redirectPersistence)}function In(I){return ve($,I.config.apiKey,I.name)}function Da(I,g,y){return function zi(I,g,y){return bi.apply(this,arguments)}(I,g,y)}function bi(){return(bi=(0,_.Z)(function*(I,g,y){const A=Zn(I);Me(I,g,as),yield A._initializationPromise;const W=M(A,y);return yield jt(W,A),W._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function Ga(I,g,y){return function Hl(I,g,y){return js.apply(this,arguments)}(I,g,y)}function js(){return(js=(0,_.Z)(function*(I,g,y){const A=(0,Z.m9)(I);Me(A.auth,g,as),yield A.auth._initializationPromise;const W=M(A.auth,y);yield jt(W,A.auth);const ae=yield Sl(A);return W._openRedirect(A.auth,g,"reauthViaRedirect",ae)})).apply(this,arguments)}function ua(I,g,y){return function jh(I,g,y){return $s.apply(this,arguments)}(I,g,y)}function $s(){return($s=(0,_.Z)(function*(I,g,y){const A=(0,Z.m9)(I);Me(A.auth,g,as),yield A.auth._initializationPromise;const W=M(A.auth,y);yield ho(!1,A,g.providerId),yield jt(W,A.auth);const ae=yield Sl(A);return W._openRedirect(A.auth,g,"linkViaRedirect",ae)})).apply(this,arguments)}function jl(){return(jl=(0,_.Z)(function*(I,g){return yield Zn(I)._initializationPromise,cu(I,g,!1)})).apply(this,arguments)}function cu(I,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,_.Z)(function*(I,g,y=!1){const A=Zn(I),W=M(A,g),Be=yield new Ae(A,W,y).execute();return Be&&!y&&(delete Be.user._redirectEventId,yield A._persistUserIfCurrent(Be.user),yield A._setRedirectUser(null,g)),Be})).apply(this,arguments)}function Sl(I){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,_.Z)(function*(I){const g=Rn(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Kc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(y=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function hg(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dc(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var A;if(g.error&&!dc(g)){const W=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(ye(this.auth,W))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const A=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cc(g))}saveEventToCache(g){this.cachedEventUids.add(cc(g)),this.lastProcessedEventTime=Date.now()}}function cc(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function dc({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function Vd(I){return tp.apply(this,arguments)}function tp(){return(tp=(0,_.Z)(function*(I,g={}){return Ft(I,"GET","/v1/projects",g)})).apply(this,arguments)}const fg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bd=/^https?/;function ku(){return(ku=(0,_.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield Vd(I);for(const y of g)try{if(pg(y))return}catch{}k(I,"unauthorized-domain")})).apply(this,arguments)}function pg(I){const g=Bt(),{protocol:y,hostname:A}=new URL(g);if(I.startsWith("chrome-extension://")){const Be=new URL(I);return""===Be.hostname&&""===A?"chrome-extension:"===y&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&Be.hostname===A}if(!Bd.test(y))return!1;if(fg.test(I))return A===I;const W=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(A)}const gg=new ut(3e4,6e4);function Hd(){const I=er().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let Os=null;const ki=new ut(5e3,15e3),hu="__/auth/iframe",fu="emulator/auth/iframe",np={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Um(I){const g=I.config;Re(g.authDomain,I,"auth-domain-config-required");const y=g.emulator?wt(g,fu):`https://${I.config.authDomain}/${hu}`,A={apiKey:g.apiKey,appName:I.name,v:_e.SDK_VERSION},W=qc.get(I.config.apiHost);W&&(A.eid=W);const ae=I._getFrameworks();return ae.length&&(A.fw=ae.join(",")),`${y}?${(0,Z.xO)(A).slice(1)}`}function br(){return br=(0,_.Z)(function*(I){const g=yield function qo(I){return Os=Os||function Dl(I){return new Promise((g,y)=>{var A,W,ae;function Be(){Hd(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Hd(),y(ye(I,"network-request-failed"))},timeout:gg.get()})}if(null!==(W=null===(A=er().gapi)||void 0===A?void 0:A.iframes)&&void 0!==W&&W.Iframe)g(gapi.iframes.getContext());else{if(null===(ae=er().gapi)||void 0===ae||!ae.load){const it=Qr("iframefcb");return er()[it]=()=>{gapi.load?Be():y(ye(I,"network-request-failed"))},Is(`https://apis.google.com/js/api.js?onload=${it}`).catch(Nt=>y(Nt))}Be()}}).catch(g=>{throw Os=null,g})}(I),Os}(I),y=er().gapi;return Re(y,I,"internal-error"),g.open({where:document.body,url:Um(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:np,dontclear:!0},A=>new Promise(function(){var W=(0,_.Z)(function*(ae,Be){yield A.restyle({setHideOnLeave:!1});const it=ye(I,"network-request-failed"),Nt=er().setTimeout(()=>{Be(it)},ki.get());function Jt(){er().clearTimeout(Nt),ae(A)}A.ping(Jt).then(Jt,()=>{Be(it)})});return function(ae,Be){return W.apply(this,arguments)}}()))}),br.apply(this,arguments)}const Ii={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eo=500,jd=600,$d="_blank",$l="http://localhost";class to{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rp="__/auth/handler",Vm="emulator/auth/handler",mg=encodeURIComponent("fac");function Gh(I,g,y,A,W,ae){return hc.apply(this,arguments)}function hc(){return(hc=(0,_.Z)(function*(I,g,y,A,W,ae){Re(I.config.authDomain,I,"auth-domain-config-required"),Re(I.config.apiKey,I,"invalid-api-key");const Be={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:A,v:_e.SDK_VERSION,eventId:W};if(g instanceof as){g.setDefaultLanguage(I.languageCode),Be.providerId=g.providerId||"",(0,Z.xb)(g.getCustomParameters())||(Be.customParameters=JSON.stringify(g.getCustomParameters()));for(const[En,pn]of Object.entries(ae||{}))Be[En]=pn}if(g instanceof ta){const En=g.getScopes().filter(pn=>""!==pn);En.length>0&&(Be.scopes=En.join(","))}I.tenantId&&(Be.tid=I.tenantId);const it=Be;for(const En of Object.keys(it))void 0===it[En]&&delete it[En];const Nt=yield I._getAppCheckToken(),Jt=Nt?`#${mg}=${encodeURIComponent(Nt)}`:"";return`${function _g({config:I}){return I.emulator?wt(I,Vm):`https://${I.authDomain}/${rp}`}(I)}?${(0,Z.xO)(it).slice(1)}${Jt}`})).apply(this,arguments)}const Gd="webStorageSupport",yg=class Bm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=es,this._completeRedirectFn=cu,this._overrideRedirectResult=Fn}_openPopup(g,y,A,W){var ae=this;return(0,_.Z)(function*(){var Be;bt(null===(Be=ae.eventManagers[g._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const it=yield Gh(g,y,A,Bt(),W);return function Zc(I,g,y,A=eo,W=jd){const ae=Math.max((window.screen.availHeight-W)/2,0).toString(),Be=Math.max((window.screen.availWidth-A)/2,0).toString();let it="";const Nt=Object.assign(Object.assign({},Ii),{width:A.toString(),height:W.toString(),top:ae,left:Be}),Jt=(0,Z.z$)().toLowerCase();y&&(it=Vt(Jt)?$d:y),at(Jt)&&(g=g||$l,Nt.scrollbars="yes");const En=Object.entries(Nt).reduce((Kr,[Ls,sd])=>`${Kr}${Ls}=${sd},`,"");if(function fn(I=(0,Z.z$)()){var g;return gt(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Jt)&&"_self"!==it)return function $h(I,g){const y=document.createElement("a");y.href=I,y.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(g||"",it),new to(null);const pn=window.open(g||"",it,En);Re(pn,I,"popup-blocked");try{pn.focus()}catch{}return new to(pn)}(g,it,Rn())})()}_openRedirect(g,y,A,W){var ae=this;return(0,_.Z)(function*(){return yield ae._originValidation(g),function si(I){er().location.href=I}(yield Gh(g,y,A,Bt(),W)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:W,promise:ae}=this.eventManagers[y];return W?Promise.resolve(W):(bt(ae,"If manager is not set, promise should be"),ae)}const A=this.initAndGetManager(g);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(g){var y=this;return(0,_.Z)(function*(){const A=yield function za(I){return br.apply(this,arguments)}(g),W=new Kc(g);return A.register("authEvent",ae=>(Re(ae?.authEvent,g,"invalid-auth-event"),{status:W.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:W},y.iframes[g._key()]=A,W})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Gd,{type:Gd},W=>{var ae;const Be=null===(ae=W?.[0])||void 0===ae?void 0:ae[Gd];void 0!==Be&&y(!!Be),k(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function du(I){return ku.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Kn()||Je()||gt()}};class ip{constructor(g){this.factorId=g}_process(g,y,A){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,A);case"signin":return this._finalizeSignIn(g,y.credential);default:return pt("unexpected MultiFactorSessionType")}}}class Lu extends ip{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Lu(g)}_finalizeEnroll(g,y,A){return function zt(I,g){return Ft(I,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(I,g))}(g,{idToken:y,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function vs(I,g){return Ft(I,"POST","/v2/accounts/mfaSignIn:finalize",Zt(I,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fc=(()=>{class I{constructor(){}static assertion(y){return Lu._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var Wd="@firebase/auth";class Vu{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,_.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(A=>{g(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gu(){return window}(0,Z.Pz)("authIdTokenMaxAge"),function zh(I){(0,_e._registerComponent)(new ie.wA("auth",(g,{options:y})=>{const A=g.getProvider("app").getImmediate(),W=g.getProvider("heartbeat"),ae=g.getProvider("app-check-internal"),{apiKey:Be,authDomain:it}=A.options;Re(Be&&!Be.includes(":"),"invalid-api-key",{appName:A.name}),Re(!it?.includes(":"),"argument-error",{appName:A.name});const Nt={apiKey:Be,authDomain:it,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Li(I)},Jt=new Hr(A,W,ae,Nt);return function Ri(I,g){const y=g?.persistence||[],A=(Array.isArray(y)?y:[y]).map(Pe);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(A,g?.popupRedirectResolver)}(Jt,y),Jt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,A)=>{g.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new ie.wA("auth-internal",g=>{const y=Zn(g.getProvider("auth").getImmediate());return new Vu(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)(Wd,"0.23.0",function pu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,_e.registerVersion)(Wd,"0.23.0","esm2017")}("Browser");const Wh=2e3;function Zd(){return Zd=(0,_.Z)(function*(I,g,y){var A;const{BuildInfo:W}=gu();bt(g.sessionId,"AuthEvent did not contain a session ID");const ae=yield function jm(I){return Es.apply(this,arguments)}(g.sessionId),Be={};return gt()?Be.ibi=W.packageName:Ne()?Be.apn=W.packageName:k(I,"operation-not-supported-in-this-environment"),W.displayName&&(Be.appDisplayName=W.displayName),Be.sessionId=ae,Gh(I,y,g.type,void 0,null!==(A=g.eventId)&&void 0!==A?A:void 0,Be)}),Zd.apply(this,arguments)}function mu(){return(mu=(0,_.Z)(function*(I){const{BuildInfo:g}=gu(),y={};gt()?y.iosBundleId=g.packageName:Ne()?y.androidPackageName=g.packageName:k(I,"operation-not-supported-in-this-environment"),yield Vd(I,y)})).apply(this,arguments)}function qh(){return(qh=(0,_.Z)(function*(I,g,y){const{cordova:A}=gu();let W=()=>{};try{yield new Promise((ae,Be)=>{let it=null;function Nt(){var pn;ae();const Kr=null===(pn=A.plugins.browsertab)||void 0===pn?void 0:pn.close;"function"==typeof Kr&&Kr(),"function"==typeof y?.close&&y.close()}function Jt(){it||(it=window.setTimeout(()=>{Be(ye(I,"redirect-cancelled-by-user"))},Wh))}function En(){"visible"===document?.visibilityState&&Jt()}g.addPassiveListener(Nt),document.addEventListener("resume",Jt,!1),Ne()&&document.addEventListener("visibilitychange",En,!1),W=()=>{g.removePassiveListener(Nt),document.removeEventListener("resume",Jt,!1),document.removeEventListener("visibilitychange",En,!1),it&&window.clearTimeout(it)}})}finally{W()}})).apply(this,arguments)}function Es(){return(Es=(0,_.Z)(function*(I){const g=function op(I){if(bt(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const g=new ArrayBuffer(I.length),y=new Uint8Array(g);for(let A=0;A<I.length;A++)y[A]=I.charCodeAt(A);return y}(I),y=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(y)).map(W=>W.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const _u=20;class ap extends Kc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(g)),super.onEvent(g)}initialized(){var g=this;return(0,_.Z)(function*(){yield g.initPromise})()}}function mc(I){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,_.Z)(function*(I){const g=yield Jd()._get(_c(I));return g&&(yield Jd()._remove(_c(I))),g})).apply(this,arguments)}function ar(){const I=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_u;y++){const A=Math.floor(Math.random()*g.length);I.push(g.charAt(A))}return I.join("")}function Jd(){return Pe(Ho)}function _c(I){return ve("authEvent",I.config.apiKey,I.name)}function yc(I){if(!I?.includes("?"))return{};const[g,...y]=I.split("?");return(0,Z.zd)(y.join("?"))}const Jc=class Zh{constructor(){this._redirectPersistence=es,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cu,this._overrideRedirectResult=Fn}_initialize(g){var y=this;return(0,_.Z)(function*(){const A=g._key();let W=y.eventManagers.get(A);return W||(W=new ap(g),y.eventManagers.set(A,W),y.attachCallbackListeners(g,W)),W})()}_openPopup(g){k(g,"operation-not-supported-in-this-environment")}_openRedirect(g,y,A,W){var ae=this;return(0,_.Z)(function*(){!function Bu(I){var g,y,A,W,ae,Be,it,Nt,Jt,En;const pn=gu();Re("function"==typeof(null===(g=pn?.universalLinks)||void 0===g?void 0:g.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Re(typeof(null===(y=pn?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Re("function"==typeof(null===(ae=null===(W=null===(A=pn?.cordova)||void 0===A?void 0:A.plugins)||void 0===W?void 0:W.browsertab)||void 0===ae?void 0:ae.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(Nt=null===(it=null===(Be=pn?.cordova)||void 0===Be?void 0:Be.plugins)||void 0===it?void 0:it.browsertab)||void 0===Nt?void 0:Nt.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(En=null===(Jt=pn?.cordova)||void 0===Jt?void 0:Jt.InAppBrowser)||void 0===En?void 0:En.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Be=yield ae._initialize(g);yield Be.initialized(),Be.resetRedirect(),function dn(){ne.clear()}(),yield ae._originValidation(g);const it=function Gl(I,g,y=null){return{type:g,eventId:y,urlResponse:null,sessionId:ar(),postBody:null,tenantId:I.tenantId,error:ye(I,"no-auth-event")}}(g,A,W);yield function Ka(I,g){return Jd()._set(_c(I),g)}(g,it);const Nt=yield function qd(I,g,y){return Zd.apply(this,arguments)}(g,it,y),Jt=yield function Kh(I){const{cordova:g}=gu();return new Promise(y=>{g.plugins.browsertab.isAvailable(A=>{let W=null;A?g.plugins.browsertab.openUrl(I):W=g.InAppBrowser.open(I,function Lt(I=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),y(W)})})}(Nt);return function Hm(I,g,y){return qh.apply(this,arguments)}(g,Be,Jt)})()}_isIframeWebStorageSupported(g,y){throw new Error("Method not implemented.")}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Yd(I){return mu.apply(this,arguments)}(g)),this.originValidationPromises[y]}attachCallbackListeners(g,y){const{universalLinks:A,handleOpenURL:W,BuildInfo:ae}=gu(),Be=setTimeout((0,_.Z)(function*(){yield mc(g),y.onEvent(vc())}),500),it=function(){var En=(0,_.Z)(function*(pn){clearTimeout(Be);const Kr=yield mc(g);let Ls=null;Kr&&pn?.url&&(Ls=function Eg(I,g){var y,A;const W=function Yc(I){const g=yc(I),y=g.link?decodeURIComponent(g.link):void 0,A=yc(y).link,W=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return yc(W).link||W||A||y||I}(g);if(W.includes("/__/auth/callback")){const ae=yc(W),Be=ae.firebaseError?function Xd(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(ae.firebaseError)):null,it=null===(A=null===(y=Be?.code)||void 0===y?void 0:y.split("auth/"))||void 0===A?void 0:A[1],Nt=it?ye(it):null;return Nt?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:Nt,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:W,postBody:null}}return null}(Kr,pn.url)),y.onEvent(Ls||vc())});return function(Kr){return En.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,it);const Nt=W,Jt=`${ae.packageName.toLowerCase()}://`;gu().handleOpenURL=function(){var En=(0,_.Z)(function*(pn){if(pn.toLowerCase().startsWith(Jt)&&it({url:pn}),"function"==typeof Nt)try{Nt(pn)}catch(Kr){console.error(Kr)}});return function(pn){return En.apply(this,arguments)}}()}};function vc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}const Ec=1e3;function eh(){var I;return(null===(I=self?.location)||void 0===I?void 0:I.protocol)||null}function Yh(I=(0,Z.z$)()){return!("file:"!==eh()&&"ionic:"!==eh()&&"capacitor:"!==eh()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yi(){try{const I=self.localStorage,g=Rn();if(I)return I.setItem(g,"1"),I.removeItem(g),!function Cg(I=(0,Z.z$)()){return function ju(){return(0,Z.w1)()&&11===document?.documentMode}()||function ed(I=(0,Z.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,Z.hl)()}catch{return nh()&&(0,Z.hl)()}return!1}function nh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function td(){return(function wc(){return"http:"===eh()||"https:"===eh()}()||(0,Z.ru)()||Yh())&&!function th(){return(0,Z.b$)()||(0,Z.UG)()}()&&Yi()&&!nh()}function rh(){return Yh()&&typeof document<"u"}function $u(){return($u=(0,_.Z)(function*(){return!!rh()&&new Promise(I=>{const g=setTimeout(()=>{I(!1)},Ec);document.addEventListener("deviceready",()=>{clearTimeout(g),I(!0)})})})).apply(this,arguments)}const ca={LOCAL:"local",NONE:"none",SESSION:"session"},qa=Re,ul="persistence";function cl(I){return ih.apply(this,arguments)}function ih(){return(ih=(0,_.Z)(function*(I){yield I._initializationPromise;const g=Xh(),y=ve(ul,I.config.apiKey,I.name);g&&g.setItem(y,I._getPersistence())})).apply(this,arguments)}function Xh(){var I;try{return(null===(I=function Qh(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const ef=Re;class Zo{constructor(){this.browserResolver=Pe(yg),this.cordovaResolver=Pe(Jc),this.underlyingResolver=null,this._redirectPersistence=es,this._completeRedirectFn=cu,this._overrideRedirectResult=Fn}_initialize(g){var y=this;return(0,_.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,y,A,W){var ae=this;return(0,_.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._openPopup(g,y,A,W)})()}_openRedirect(g,y,A,W){var ae=this;return(0,_.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._openRedirect(g,y,A,W)})()}_isIframeWebStorageSupported(g,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,y)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return rh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ef(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,_.Z)(function*(){if(g.underlyingResolver)return;const y=yield function $m(){return $u.apply(this,arguments)}();g.underlyingResolver=y?g.cordovaResolver:g.browserResolver})()}}function Ma(I){return I.unwrap()}function tf(I){return rd(I)}function rd(I){const{_tokenResponse:g}=I instanceof Z.ZR?I.customData:I;if(!g)return null;if(!(I instanceof Z.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return S.credentialFromResult(I);const y=g.providerId;if(!y||y===pe.PASSWORD)return null;let A;switch(y){case pe.GOOGLE:A=Hi;break;case pe.FACEBOOK:A=Ks;break;case pe.GITHUB:A=Us;break;case pe.TWITTER:A=Ea;break;default:const{oauthIdToken:W,oauthAccessToken:ae,oauthTokenSecret:Be,pendingToken:it,nonce:Nt}=g;return ae||Be||W||it?it?y.startsWith("saml.")?ls._create(y,it):Ds._fromParams({providerId:y,signInMethod:y,pendingToken:it,idToken:W,accessToken:ae}):new cr(y).credential({idToken:W,accessToken:ae,rawNonce:Nt}):null}return I instanceof Z.ZR?A.credentialFromError(I):A.credentialFromResult(I)}function vr(I,g){return g.catch(y=>{throw y instanceof Z.ZR&&function bg(I,g){var y;const A=null===(y=g.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new Gs(I,function Wn(I,g){var y;const A=(0,Z.m9)(I),W=g;return Re(g.customData.operationType,A,"argument-error"),Re(null===(y=W.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,A,"argument-error"),Ln._fromError(A,W)}(I,g));else if(A){const W=rd(g),ae=g;W&&(ae.credential=W,ae.tenantId=A.tenantId||void 0,ae.email=A.email||void 0,ae.phoneNumber=A.phoneNumber||void 0)}}(I,y),y}).then(y=>{const W=y.user;return{operationType:y.operationType,credential:tf(y),additionalUserInfo:su(y),user:da.getOrCreate(W)}})}function Rr(I,g){return sh.apply(this,arguments)}function sh(){return(sh=(0,_.Z)(function*(I,g){const y=yield g;return{verificationId:y.verificationId,confirm:A=>vr(I,y.confirm(A))}})).apply(this,arguments)}class Gs{constructor(g,y){this.resolver=y,this.auth=function Al(I){return I.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return vr(Ma(this.auth),this.resolver.resolveSignIn(g))}}class da{constructor(g){this._delegate=g,this.multiFactor=function ii(I){const g=(0,Z.m9)(I);return Mt.has(g)||Mt.set(g,ct._fromUser(g)),Mt.get(g)}(g)}static getOrCreate(g){return da.USER_MAP.has(g)||da.USER_MAP.set(g,new da(g)),da.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var y=this;return(0,_.Z)(function*(){return vr(y.auth,Fa(y._delegate,g))})()}linkWithPhoneNumber(g,y){var A=this;return(0,_.Z)(function*(){return Rr(A.auth,function Tl(I,g,y){return Hs.apply(this,arguments)}(A._delegate,g,y))})()}linkWithPopup(g){var y=this;return(0,_.Z)(function*(){return vr(y.auth,function vi(I,g,y){return Xs.apply(this,arguments)}(y._delegate,g,Zo))})()}linkWithRedirect(g){var y=this;return(0,_.Z)(function*(){return yield cl(Zn(y.auth)),ua(y._delegate,g,Zo)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var y=this;return(0,_.Z)(function*(){return vr(y.auth,Co(y._delegate,g))})()}reauthenticateWithPhoneNumber(g,y){return Rr(this.auth,function Nu(I,g,y){return Ou.apply(this,arguments)}(this._delegate,g,y))}reauthenticateWithPopup(g){return vr(this.auth,function dr(I,g,y){return gi.apply(this,arguments)}(this._delegate,g,Zo))}reauthenticateWithRedirect(g){var y=this;return(0,_.Z)(function*(){return yield cl(Zn(y.auth)),Ga(y._delegate,g,Zo)})()}sendEmailVerification(g){return function Nl(I,g){return Va.apply(this,arguments)}(this._delegate,g)}unlink(g){var y=this;return(0,_.Z)(function*(){return yield function ra(I,g){return La.apply(this,arguments)}(y._delegate,g),y})()}updateEmail(g){return function ba(I,g){return Ps((0,Z.m9)(I),g,null)}(this._delegate,g)}updatePassword(g){return function ds(I,g){return Ps((0,Z.m9)(I),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function zo(I,g){return uc.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function wl(I,g){return rl.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,y){return function El(I,g,y){return nl.apply(this,arguments)}(this._delegate,g,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}da.USER_MAP=new WeakMap;const zl=Re;let ha=(()=>{class I{constructor(y,A){if(this.app=y,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:W}=y.options;zl(W,"invalid-api-key",{appName:y.name}),zl(W,"invalid-api-key",{appName:y.name});const ae=typeof window<"u"?Zo:void 0;this._delegate=A.initialize({options:{persistence:Cc(W,y.name),popupRedirectResolver:ae}}),this._delegate._updateErrorMap(ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?da.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,A){!function sr(I,g,y){const A=Zn(I);Re(A._canInitEmulator,A,"emulator-config-failed"),Re(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const W=!!y?.disableWarnings,ae=Oo(g),{host:Be,port:it}=function fi(I){const g=Oo(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(A);if(W){const ae=W[1];return{host:ae,port:Gn(A.substr(ae.length+1))}}{const[ae,Be]=A.split(":");return{host:ae,port:Gn(Be)}}}(g);A.config.emulator={url:`${ae}//${Be}${null===it?"":`:${it}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Be,port:it,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Ss(){function I(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,y,A)}applyActionCode(y){return function pi(I,g){return xs.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return Ci(this._delegate,y)}confirmPasswordReset(y,A){return function ni(I,g,y){return Rs.apply(this,arguments)}(this._delegate,y,A)}createUserWithEmailAndPassword(y,A){var W=this;return(0,_.Z)(function*(){return vr(W._delegate,function po(I,g,y){return Uo.apply(this,arguments)}(W._delegate,y,A))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function tl(I,g){return oa.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function vl(I,g){return"EMAIL_SIGNIN"===Xi.parseLink(g)?.operation}(0,y)}getRedirectResult(){var y=this;return(0,_.Z)(function*(){zl(td(),y._delegate,"operation-not-supported-in-this-environment");const A=yield function Wo(I,g){return jl.apply(this,arguments)}(y._delegate,Zo);return A?vr(y._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function Xc(I,g){Zn(I)._logFramework(g)}(this._delegate,y)}onAuthStateChanged(y,A,W){const{next:ae,error:Be,complete:it}=ks(y,A,W);return this._delegate.onAuthStateChanged(ae,Be,it)}onIdTokenChanged(y,A,W){const{next:ae,error:Be,complete:it}=ks(y,A,W);return this._delegate.onIdTokenChanged(ae,Be,it)}sendSignInLinkToEmail(y,A){return function wa(I,g,y){return Ca.apply(this,arguments)}(this._delegate,y,A)}sendPasswordResetEmail(y,A){return function cn(I,g,y){return yr.apply(this,arguments)}(this._delegate,y,A||void 0)}setPersistence(y){var A=this;return(0,_.Z)(function*(){let W;switch(function Jh(I,g){qa(Object.values(ca).includes(g),I,"invalid-persistence-type"),(0,Z.b$)()?qa(g!==ca.SESSION,I,"unsupported-persistence-type"):(0,Z.UG)()?qa(g===ca.NONE,I,"unsupported-persistence-type"):nh()?qa(g===ca.NONE||g===ca.LOCAL&&(0,Z.hl)(),I,"unsupported-persistence-type"):qa(g===ca.NONE||Yi(),I,"unsupported-persistence-type")}(A._delegate,y),y){case ca.SESSION:W=es;break;case ca.LOCAL:W=(yield Pe(ht)._isAvailable())?ht:Ho;break;case ca.NONE:W=Et;break;default:return k("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(W)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return vr(this._delegate,function co(I){return ti.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return vr(this._delegate,Vn(this._delegate,y))}signInWithCustomToken(y){return vr(this._delegate,function bo(I,g){return O.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,A){return vr(this._delegate,function Vo(I,g,y){return Vn((0,Z.m9)(I),ea.credential(g,y))}(this._delegate,y,A))}signInWithEmailLink(y,A){return vr(this._delegate,function iu(I,g,y){return Ua.apply(this,arguments)}(this._delegate,y,A))}signInWithPhoneNumber(y,A){return Rr(this._delegate,function _o(I,g,y){return Js.apply(this,arguments)}(this._delegate,y,A))}signInWithPopup(y){var A=this;return(0,_.Z)(function*(){return zl(td(),A._delegate,"operation-not-supported-in-this-environment"),vr(A._delegate,function on(I,g,y){return un.apply(this,arguments)}(A._delegate,y,Zo))})()}signInWithRedirect(y){var A=this;return(0,_.Z)(function*(){return zl(td(),A._delegate,"operation-not-supported-in-this-environment"),yield cl(A._delegate),Da(A._delegate,y,Zo)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function us(I,g){return cs.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=ca,I})();function ks(I,g,y){let A=I;"function"!=typeof I&&({next:A,error:g,complete:y}=I);const W=A;return{next:Be=>W(Be&&da.getOrCreate(Be)),error:g,complete:y}}function Cc(I,g){const y=function nd(I,g){const y=Xh();if(!y)return[];const A=ve(ul,I,g);switch(y.getItem(A)){case ca.NONE:return[Et];case ca.LOCAL:return[ht,es];case ca.SESSION:return[es];default:return[]}}(I,g);if(typeof self<"u"&&!y.includes(ht)&&y.push(ht),typeof window<"u")for(const A of[Ho,es])y.includes(A)||y.push(A);return y.includes(Et)||y.push(Et),y}class fa{constructor(){this.providerId="phone",this._delegate=new S(Ma(E.Z.auth()))}static credential(g,y){return S.credential(g,y)}verifyPhoneNumber(g,y){return this._delegate.verifyPhoneNumber(g,y)}unwrap(){return this._delegate}}fa.PHONE_SIGN_IN_METHOD=S.PHONE_SIGN_IN_METHOD,fa.PROVIDER_ID=S.PROVIDER_ID;const id=Re;class Wl{constructor(g,y,A=E.Z.app()){var W;id(null===(W=A.options)||void 0===W?void 0:W.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new ja(g,y,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yu(I){I.INTERNAL.registerComponent(new ie.wA("auth-compat",g=>{const y=g.getProvider("app-compat").getImmediate(),A=g.getProvider("auth");return new ha(y,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:me_EMAIL_SIGNIN,PASSWORD_RESET:me_PASSWORD_RESET,RECOVER_EMAIL:me_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:me_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:me_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:me_VERIFY_EMAIL}},EmailAuthProvider:ea,FacebookAuthProvider:Ks,GithubAuthProvider:Us,GoogleAuthProvider:Hi,OAuthProvider:cr,SAMLAuthProvider:uo,PhoneAuthProvider:fa,PhoneMultiFactorGenerator:fc,RecaptchaVerifier:Wl,TwitterAuthProvider:Ea,Auth:ha,AuthCredential:mi,Error:Z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.4.0")}(E.Z)},8766:(Gt,qe,U)=>{U.d(qe,{Lj:()=>Ve,X3:()=>Ye});var _=U(5861);const E=(Ce,Re)=>Re.some(pt=>Ce instanceof pt);let Z,_e;const ie=new WeakMap,he=new WeakMap,pe=new WeakMap,ee=new WeakMap,se=new WeakMap;let Ge={get(Ce,Re,pt){if(Ce instanceof IDBTransaction){if("done"===Re)return he.get(Ce);if("objectStoreNames"===Re)return Ce.objectStoreNames||pe.get(Ce);if("store"===Re)return pt.objectStoreNames[1]?void 0:pt.objectStore(pt.objectStoreNames[0])}return Xe(Ce[Re])},set:(Ce,Re,pt)=>(Ce[Re]=pt,!0),has:(Ce,Re)=>Ce instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in Ce};function tt(Ce){return"function"==typeof Ce?function _t(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ce)?function(...Re){return Ce.apply(Te(this),Re),Xe(ie.get(this))}:function(...Re){return Xe(Ce.apply(Te(this),Re))}:function(Re,...pt){const bt=Ce.call(Te(this),Re,...pt);return pe.set(bt,Re.sort?Re.sort():[Re]),Xe(bt)}}(Ce):(Ce instanceof IDBTransaction&&function ke(Ce){if(he.has(Ce))return;const Re=new Promise((pt,bt)=>{const Bt=()=>{Ce.removeEventListener("complete",Ht),Ce.removeEventListener("error",rt),Ce.removeEventListener("abort",rt)},Ht=()=>{pt(),Bt()},rt=()=>{bt(Ce.error||new DOMException("AbortError","AbortError")),Bt()};Ce.addEventListener("complete",Ht),Ce.addEventListener("error",rt),Ce.addEventListener("abort",rt)});he.set(Ce,Re)}(Ce),E(Ce,function K(){return Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ce,Ge):Ce)}function Xe(Ce){if(Ce instanceof IDBRequest)return function me(Ce){const Re=new Promise((pt,bt)=>{const Bt=()=>{Ce.removeEventListener("success",Ht),Ce.removeEventListener("error",rt)},Ht=()=>{pt(Xe(Ce.result)),Bt()},rt=()=>{bt(Ce.error),Bt()};Ce.addEventListener("success",Ht),Ce.addEventListener("error",rt)});return Re.then(pt=>{pt instanceof IDBCursor&&ie.set(pt,Ce)}).catch(()=>{}),se.set(Re,Ce),Re}(Ce);if(ee.has(Ce))return ee.get(Ce);const Re=tt(Ce);return Re!==Ce&&(ee.set(Ce,Re),se.set(Re,Ce)),Re}const Te=Ce=>se.get(Ce);function Ye(Ce,Re,{blocked:pt,upgrade:bt,blocking:Bt,terminated:Ht}={}){const rt=indexedDB.open(Ce,Re),vt=Xe(rt);return bt&&rt.addEventListener("upgradeneeded",ot=>{bt(Xe(rt.result),ot.oldVersion,ot.newVersion,Xe(rt.transaction))}),pt&&rt.addEventListener("blocked",()=>pt()),vt.then(ot=>{Ht&&ot.addEventListener("close",()=>Ht()),Bt&&ot.addEventListener("versionchange",()=>Bt())}).catch(()=>{}),vt}function Ve(Ce,{blocked:Re}={}){const pt=indexedDB.deleteDatabase(Ce);return Re&&pt.addEventListener("blocked",()=>Re()),Xe(pt).then(()=>{})}const k=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],be=new Map;function Me(Ce,Re){if(!(Ce instanceof IDBDatabase)||Re in Ce||"string"!=typeof Re)return;if(be.get(Re))return be.get(Re);const pt=Re.replace(/FromIndex$/,""),bt=Re!==pt,Bt=ye.includes(pt);if(!(pt in(bt?IDBIndex:IDBObjectStore).prototype)||!Bt&&!k.includes(pt))return;const Ht=function(){var rt=(0,_.Z)(function*(vt,...ot){const ut=this.transaction(vt,Bt?"readwrite":"readonly");let wt=ut.store;return bt&&(wt=wt.index(ot.shift())),(yield Promise.all([wt[pt](...ot),Bt&&ut.done]))[0]});return function(ot){return rt.apply(this,arguments)}}();return be.set(Re,Ht),Ht}!function ze(Ce){Ge=Ce(Ge)}(Ce=>({...Ce,get:(Re,pt,bt)=>Me(Re,pt)||Ce.get(Re,pt,bt),has:(Re,pt)=>!!Me(Re,pt)||Ce.has(Re,pt)}))},805:(Gt,qe,U)=>{U.d(qe,{$_:()=>tt,F0:()=>ke,Lk:()=>he,Y:()=>Ve,YP:()=>ie,a6:()=>pe,b4:()=>ze,dv:()=>Ge,ez:()=>me,h4:()=>_t,iZ:()=>se,jx:()=>Xe,m8:()=>Te,pg:()=>ee,wB:()=>Y,ws:()=>Ye});var _=U(4650),E=U(7579),Z=U(982),_e=U(6895);const K=["*"];var Y=(()=>{return(k=Y||(Y={}))[k.ACCEPT=0]="ACCEPT",k[k.REJECT=1]="REJECT",k[k.CANCEL=2]="CANCEL",Y;var k})();let ie=(()=>{class k{constructor(){this.requireConfirmationSource=new E.x,this.acceptConfirmationSource=new E.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(be){return this.requireConfirmationSource.next(be),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return k.\u0275fac=function(be){return new(be||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac}),k})(),he=(()=>{class k{constructor(){this.activeItemKeyChange=new E.x,this.activeItemKeyChange$=this.activeItemKeyChange.asObservable()}changeKey(be){this.activeItemKey=be,this.activeItemKeyChange.next(this.activeItemKey)}reset(){this.activeItemKey=null,this.activeItemKeyChange.next(this.activeItemKey)}}return k.\u0275fac=function(be){return new(be||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac}),k})(),pe=(()=>{class k{}return k.STARTS_WITH="startsWith",k.CONTAINS="contains",k.NOT_CONTAINS="notContains",k.ENDS_WITH="endsWith",k.EQUALS="equals",k.NOT_EQUALS="notEquals",k.IN="in",k.LESS_THAN="lt",k.LESS_THAN_OR_EQUAL_TO="lte",k.GREATER_THAN="gt",k.GREATER_THAN_OR_EQUAL_TO="gte",k.BETWEEN="between",k.IS="is",k.IS_NOT="isNot",k.BEFORE="before",k.AFTER="after",k.DATE_IS="dateIs",k.DATE_IS_NOT="dateIsNot",k.DATE_BEFORE="dateBefore",k.DATE_AFTER="dateAfter",k})(),ee=(()=>{class k{}return k.AND="and",k.OR="or",k})(),se=(()=>{class k{constructor(){this.filters={startsWith:(be,Me,Ce)=>{if(null==Me||""===Me.trim())return!0;if(null==be)return!1;let Re=Z.gb.removeAccents(Me.toString()).toLocaleLowerCase(Ce);return Z.gb.removeAccents(be.toString()).toLocaleLowerCase(Ce).slice(0,Re.length)===Re},contains:(be,Me,Ce)=>{if(null==Me||"string"==typeof Me&&""===Me.trim())return!0;if(null==be)return!1;let Re=Z.gb.removeAccents(Me.toString()).toLocaleLowerCase(Ce);return-1!==Z.gb.removeAccents(be.toString()).toLocaleLowerCase(Ce).indexOf(Re)},notContains:(be,Me,Ce)=>{if(null==Me||"string"==typeof Me&&""===Me.trim())return!0;if(null==be)return!1;let Re=Z.gb.removeAccents(Me.toString()).toLocaleLowerCase(Ce);return-1===Z.gb.removeAccents(be.toString()).toLocaleLowerCase(Ce).indexOf(Re)},endsWith:(be,Me,Ce)=>{if(null==Me||""===Me.trim())return!0;if(null==be)return!1;let Re=Z.gb.removeAccents(Me.toString()).toLocaleLowerCase(Ce),pt=Z.gb.removeAccents(be.toString()).toLocaleLowerCase(Ce);return-1!==pt.indexOf(Re,pt.length-Re.length)},equals:(be,Me,Ce)=>null==Me||"string"==typeof Me&&""===Me.trim()||null!=be&&(be.getTime&&Me.getTime?be.getTime()===Me.getTime():Z.gb.removeAccents(be.toString()).toLocaleLowerCase(Ce)==Z.gb.removeAccents(Me.toString()).toLocaleLowerCase(Ce)),notEquals:(be,Me,Ce)=>!(null==Me||"string"==typeof Me&&""===Me.trim()||null!=be&&(be.getTime&&Me.getTime?be.getTime()===Me.getTime():Z.gb.removeAccents(be.toString()).toLocaleLowerCase(Ce)==Z.gb.removeAccents(Me.toString()).toLocaleLowerCase(Ce))),in:(be,Me)=>{if(null==Me||0===Me.length)return!0;for(let Ce=0;Ce<Me.length;Ce++)if(Z.gb.equals(be,Me[Ce]))return!0;return!1},between:(be,Me)=>null==Me||null==Me[0]||null==Me[1]||null!=be&&(be.getTime?Me[0].getTime()<=be.getTime()&&be.getTime()<=Me[1].getTime():Me[0]<=be&&be<=Me[1]),lt:(be,Me,Ce)=>null==Me||null!=be&&(be.getTime&&Me.getTime?be.getTime()<Me.getTime():be<Me),lte:(be,Me,Ce)=>null==Me||null!=be&&(be.getTime&&Me.getTime?be.getTime()<=Me.getTime():be<=Me),gt:(be,Me,Ce)=>null==Me||null!=be&&(be.getTime&&Me.getTime?be.getTime()>Me.getTime():be>Me),gte:(be,Me,Ce)=>null==Me||null!=be&&(be.getTime&&Me.getTime?be.getTime()>=Me.getTime():be>=Me),is:(be,Me,Ce)=>this.filters.equals(be,Me,Ce),isNot:(be,Me,Ce)=>this.filters.notEquals(be,Me,Ce),before:(be,Me,Ce)=>this.filters.lt(be,Me,Ce),after:(be,Me,Ce)=>this.filters.gt(be,Me,Ce),dateIs:(be,Me)=>null==Me||null!=be&&be.toDateString()===Me.toDateString(),dateIsNot:(be,Me)=>null==Me||null!=be&&be.toDateString()!==Me.toDateString(),dateBefore:(be,Me)=>null==Me||null!=be&&be.getTime()<Me.getTime(),dateAfter:(be,Me)=>null==Me||null!=be&&be.getTime()>Me.getTime()}}filter(be,Me,Ce,Re,pt){let bt=[];if(be)for(let Bt of be)for(let Ht of Me){let rt=Z.gb.resolveFieldData(Bt,Ht);if(this.filters[Re](rt,Ce,pt)){bt.push(Bt);break}}return bt}register(be,Me){this.filters[be]=Me}}return k.\u0275fac=function(be){return new(be||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),me=(()=>{class k{constructor(){this.messageSource=new E.x,this.clearSource=new E.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(be){be&&this.messageSource.next(be)}addAll(be){be&&be.length&&this.messageSource.next(be)}clear(be){this.clearSource.next(be||null)}}return k.\u0275fac=function(be){return new(be||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac}),k})(),ke=(()=>{class k{constructor(){this.clickSource=new E.x,this.clickObservable=this.clickSource.asObservable()}add(be){be&&this.clickSource.next(be)}}return k.\u0275fac=function(be){return new(be||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Ge=(()=>{class k{}return k.ALIGN_CENTER="pi pi-align-center",k.ALIGN_JUSTIFY="pi pi-align-justify",k.ALIGN_LEFT="pi pi-align-left",k.ALIGN_RIGHT="pi pi-align-right",k.AMAZON="pi pi-amazon",k.ANDROID="pi pi-android",k.ANGLE_DOUBLE_DOWN="pi pi-angle-double-down",k.ANGLE_DOUBLE_LEFT="pi pi-angle-double-left",k.ANGLE_DOUBLE_RIGHT="pi pi-angle-double-right",k.ANGLE_DOUBLE_UP="pi pi-angle-double-up",k.ANGLE_DOWN="pi pi-angle-down",k.ANGLE_LEFT="pi pi-angle-left",k.ANGLE_RIGHT="pi pi-angle-right",k.ANGLE_UP="pi pi-angle-up",k.APPLE="pi pi-apple",k.ARROWS_ALT="pi pi-arrows-alt",k.ARROW_CIRCLE_DOWN="pi pi-arrow-circle-down",k.ARROW_CIRCLE_LEFT="pi pi-arrow-circle-left",k.ARROW_CIRCLE_RIGHT="pi pi-arrow-circle-right",k.ARROW_CIRCLE_UP="pi pi-arrow-circle-up",k.ARROW_DOWN="pi pi-arrow-down",k.ARROW_DOWN_LEFT="pi pi-arrow-down-left",k.ARROW_DOWN_RIGHT="pi pi-arrow-down-right",k.ARROW_LEFT="pi pi-arrow-left",k.ARROW_RIGHT_ARROW_LEFT="pi pi-arrow-right-arrow-left",k.ARROW_RIGHT="pi pi-arrow-right",k.ARROW_UP="pi pi-arrow-up",k.ARROW_UP_LEFT="pi pi-arrow-up-left",k.ARROW_UP_RIGHT="pi pi-arrow-up-right",k.ARROW_H="pi pi-arrows-h",k.ARROW_V="pi pi-arrows-v",k.AT="pi pi-at",k.BACKWARD="pi pi-backward",k.BAN="pi pi-ban",k.BARS="pi pi-bars",k.BELL="pi pi-bell",k.BITCOIN="pi pi-bitcoin",k.BOLT="pi pi-bolt",k.BOOK="pi pi-book",k.BOOKMARK="pi pi-bookmark",k.BOOKMARK_FILL="pi pi-bookmark-fill",k.BOX="pi pi-box",k.BRIEFCASE="pi pi-briefcase",k.BUILDING="pi pi-building",k.CALCULATOR="pi pi-calculator",k.CALENDAR="pi pi-calendar",k.CALENDAR_MINUS="pi pi-calendar-minus",k.CALENDAR_PLUS="pi pi-calendar-plus",k.CALENDAR_TIMES="pi pi-calendar-times",k.CAMERA="pi pi-camera",k.CAR="pi pi-car",k.CARET_DOWN="pi pi-caret-down",k.CARET_LEFT="pi pi-caret-left",k.CARET_RIGHT="pi pi-caret-right",k.CARET_UP="pi pi-caret-up",k.CART_PLUS="pi pi-cart-plus",k.CHART_BAR="pi pi-chart-bar",k.CHART_LINE="pi pi-chart-line",k.CHART_PIE="pi pi-chart-pie",k.CHECK="pi pi-check",k.CHECK_CIRCLE="pi pi-check-circle",k.CHECK_SQUARE="pi pi-check-square",k.CHEVRON_CIRCLE_DOWN="pi pi-chevron-circle-down",k.CHEVRON_CIRCLE_LEFT="pi pi-chevron-circle-left",k.CHEVRON_CIRCLE_RIGHT="pi pi-chevron-circle-right",k.CHEVRON_CIRCLE_UP="pi pi-chevron-circle-up",k.CHEVRON_DOWN="pi pi-chevron-down",k.CHEVRON_LEFT="pi pi-chevron-left",k.CHEVRON_RIGHT="pi pi-chevron-right",k.CHEVRON_UP="pi pi-chevron-up",k.CIRCLE="pi pi-circle",k.CIRCLE_FILL="pi pi-circle-fill",k.CLOCK="pi pi-clock",k.CLONE="pi pi-clone",k.CLOUD="pi pi-cloud",k.CLOUD_DOWNLOAD="pi pi-cloud-download",k.CLOUD_UPLOAD="pi pi-cloud-upload",k.CODE="pi pi-code",k.COG="pi pi-cog",k.COMMENT="pi pi-comment",k.COMMENTS="pi pi-comments",k.COMPASS="pi pi-compass",k.COPY="pi pi-copy",k.CREDIT_CARD="pi pi-credit-card",k.DATABASE="pi pi-database",k.DESKTOP="pi pi-desktop",k.DELETE_LEFT="pi pi-delete-left",k.DIRECTIONS="pi pi-directions",k.DIRECTIONS_ALT="pi pi-directions-alt",k.DISCORD="pi pi-discord",k.DOLLAR="pi pi-dollar",k.DOWNLOAD="pi pi-download",k.EJECT="pi pi-eject",k.ELLIPSIS_H="pi pi-ellipsis-h",k.ELLIPSIS_V="pi pi-ellipsis-v",k.ENVELOPE="pi pi-envelope",k.ERASER="pi pi-eraser",k.EURO="pi pi-euro",k.EXCLAMATION_CIRCLE="pi pi-exclamation-circle",k.EXCLAMATION_TRIANGLE="pi pi-exclamation-triangle",k.EXTERNAL_LINK="pi pi-external-link",k.EYE="pi pi-eye",k.EYE_SLASH="pi pi-eye-slash",k.FACEBOOK="pi pi-facebook",k.FAST_BACKWARD="pi pi-fast-backward",k.FAST_FORWARD="pi pi-fast-forward",k.FILE="pi pi-file",k.FILE_EDIT="pi pi-file-edit",k.FILE_IMPORT="pi pi-file-import",k.FILE_PDF="pi pi-file-pdf",k.FILE_EXCEL="pi pi-file-excel",k.FILE_EXPORT="pi pi-file-export",k.FILE_WORD="pi pi-file-word",k.FILTER="pi pi-filter",k.FILTER_FILL="pi pi-filter-fill",k.FILTER_SLASH="pi pi-filter-slash",k.FLAG="pi pi-flag",k.FLAG_FILL="pi pi-flag-fill",k.FOLDER="pi pi-folder",k.FOLDER_OPEN="pi pi-folder-open",k.FORWARD="pi pi-forward",k.GIFT="pi pi-gift",k.GITHUB="pi pi-github",k.GLOBE="pi pi-globe",k.GOOGLE="pi pi-google",k.HASHTAG="pi pi-hashtag",k.HEART="pi pi-heart",k.HEART_FILL="pi pi-heart-fill",k.HISTORY="pi pi-history",k.HOME="pi pi-home",k.HOURGLASS="pi pi-hourglass",k.ID_CARD="pi pi-id-card",k.IMAGE="pi pi-image",k.IMAGES="pi pi-images",k.INBOX="pi pi-inbox",k.INFO="pi pi-info",k.INFO_CIRCLE="pi pi-info-circle",k.INSTAGRAM="pi pi-instagram",k.KEY="pi pi-key",k.LANGUAGE="pi pi-language",k.LINK="pi pi-link",k.LINKEDIN="pi pi-linkedin",k.LIST="pi pi-list",k.LOCK="pi pi-lock",k.LOCK_OPEN="pi pi-lock-open",k.MAP="pi pi-map",k.MAP_MARKER="pi pi-map-marker",k.MEGAPHONE="pi pi-megaphone",k.MICROPHONE="pi pi-microphone",k.MICROSOFT="pi pi-microsoft",k.MINUS="pi pi-minus",k.MINUS_CIRCLE="pi pi-minus-circle",k.MOBILE="pi pi-mobile",k.MONEY_BILL="pi pi-money-bill",k.MOON="pi pi-moon",k.PALETTE="pi pi-palette",k.PAPERCLIP="pi pi-paperclip",k.PAUSE="pi pi-pause",k.PAYPAL="pi pi-paypal",k.PENCIL="pi pi-pencil",k.PERCENTAGE="pi pi-percentage",k.PHONE="pi pi-phone",k.PLAY="pi pi-play",k.PLUS="pi pi-plus",k.PLUS_CIRCLE="pi pi-plus-circle",k.POUND="pi pi-pound",k.POWER_OFF="pi pi-power-off",k.PRIME="pi pi-prime",k.PRINT="pi pi-print",k.QRCODE="pi pi-qrcode",k.QUESTION="pi pi-question",k.QUESTION_CIRCLE="pi pi-question-circle",k.REDDIT="pi pi-reddit",k.REFRESH="pi pi-refresh",k.REPLAY="pi pi-replay",k.REPLY="pi pi-reply",k.SAVE="pi pi-save",k.SEARCH="pi pi-search",k.SEARCH_MINUS="pi pi-search-minus",k.SEARCH_PLUS="pi pi-search-plus",k.SEND="pi pi-send",k.SERVER="pi pi-server",k.SHARE_ALT="pi pi-share-alt",k.SHIELD="pi pi-shield",k.SHOPPING_BAG="pi pi-shopping-bag",k.SHOPPING_CART="pi pi-shopping-cart",k.SIGN_IN="pi pi-sign-in",k.SIGN_OUT="pi pi-sign-out",k.SITEMAP="pi pi-sitemap",k.SLACK="pi pi-slack",k.SLIDERS_H="pi pi-sliders-h",k.SLIDERS_V="pi pi-sliders-v",k.SORT="pi pi-sort",k.SORT_ALPHA_DOWN="pi pi-sort-alpha-down",k.SORT_ALPHA_ALT_DOWN="pi pi-sort-alpha-alt-down",k.SORT_ALPHA_UP="pi pi-sort-alpha-up",k.SORT_ALPHA_ALT_UP="pi pi-sort-alpha-alt-up",k.SORT_ALT="pi pi-sort-alt",k.SORT_ALT_SLASH="pi pi-sort-slash",k.SORT_AMOUNT_DOWN="pi pi-sort-amount-down",k.SORT_AMOUNT_DOWN_ALT="pi pi-sort-amount-down-alt",k.SORT_AMOUNT_UP="pi pi-sort-amount-up",k.SORT_AMOUNT_UP_ALT="pi pi-sort-amount-up-alt",k.SORT_DOWN="pi pi-sort-down",k.SORT_NUMERIC_DOWN="pi pi-sort-numeric-down",k.SORT_NUMERIC_ALT_DOWN="pi pi-sort-numeric-alt-down",k.SORT_NUMERIC_UP="pi pi-sort-numeric-up",k.SORT_NUMERIC_ALT_UP="pi pi-sort-numeric-alt-up",k.SORT_UP="pi pi-sort-up",k.SPINNER="pi pi-spinner",k.STAR="pi pi-star",k.STAR_FILL="pi pi-star-fill",k.STEP_BACKWARD="pi pi-step-backward",k.STEP_BACKWARD_ALT="pi pi-step-backward-alt",k.STEP_FORWARD="pi pi-step-forward",k.STEP_FORWARD_ALT="pi pi-step-forward-alt",k.STOP="pi pi-stop",k.STOP_CIRCLE="pi pi-stop-circle",k.STOPWATCH="pi pi-stopwatch",k.SUN="pi pi-sun",k.SYNC="pi pi-sync",k.TABLE="pi pi-table",k.TABLET="pi pi-tablet",k.TAG="pi pi-tag",k.TAGS="pi pi-tags",k.TELEGRAM="pi pi-telegram",k.TH_LARGE="pi pi-th-large",k.THUMBS_DOWN="pi pi-thumbs-down",k.THUMBS_DOWN_FILL="pi pi-thumbs-down-fill",k.THUMBS_UP="pi pi-thumbs-up",k.THUMBS_UP_FILL="pi pi-thumbs-up-fill",k.TICKET="pi pi-ticket",k.TIMES="pi pi-times",k.TIMES_CIRCLE="pi pi-times-circle",k.TRASH="pi pi-trash",k.TRUCK="pi pi-truck",k.TWITTER="pi pi-twitter",k.UNDO="pi pi-undo",k.UNLOCK="pi pi-unlock",k.UPLOAD="pi pi-upload",k.USER="pi pi-user",k.USER_EDIT="pi pi-user-edit",k.USER_MINUS="pi pi-user-minus",k.USER_PLUS="pi pi-user-plus",k.USERS="pi pi-users",k.VERIFIED="pi pi-verified",k.VIDEO="pi pi-video",k.VIMEO="pi pi-vimeo",k.VOLUME_DOWN="pi pi-volume-down",k.VOLUME_OFF="pi pi-volume-off",k.VOLUME_UP="pi pi-volume-up",k.WALLET="pi pi-wallet",k.WHATSAPP="pi pi-whatsapp",k.WIFI="pi pi-wifi",k.WINDOW_MAXIMIZE="pi pi-window-maximize",k.WINDOW_MINIMIZE="pi pi-window-minimize",k.WRENCH="pi pi-wrench",k.YOUTUBE="pi pi-youtube",k})(),ze=(()=>{class k{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[pe.STARTS_WITH,pe.CONTAINS,pe.NOT_CONTAINS,pe.ENDS_WITH,pe.EQUALS,pe.NOT_EQUALS],numeric:[pe.EQUALS,pe.NOT_EQUALS,pe.LESS_THAN,pe.LESS_THAN_OR_EQUAL_TO,pe.GREATER_THAN,pe.GREATER_THAN_OR_EQUAL_TO],date:[pe.DATE_IS,pe.DATE_IS_NOT,pe.DATE_BEFORE,pe.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new E.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(be){return this.translation[be]}setTranslation(be){this.translation={...this.translation,...be},this.translationSource.next(this.translation)}}return k.\u0275fac=function(be){return new(be||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),_t=(()=>{class k{}return k.\u0275fac=function(be){return new(be||k)},k.\u0275cmp=_.Xpm({type:k,selectors:[["p-header"]],ngContentSelectors:K,decls:1,vars:0,template:function(be,Me){1&be&&(_.F$t(),_.Hsn(0))},encapsulation:2}),k})(),tt=(()=>{class k{}return k.\u0275fac=function(be){return new(be||k)},k.\u0275cmp=_.Xpm({type:k,selectors:[["p-footer"]],ngContentSelectors:K,decls:1,vars:0,template:function(be,Me){1&be&&(_.F$t(),_.Hsn(0))},encapsulation:2}),k})(),Xe=(()=>{class k{constructor(be){this.template=be}getType(){return this.name}}return k.\u0275fac=function(be){return new(be||k)(_.Y36(_.Rgc))},k.\u0275dir=_.lG2({type:k,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),k})(),Te=(()=>{class k{}return k.\u0275fac=function(be){return new(be||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({imports:[_e.ez]}),k})(),Ye=(()=>{class k{}return k.STARTS_WITH="startsWith",k.CONTAINS="contains",k.NOT_CONTAINS="notContains",k.ENDS_WITH="endsWith",k.EQUALS="equals",k.NOT_EQUALS="notEquals",k.NO_FILTER="noFilter",k.LT="lt",k.LTE="lte",k.GT="gt",k.GTE="gte",k.IS="is",k.IS_NOT="isNot",k.BEFORE="before",k.AFTER="after",k.CLEAR="clear",k.APPLY="apply",k.MATCH_ALL="matchAll",k.MATCH_ANY="matchAny",k.ADD_RULE="addRule",k.REMOVE_RULE="removeRule",k.ACCEPT="accept",k.REJECT="reject",k.CHOOSE="choose",k.UPLOAD="upload",k.CANCEL="cancel",k.DAY_NAMES="dayNames",k.DAY_NAMES_SHORT="dayNamesShort",k.DAY_NAMES_MIN="dayNamesMin",k.MONTH_NAMES="monthNames",k.MONTH_NAMES_SHORT="monthNamesShort",k.FIRST_DAY_OF_WEEK="firstDayOfWeek",k.TODAY="today",k.WEEK_HEADER="weekHeader",k.WEAK="weak",k.MEDIUM="medium",k.STRONG="strong",k.PASSWORD_PROMPT="passwordPrompt",k.EMPTY_MESSAGE="emptyMessage",k.EMPTY_FILTER_MESSAGE="emptyFilterMessage",k})(),Ve=(()=>{class k{constructor(){this.dragStartSource=new E.x,this.dragStopSource=new E.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag(be){this.dragStartSource.next(be)}stopDrag(be){this.dragStopSource.next(be)}}return k.\u0275fac=function(be){return new(be||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac}),k})()},8639:(Gt,qe,U)=>{U.d(qe,{Ct:()=>he,TX:()=>pe,lM:()=>ie});var _=U(6895),E=U(4650),Z=U(805),_e=U(9592),K=U(982);function Y(ee,se){if(1&ee&&(E.TgZ(0,"span",1),E._uU(1),E.qZA()),2&ee){const me=E.oxw();E.Tol(me.styleClass),E.Q6J("ngClass",me.containerClass())("ngStyle",me.style),E.xp6(1),E.Oqu(me.value)}}let ie=(()=>{class ee{constructor(me){this.el=me,this.iconPos="left",this._disabled=!1}get disabled(){return this._disabled}set disabled(me){this._disabled=me}get size(){return this._size}set size(me){this._size=me,this.initialized&&this.setSizeClasses()}ngAfterViewInit(){this.id=(0,K.Th)()+"_badge";let me=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement;if(this._disabled)return null;let ke=document.createElement("span");ke.id=this.id,ke.className="p-badge p-component",this.severity&&_e.p.addClass(ke,"p-badge-"+this.severity),this.setSizeClasses(ke),null!=this.value?(ke.appendChild(document.createTextNode(this.value)),1===String(this.value).length&&_e.p.addClass(ke,"p-badge-no-gutter")):_e.p.addClass(ke,"p-badge-dot"),_e.p.addClass(me,"p-overlay-badge"),me.appendChild(ke),this.initialized=!0}get value(){return this._value}set value(me){if(me!==this._value&&(this._value=me,this.initialized)){let ke=document.getElementById(this.id);this._value?(_e.p.hasClass(ke,"p-badge-dot")&&_e.p.removeClass(ke,"p-badge-dot"),1===String(this._value).length?_e.p.addClass(ke,"p-badge-no-gutter"):_e.p.removeClass(ke,"p-badge-no-gutter")):!this._value&&!_e.p.hasClass(ke,"p-badge-dot")&&_e.p.addClass(ke,"p-badge-dot"),ke.innerHTML="",ke.appendChild(document.createTextNode(this._value))}}setSizeClasses(me){const ke=me??document.getElementById(this.id);ke&&(this._size?("large"===this._size&&(_e.p.addClass(ke,"p-badge-lg"),_e.p.removeClass(ke,"p-badge-xl")),"xlarge"===this._size&&(_e.p.addClass(ke,"p-badge-xl"),_e.p.removeClass(ke,"p-badge-lg"))):(_e.p.removeClass(ke,"p-badge-lg"),_e.p.removeClass(ke,"p-badge-xl")))}ngOnDestroy(){this.initialized=!1}}return ee.\u0275fac=function(me){return new(me||ee)(E.Y36(E.SBq))},ee.\u0275dir=E.lG2({type:ee,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",disabled:["badgeDisabled","disabled"],size:"size",value:"value",severity:"severity"}}),ee})(),he=(()=>{class ee{constructor(){this.badgeDisabled=!1}containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}}return ee.\u0275fac=function(me){return new(me||ee)},ee.\u0275cmp=E.Xpm({type:ee,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value",badgeDisabled:"badgeDisabled"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(me,ke){1&me&&E.YNc(0,Y,2,5,"span",0),2&me&&E.Q6J("ngIf",!ke.badgeDisabled)},dependencies:[_.mk,_.O5,_.PC],styles:[".p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}\n"],encapsulation:2,changeDetection:0}),ee})(),pe=(()=>{class ee{}return ee.\u0275fac=function(me){return new(me||ee)},ee.\u0275mod=E.oAB({type:ee}),ee.\u0275inj=E.cJS({imports:[_.ez,Z.m8]}),ee})()},5593:(Gt,qe,U)=>{U.d(qe,{Hq:()=>ze,hJ:()=>tt,zx:()=>_t});var _=U(6895),E=U(4650),Z=U(805),_e=U(9592),K=U(1795),Y=U(982);function ie(Xe,Te){1&Xe&&E.GkF(0)}const he=function(Xe,Te,Ye,Ve){return{"p-button-icon":!0,"p-button-icon-left":Xe,"p-button-icon-right":Te,"p-button-icon-top":Ye,"p-button-icon-bottom":Ve}};function pe(Xe,Te){if(1&Xe&&E._UZ(0,"span",4),2&Xe){const Ye=E.oxw();E.Tol(Ye.loading?"p-button-loading-icon "+Ye.loadingIcon:Ye.icon),E.Q6J("ngClass",E.l5B(4,he,"left"===Ye.iconPos&&Ye.label,"right"===Ye.iconPos&&Ye.label,"top"===Ye.iconPos&&Ye.label,"bottom"===Ye.iconPos&&Ye.label)),E.uIk("aria-hidden",!0)}}function ee(Xe,Te){if(1&Xe&&(E.TgZ(0,"span",5),E._uU(1),E.qZA()),2&Xe){const Ye=E.oxw();E.uIk("aria-hidden",Ye.icon&&!Ye.label),E.xp6(1),E.Oqu(Ye.label)}}function se(Xe,Te){if(1&Xe&&(E.TgZ(0,"span",4),E._uU(1),E.qZA()),2&Xe){const Ye=E.oxw();E.Tol(Ye.badgeClass),E.Q6J("ngClass",Ye.badgeStyleClass()),E.xp6(1),E.Oqu(Ye.badge)}}const me=function(Xe,Te,Ye,Ve,k){return{"p-button p-component":!0,"p-button-icon-only":Xe,"p-button-vertical":Te,"p-disabled":Ye,"p-button-loading":Ve,"p-button-loading-label-only":k}},ke=["*"],Ge={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let ze=(()=>{class Xe{constructor(Ye){this.el=Ye,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1,this._internalClasses=Object.values(Ge)}get label(){return this._label}set label(Ye){this._label=Ye,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(Ye){this._icon=Ye,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(Ye){this._loading=Ye,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}ngAfterViewInit(){_e.p.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const Ye=[Ge.button,Ge.component];return this.icon&&!this.label&&Y.gb.isEmpty(this.htmlElement.textContent)&&Ye.push(Ge.iconOnly),this.loading&&(Ye.push(Ge.disabled,Ge.loading),!this.icon&&this.label&&Ye.push(Ge.labelOnly)),Ye}setStyleClass(){const Ye=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...Ye)}createLabel(){if(this.label){let Ye=document.createElement("span");this.icon&&!this.label&&Ye.setAttribute("aria-hidden","true"),Ye.className="p-button-label",Ye.appendChild(document.createTextNode(this.label)),this.htmlElement.appendChild(Ye)}}createIcon(){if(this.icon||this.loading){let Ye=document.createElement("span");Ye.className="p-button-icon",Ye.setAttribute("aria-hidden","true");let Ve=this.label?"p-button-icon-"+this.iconPos:null;Ve&&_e.p.addClass(Ye,Ve);let k=this.getIconClass();k&&_e.p.addMultipleClasses(Ye,k),this.htmlElement.insertBefore(Ye,this.htmlElement.firstChild)}}updateLabel(){let Ye=_e.p.findSingle(this.htmlElement,".p-button-label");this.label?Ye?Ye.textContent=this.label:this.createLabel():Ye&&this.htmlElement.removeChild(Ye)}updateIcon(){let Ye=_e.p.findSingle(this.htmlElement,".p-button-icon");this.icon||this.loading?Ye?Ye.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():Ye&&this.htmlElement.removeChild(Ye)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return Xe.\u0275fac=function(Ye){return new(Ye||Xe)(E.Y36(E.SBq))},Xe.\u0275dir=E.lG2({type:Xe,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),Xe})(),_t=(()=>{class Xe{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new E.vpe,this.onFocus=new E.vpe,this.onBlur=new E.vpe}ngAfterContentInit(){this.templates.forEach(Ye=>{Ye.getType(),this.contentTemplate=Ye.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return Xe.\u0275fac=function(Ye){return new(Ye||Xe)},Xe.\u0275cmp=E.Xpm({type:Xe,selectors:[["p-button"]],contentQueries:function(Ye,Ve,k){if(1&Ye&&E.Suo(k,Z.jx,4),2&Ye){let ye;E.iGM(ye=E.CRH())&&(Ve.templates=ye)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:ke,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(Ye,Ve){1&Ye&&(E.F$t(),E.TgZ(0,"button",0),E.NdJ("click",function(ye){return Ve.onClick.emit(ye)})("focus",function(ye){return Ve.onFocus.emit(ye)})("blur",function(ye){return Ve.onBlur.emit(ye)}),E.Hsn(1),E.YNc(2,ie,1,0,"ng-container",1),E.YNc(3,pe,1,9,"span",2),E.YNc(4,ee,2,2,"span",3),E.YNc(5,se,2,4,"span",2),E.qZA()),2&Ye&&(E.Tol(Ve.styleClass),E.Q6J("ngStyle",Ve.style)("disabled",Ve.disabled||Ve.loading)("ngClass",E.qbA(11,me,Ve.icon&&!Ve.label,("top"===Ve.iconPos||"bottom"===Ve.iconPos)&&Ve.label,Ve.disabled||Ve.loading,Ve.loading,Ve.loading&&!Ve.icon&&Ve.label)),E.uIk("type",Ve.type)("aria-label",Ve.ariaLabel),E.xp6(2),E.Q6J("ngTemplateOutlet",Ve.contentTemplate),E.xp6(1),E.Q6J("ngIf",!Ve.contentTemplate&&(Ve.icon||Ve.loading)),E.xp6(1),E.Q6J("ngIf",!Ve.contentTemplate&&Ve.label),E.xp6(1),E.Q6J("ngIf",!Ve.contentTemplate&&Ve.badge))},dependencies:[_.mk,_.O5,_.tP,_.PC,K.H],encapsulation:2,changeDetection:0}),Xe})(),tt=(()=>{class Xe{}return Xe.\u0275fac=function(Ye){return new(Ye||Xe)},Xe.\u0275mod=E.oAB({type:Xe}),Xe.\u0275inj=E.cJS({imports:[_.ez,K.T]}),Xe})()},9592:(Gt,qe,U)=>{U.d(qe,{V:()=>E,p:()=>_});let _=(()=>{class Z{static addClass(K,Y){K&&Y&&(K.classList?K.classList.add(Y):K.className+=" "+Y)}static addMultipleClasses(K,Y){if(K&&Y)if(K.classList){let ie=Y.trim().split(" ");for(let he=0;he<ie.length;he++)K.classList.add(ie[he])}else{let ie=Y.split(" ");for(let he=0;he<ie.length;he++)K.className+=" "+ie[he]}}static removeClass(K,Y){K&&Y&&(K.classList?K.classList.remove(Y):K.className=K.className.replace(new RegExp("(^|\\b)"+Y.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(K,Y){return!(!K||!Y)&&(K.classList?K.classList.contains(Y):new RegExp("(^| )"+Y+"( |$)","gi").test(K.className))}static siblings(K){return Array.prototype.filter.call(K.parentNode.children,function(Y){return Y!==K})}static find(K,Y){return Array.from(K.querySelectorAll(Y))}static findSingle(K,Y){return K?K.querySelector(Y):null}static index(K){let Y=K.parentNode.childNodes,ie=0;for(var he=0;he<Y.length;he++){if(Y[he]==K)return ie;1==Y[he].nodeType&&ie++}return-1}static indexWithinGroup(K,Y){let ie=K.parentNode?K.parentNode.childNodes:[],he=0;for(var pe=0;pe<ie.length;pe++){if(ie[pe]==K)return he;ie[pe].attributes&&ie[pe].attributes[Y]&&1==ie[pe].nodeType&&he++}return-1}static appendOverlay(K,Y,ie="self"){"self"!==ie&&K&&Y&&this.appendChild(K,Y)}static alignOverlay(K,Y,ie="self",he=!0){K&&Y&&(he&&(K.style.minWidth||(K.style.minWidth=Z.getOuterWidth(Y)+"px")),"self"===ie?this.relativePosition(K,Y):this.absolutePosition(K,Y))}static relativePosition(K,Y){const ie=Xe=>{if(Xe)return"relative"===getComputedStyle(Xe).getPropertyValue("position")?Xe:ie(Xe.parentElement)},he=K.offsetParent?{width:K.offsetWidth,height:K.offsetHeight}:this.getHiddenElementDimensions(K),pe=Y.offsetHeight,ee=Y.getBoundingClientRect(),se=this.getWindowScrollTop(),me=this.getWindowScrollLeft(),ke=this.getViewport(),ze=ie(K)?.getBoundingClientRect()||{top:-1*se,left:-1*me};let _t,tt;ee.top+pe+he.height>ke.height?(_t=ee.top-ze.top-he.height,K.style.transformOrigin="bottom",ee.top+_t<0&&(_t=-1*ee.top)):(_t=pe+ee.top-ze.top,K.style.transformOrigin="top"),tt=he.width>ke.width?-1*(ee.left-ze.left):ee.left-ze.left+he.width>ke.width?-1*(ee.left-ze.left+he.width-ke.width):ee.left-ze.left,K.style.top=_t+"px",K.style.left=tt+"px"}static absolutePosition(K,Y){const ie=K.offsetParent?{width:K.offsetWidth,height:K.offsetHeight}:this.getHiddenElementDimensions(K),he=ie.height,pe=ie.width,ee=Y.offsetHeight,se=Y.offsetWidth,me=Y.getBoundingClientRect(),ke=this.getWindowScrollTop(),Ge=this.getWindowScrollLeft(),ze=this.getViewport();let _t,tt;me.top+ee+he>ze.height?(_t=me.top+ke-he,K.style.transformOrigin="bottom",_t<0&&(_t=ke)):(_t=ee+me.top+ke,K.style.transformOrigin="top"),tt=me.left+pe>ze.width?Math.max(0,me.left+Ge+se-pe):me.left+Ge,K.style.top=_t+"px",K.style.left=tt+"px"}static getParents(K,Y=[]){return null===K.parentNode?Y:this.getParents(K.parentNode,Y.concat([K.parentNode]))}static getScrollableParents(K){let Y=[];if(K){let ie=this.getParents(K);const he=/(auto|scroll)/,pe=ee=>{let se=window.getComputedStyle(ee,null);return he.test(se.getPropertyValue("overflow"))||he.test(se.getPropertyValue("overflowX"))||he.test(se.getPropertyValue("overflowY"))};for(let ee of ie){let se=1===ee.nodeType&&ee.dataset.scrollselectors;if(se){let me=se.split(",");for(let ke of me){let Ge=this.findSingle(ee,ke);Ge&&pe(Ge)&&Y.push(Ge)}}9!==ee.nodeType&&pe(ee)&&Y.push(ee)}}return Y}static getHiddenElementOuterHeight(K){K.style.visibility="hidden",K.style.display="block";let Y=K.offsetHeight;return K.style.display="none",K.style.visibility="visible",Y}static getHiddenElementOuterWidth(K){K.style.visibility="hidden",K.style.display="block";let Y=K.offsetWidth;return K.style.display="none",K.style.visibility="visible",Y}static getHiddenElementDimensions(K){let Y={};return K.style.visibility="hidden",K.style.display="block",Y.width=K.offsetWidth,Y.height=K.offsetHeight,K.style.display="none",K.style.visibility="visible",Y}static scrollInView(K,Y){let ie=getComputedStyle(K).getPropertyValue("borderTopWidth"),he=ie?parseFloat(ie):0,pe=getComputedStyle(K).getPropertyValue("paddingTop"),ee=pe?parseFloat(pe):0,se=K.getBoundingClientRect(),ke=Y.getBoundingClientRect().top+document.body.scrollTop-(se.top+document.body.scrollTop)-he-ee,Ge=K.scrollTop,ze=K.clientHeight,_t=this.getOuterHeight(Y);ke<0?K.scrollTop=Ge+ke:ke+_t>ze&&(K.scrollTop=Ge+ke-ze+_t)}static fadeIn(K,Y){K.style.opacity=0;let ie=+new Date,he=0,pe=function(){he=+K.style.opacity.replace(",",".")+((new Date).getTime()-ie)/Y,K.style.opacity=he,ie=+new Date,+he<1&&(window.requestAnimationFrame&&requestAnimationFrame(pe)||setTimeout(pe,16))};pe()}static fadeOut(K,Y){var ie=1,ee=50/Y;let se=setInterval(()=>{(ie-=ee)<=0&&(ie=0,clearInterval(se)),K.style.opacity=ie},50)}static getWindowScrollTop(){let K=document.documentElement;return(window.pageYOffset||K.scrollTop)-(K.clientTop||0)}static getWindowScrollLeft(){let K=document.documentElement;return(window.pageXOffset||K.scrollLeft)-(K.clientLeft||0)}static matches(K,Y){var ie=Element.prototype;return(ie.matches||ie.webkitMatchesSelector||ie.mozMatchesSelector||ie.msMatchesSelector||function(pe){return-1!==[].indexOf.call(document.querySelectorAll(pe),this)}).call(K,Y)}static getOuterWidth(K,Y){let ie=K.offsetWidth;if(Y){let he=getComputedStyle(K);ie+=parseFloat(he.marginLeft)+parseFloat(he.marginRight)}return ie}static getHorizontalPadding(K){let Y=getComputedStyle(K);return parseFloat(Y.paddingLeft)+parseFloat(Y.paddingRight)}static getHorizontalMargin(K){let Y=getComputedStyle(K);return parseFloat(Y.marginLeft)+parseFloat(Y.marginRight)}static innerWidth(K){let Y=K.offsetWidth,ie=getComputedStyle(K);return Y+=parseFloat(ie.paddingLeft)+parseFloat(ie.paddingRight),Y}static width(K){let Y=K.offsetWidth,ie=getComputedStyle(K);return Y-=parseFloat(ie.paddingLeft)+parseFloat(ie.paddingRight),Y}static getInnerHeight(K){let Y=K.offsetHeight,ie=getComputedStyle(K);return Y+=parseFloat(ie.paddingTop)+parseFloat(ie.paddingBottom),Y}static getOuterHeight(K,Y){let ie=K.offsetHeight;if(Y){let he=getComputedStyle(K);ie+=parseFloat(he.marginTop)+parseFloat(he.marginBottom)}return ie}static getHeight(K){let Y=K.offsetHeight,ie=getComputedStyle(K);return Y-=parseFloat(ie.paddingTop)+parseFloat(ie.paddingBottom)+parseFloat(ie.borderTopWidth)+parseFloat(ie.borderBottomWidth),Y}static getWidth(K){let Y=K.offsetWidth,ie=getComputedStyle(K);return Y-=parseFloat(ie.paddingLeft)+parseFloat(ie.paddingRight)+parseFloat(ie.borderLeftWidth)+parseFloat(ie.borderRightWidth),Y}static getViewport(){let K=window,Y=document,ie=Y.documentElement,he=Y.getElementsByTagName("body")[0];return{width:K.innerWidth||ie.clientWidth||he.clientWidth,height:K.innerHeight||ie.clientHeight||he.clientHeight}}static getOffset(K){var Y=K.getBoundingClientRect();return{top:Y.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:Y.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(K,Y){let ie=K.parentNode;if(!ie)throw"Can't replace element";return ie.replaceChild(Y,K)}static getUserAgent(){return navigator.userAgent}static isIE(){var K=window.navigator.userAgent;return K.indexOf("MSIE ")>0||(K.indexOf("Trident/")>0?(K.indexOf("rv:"),!0):K.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(K,Y){if(this.isElement(Y))Y.appendChild(K);else{if(!Y.el||!Y.el.nativeElement)throw"Cannot append "+Y+" to "+K;Y.el.nativeElement.appendChild(K)}}static removeChild(K,Y){if(this.isElement(Y))Y.removeChild(K);else{if(!Y.el||!Y.el.nativeElement)throw"Cannot remove "+K+" from "+Y;Y.el.nativeElement.removeChild(K)}}static removeElement(K){"remove"in Element.prototype?K.remove():K.parentNode.removeChild(K)}static isElement(K){return"object"==typeof HTMLElement?K instanceof HTMLElement:K&&"object"==typeof K&&null!==K&&1===K.nodeType&&"string"==typeof K.nodeName}static calculateScrollbarWidth(K){if(K){let Y=getComputedStyle(K);return K.offsetWidth-K.clientWidth-parseFloat(Y.borderLeftWidth)-parseFloat(Y.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let Y=document.createElement("div");Y.className="p-scrollbar-measure",document.body.appendChild(Y);let ie=Y.offsetWidth-Y.clientWidth;return document.body.removeChild(Y),this.calculatedScrollbarWidth=ie,ie}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let K=document.createElement("div");K.className="p-scrollbar-measure",document.body.appendChild(K);let Y=K.offsetHeight-K.clientHeight;return document.body.removeChild(K),this.calculatedScrollbarWidth=Y,Y}static invokeElementMethod(K,Y,ie){K[Y].apply(K,ie)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let K=this.resolveUserAgent();this.browser={},K.browser&&(this.browser[K.browser]=!0,this.browser.version=K.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let K=navigator.userAgent.toLowerCase(),Y=/(chrome)[ \/]([\w.]+)/.exec(K)||/(webkit)[ \/]([\w.]+)/.exec(K)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(K)||/(msie) ([\w.]+)/.exec(K)||K.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(K)||[];return{browser:Y[1]||"",version:Y[2]||"0"}}static isInteger(K){return Number.isInteger?Number.isInteger(K):"number"==typeof K&&isFinite(K)&&Math.floor(K)===K}static isHidden(K){return!K||null===K.offsetParent}static isVisible(K){return K&&null!=K.offsetParent}static isExist(K){return null!==K&&typeof K<"u"&&K.nodeName&&K.parentNode}static focus(K,Y){K&&document.activeElement!==K&&K.focus(Y)}static getFocusableElements(K){let Y=Z.find(K,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),ie=[];for(let he of Y)(he.offsetWidth||he.offsetHeight||he.getClientRects().length)&&ie.push(he);return ie}static getNextFocusableElement(K,Y=!1){const ie=Z.getFocusableElements(K);let he=0;if(ie&&ie.length>0){const pe=ie.indexOf(ie[0].ownerDocument.activeElement);Y?he=-1==pe||0===pe?ie.length-1:pe-1:-1!=pe&&pe!==ie.length-1&&(he=pe+1)}return ie[he]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(K,Y){if(!K)return null;switch(K){case"document":return document;case"window":return window;case"@next":return Y?.nextElementSibling;case"@prev":return Y?.previousElementSibling;case"@parent":return Y?.parentElement;case"@grandparent":return Y?.parentElement.parentElement;default:const ie=typeof K;if("string"===ie)return document.querySelector(K);if("object"===ie&&K.hasOwnProperty("nativeElement"))return this.isExist(K.nativeElement)?K.nativeElement:void 0;const pe=(ee=K)&&ee.constructor&&ee.call&&ee.apply?K():K;return pe&&9===pe.nodeType||this.isExist(pe)?pe:null}var ee}}return Z.zindex=1e3,Z.calculatedScrollbarWidth=null,Z.calculatedScrollbarHeight=null,Z})();class E{constructor(_e,K=(()=>{})){this.element=_e,this.listener=K}bindScrollListener(){this.scrollableParents=_.getScrollableParents(this.element);for(let _e=0;_e<this.scrollableParents.length;_e++)this.scrollableParents[_e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let _e=0;_e<this.scrollableParents.length;_e++)this.scrollableParents[_e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},7913:(Gt,qe,U)=>{U.d(qe,{Iu:()=>ie,Ql:()=>Y});var _=U(4650),E=U(6895),Z=U(433);const _e=function(he,pe,ee){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":he,"p-disabled":pe,"p-focus":ee}},K={provide:Z.JU,useExisting:(0,_.Gpc)(()=>Y),multi:!0};let Y=(()=>{class he{constructor(ee){this.cd=ee,this.trueValue=!0,this.falseValue=!1,this.onChange=new _.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(ee,se){!this.disabled&&!this.readonly&&(ee.preventDefault(),this.toggle(ee),se.focus())}onInputChange(ee){this.readonly||this.updateModel(ee,ee.target.checked)}toggle(ee){this.updateModel(ee,!this.checked())}updateModel(ee,se){this.modelValue=se?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:ee,checked:this.modelValue})}onFocus(ee){this.focused=!0}onBlur(ee){this.focused=!1,this.onModelTouched()}writeValue(ee){this.modelValue=ee,this.cd.markForCheck()}registerOnChange(ee){this.onModelChange=ee}registerOnTouched(ee){this.onModelTouched=ee}setDisabledState(ee){this.disabled=ee,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return he.\u0275fac=function(ee){return new(ee||he)(_.Y36(_.sBO))},he.\u0275cmp=_.Xpm({type:he,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[_._Bn([K])],decls:5,vars:16,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(ee,se){if(1&ee){const me=_.EpF();_.TgZ(0,"div",0),_.NdJ("click",function(Ge){_.CHM(me);const ze=_.MAs(3);return _.KtG(se.onClick(Ge,ze))}),_.TgZ(1,"div",1)(2,"input",2,3),_.NdJ("change",function(Ge){return se.onInputChange(Ge)})("focus",function(Ge){return se.onFocus(Ge)})("blur",function(Ge){return se.onBlur(Ge)}),_.qZA()(),_._UZ(4,"span",4),_.qZA()}2&ee&&(_.Tol(se.styleClass),_.Q6J("ngClass",_.kEZ(12,_e,se.checked(),se.disabled,se.focused))("ngStyle",se.style),_.xp6(2),_.Q6J("checked",se.checked())("disabled",se.disabled),_.uIk("aria-label",se.ariaLabel)("id",se.inputId)("name",se.name)("tabindex",se.tabindex)("aria-checked",se.checked())("aria-labelledby",se.ariaLabelledBy))},dependencies:[E.mk,E.PC],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}\n'],encapsulation:2,changeDetection:0}),he})(),ie=(()=>{class he{}return he.\u0275fac=function(ee){return new(ee||he)},he.\u0275mod=_.oAB({type:he}),he.\u0275inj=_.cJS({imports:[E.ez]}),he})()},1740:(Gt,qe,U)=>{U.d(qe,{j:()=>K,o:()=>_e});var _=U(4650),E=U(6895),Z=U(433);let _e=(()=>{class Y{constructor(he,pe,ee){this.el=he,this.ngModel=pe,this.cd=ee}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(he){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return Y.\u0275fac=function(he){return new(he||Y)(_.Y36(_.SBq),_.Y36(Z.On,8),_.Y36(_.sBO))},Y.\u0275dir=_.lG2({type:Y,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(he,pe){1&he&&_.NdJ("input",function(se){return pe.onInput(se)}),2&he&&_.ekj("p-filled",pe.filled)}}),Y})(),K=(()=>{class Y{}return Y.\u0275fac=function(he){return new(he||Y)},Y.\u0275mod=_.oAB({type:Y}),Y.\u0275inj=_.cJS({imports:[E.ez]}),Y})()},613:(Gt,qe,U)=>{U.d(qe,{EU:()=>se,cc:()=>me});var _=U(4650),E=U(6895),Z=U(433);const _e=["rb"],K=function(ke,Ge,ze){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":ke,"p-disabled":Ge,"p-radiobutton-label-focus":ze}};function Y(ke,Ge){if(1&ke){const ze=_.EpF();_.TgZ(0,"label",4),_.NdJ("click",function(tt){_.CHM(ze);const Xe=_.oxw();return _.KtG(Xe.select(tt))}),_._uU(1),_.qZA()}if(2&ke){const ze=_.oxw(),_t=_.MAs(3);_.Tol(ze.labelStyleClass),_.Q6J("ngClass",_.kEZ(5,K,_t.checked,ze.disabled,ze.focused)),_.uIk("for",ze.inputId),_.xp6(1),_.Oqu(ze.label)}}const ie=function(ke,Ge,ze){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":ke,"p-radiobutton-disabled":Ge,"p-radiobutton-focused":ze}},he=function(ke,Ge,ze){return{"p-radiobutton-box":!0,"p-highlight":ke,"p-disabled":Ge,"p-focus":ze}},pe={provide:Z.JU,useExisting:(0,_.Gpc)(()=>se),multi:!0};let ee=(()=>{class ke{constructor(){this.accessors=[]}add(ze,_t){this.accessors.push([ze,_t])}remove(ze){this.accessors=this.accessors.filter(_t=>_t[1]!==ze)}select(ze){this.accessors.forEach(_t=>{this.isSameGroup(_t,ze)&&_t[1]!==ze&&_t[1].writeValue(ze.value)})}isSameGroup(ze,_t){return!!ze[0].control&&ze[0].control.root===_t.control.control.root&&ze[1].name===_t.name}}return ke.\u0275fac=function(ze){return new(ze||ke)},ke.\u0275prov=_.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})(),se=(()=>{class ke{constructor(ze,_t,tt){this.cd=ze,this.injector=_t,this.registry=tt,this.onClick=new _.vpe,this.onFocus=new _.vpe,this.onBlur=new _.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(Z.a5),this.checkName(),this.registry.add(this.control,this)}handleClick(ze,_t,tt){ze.preventDefault(),!this.disabled&&(this.select(ze),tt&&_t.focus())}select(ze){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:ze,value:this.value}))}writeValue(ze){this.checked=ze==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(ze){this.onModelChange=ze}registerOnTouched(ze){this.onModelTouched=ze}setDisabledState(ze){this.disabled=ze,this.cd.markForCheck()}onInputFocus(ze){this.focused=!0,this.onFocus.emit(ze)}onInputBlur(ze){this.focused=!1,this.onModelTouched(),this.onBlur.emit(ze)}onChange(ze){this.select(ze)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return ke.\u0275fac=function(ze){return new(ze||ke)(_.Y36(_.sBO),_.Y36(_.zs3),_.Y36(ee))},ke.\u0275cmp=_.Xpm({type:ke,selectors:[["p-radioButton"]],viewQuery:function(ze,_t){if(1&ze&&_.Gf(_e,5),2&ze){let tt;_.iGM(tt=_.CRH())&&(_t.inputViewChild=tt.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[_._Bn([pe])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(ze,_t){if(1&ze){const tt=_.EpF();_.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),_.NdJ("change",function(Te){return _t.onChange(Te)})("focus",function(Te){return _t.onInputFocus(Te)})("blur",function(Te){return _t.onInputBlur(Te)}),_.qZA()(),_.TgZ(4,"div",4),_.NdJ("click",function(Te){_.CHM(tt);const Ye=_.MAs(3);return _.KtG(_t.handleClick(Te,Ye,!0))}),_._UZ(5,"span",5),_.qZA()(),_.YNc(6,Y,2,9,"label",6)}2&ze&&(_.Tol(_t.styleClass),_.Q6J("ngStyle",_t.style)("ngClass",_.kEZ(15,ie,_t.checked,_t.disabled,_t.focused)),_.xp6(2),_.Q6J("checked",_t.checked)("disabled",_t.disabled),_.uIk("id",_t.inputId)("name",_t.name)("value",_t.value)("tabindex",_t.tabindex)("aria-checked",_t.checked)("aria-label",_t.ariaLabel)("aria-labelledby",_t.ariaLabelledBy),_.xp6(2),_.Q6J("ngClass",_.kEZ(19,he,_t.checked,_t.disabled,_t.focused)),_.xp6(2),_.Q6J("ngIf",_t.label))},dependencies:[E.mk,E.O5,E.PC],encapsulation:2,changeDetection:0}),ke})(),me=(()=>{class ke{}return ke.\u0275fac=function(ze){return new(ze||ke)},ke.\u0275mod=_.oAB({type:ke}),ke.\u0275inj=_.cJS({imports:[E.ez]}),ke})()},1795:(Gt,qe,U)=>{U.d(qe,{H:()=>K,T:()=>Y});var _=U(4650),E=U(6895),Z=U(9592),_e=U(805);let K=(()=>{class ie{constructor(pe,ee,se){this.el=pe,this.zone=ee,this.config=se}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(pe){let ee=this.getInk();if(!ee||"none"===getComputedStyle(ee,null).display)return;if(Z.p.removeClass(ee,"p-ink-active"),!Z.p.getHeight(ee)&&!Z.p.getWidth(ee)){let Ge=Math.max(Z.p.getOuterWidth(this.el.nativeElement),Z.p.getOuterHeight(this.el.nativeElement));ee.style.height=Ge+"px",ee.style.width=Ge+"px"}let se=Z.p.getOffset(this.el.nativeElement),me=pe.pageX-se.left+document.body.scrollTop-Z.p.getWidth(ee)/2,ke=pe.pageY-se.top+document.body.scrollLeft-Z.p.getHeight(ee)/2;ee.style.top=ke+"px",ee.style.left=me+"px",Z.p.addClass(ee,"p-ink-active"),this.timeout=setTimeout(()=>{let Ge=this.getInk();Ge&&Z.p.removeClass(Ge,"p-ink-active")},401)}getInk(){const pe=this.el.nativeElement.children;for(let ee=0;ee<pe.length;ee++)if("string"==typeof pe[ee].className&&-1!==pe[ee].className.indexOf("p-ink"))return pe[ee];return null}resetInk(){let pe=this.getInk();pe&&Z.p.removeClass(pe,"p-ink-active")}onAnimationEnd(pe){this.timeout&&clearTimeout(this.timeout),Z.p.removeClass(pe.currentTarget,"p-ink-active")}create(){let pe=document.createElement("span");pe.className="p-ink",this.el.nativeElement.appendChild(pe),this.animationListener=this.onAnimationEnd.bind(this),pe.addEventListener("animationend",this.animationListener)}remove(){let pe=this.getInk();pe&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),pe.removeEventListener("animationend",this.animationListener),Z.p.removeElement(pe))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return ie.\u0275fac=function(pe){return new(pe||ie)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(_e.b4,8))},ie.\u0275dir=_.lG2({type:ie,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),ie})(),Y=(()=>{class ie{}return ie.\u0275fac=function(pe){return new(pe||ie)},ie.\u0275mod=_.oAB({type:ie}),ie.\u0275inj=_.cJS({imports:[E.ez]}),ie})()},3214:(Gt,qe,U)=>{U.d(qe,{Y:()=>Te,l:()=>Ye});var _=U(4650),E=U(7340),Z=U(6895),_e=U(1795),K=U(9592),Y=U(805),ie=U(982);function he(Ve,k){1&Ve&&_.GkF(0)}function pe(Ve,k){if(1&Ve){const ye=_.EpF();_.TgZ(0,"button",8),_.NdJ("click",function(Me){_.CHM(ye);const Ce=_.oxw(2);return _.KtG(Ce.close(Me))})("keydown.enter",function(Me){_.CHM(ye);const Ce=_.oxw(2);return _.KtG(Ce.close(Me))}),_._UZ(1,"span",9),_.qZA()}if(2&Ve){const ye=_.oxw(2);_.uIk("aria-label",ye.ariaCloseLabel)}}function ee(Ve,k){1&Ve&&_.GkF(0)}function se(Ve,k){1&Ve&&_.GkF(0)}const me=function(Ve,k,ye,be,Me,Ce){return{"p-sidebar":!0,"p-sidebar-active":Ve,"p-sidebar-left":k,"p-sidebar-right":ye,"p-sidebar-top":be,"p-sidebar-bottom":Me,"p-sidebar-full":Ce}},ke=function(Ve,k){return{transform:Ve,transition:k}},Ge=function(Ve){return{value:"visible",params:Ve}};function ze(Ve,k){if(1&Ve){const ye=_.EpF();_.TgZ(0,"div",1,2),_.NdJ("@panelState.start",function(Me){_.CHM(ye);const Ce=_.oxw();return _.KtG(Ce.onAnimationStart(Me))})("@panelState.done",function(Me){_.CHM(ye);const Ce=_.oxw();return _.KtG(Ce.onAnimationEnd(Me))}),_.TgZ(2,"div",3),_.YNc(3,he,1,0,"ng-container",4),_.YNc(4,pe,2,1,"button",5),_.qZA(),_.TgZ(5,"div",6),_.Hsn(6),_.YNc(7,ee,1,0,"ng-container",4),_.qZA(),_.TgZ(8,"div",7),_.YNc(9,se,1,0,"ng-container",4),_.qZA()()}if(2&Ve){const ye=_.oxw();_.Tol(ye.styleClass),_.Q6J("ngClass",_.HTZ(10,me,ye.visible,"left"===ye.position&&!ye.fullScreen,"right"===ye.position&&!ye.fullScreen,"top"===ye.position&&!ye.fullScreen,"bottom"===ye.position&&!ye.fullScreen,ye.fullScreen))("@panelState",_.VKq(20,Ge,_.WLB(17,ke,ye.transformOptions,ye.transitionOptions)))("ngStyle",ye.style),_.uIk("aria-modal",ye.modal),_.xp6(3),_.Q6J("ngTemplateOutlet",ye.headerTemplate),_.xp6(1),_.Q6J("ngIf",ye.showCloseIcon),_.xp6(3),_.Q6J("ngTemplateOutlet",ye.contentTemplate),_.xp6(2),_.Q6J("ngTemplateOutlet",ye.footerTemplate)}}const _t=["*"],tt=(0,E.oQ)([(0,E.oB)({transform:"{{transform}}",opacity:0}),(0,E.jt)("{{transition}}")]),Xe=(0,E.oQ)([(0,E.jt)("{{transition}}",(0,E.oB)({transform:"{{transform}}",opacity:0}))]);let Te=(()=>{class Ve{constructor(ye,be,Me,Ce){this.el=ye,this.renderer=be,this.cd=Me,this.config=Ce,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new _.vpe,this.onHide=new _.vpe,this.visibleChange=new _.vpe,this._position="left",this._fullScreen=!1,this.transformOptions="translate3d(-100%, 0px, 0px)"}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates.forEach(ye=>{switch(ye.getType()){case"content":default:this.contentTemplate=ye.template;break;case"header":this.headerTemplate=ye.template;break;case"footer":this.footerTemplate=ye.template}})}get visible(){return this._visible}set visible(ye){this._visible=ye}get position(){return this._position}set position(ye){switch(this._position=ye,ye){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(ye){this._fullScreen=ye,ye&&(this.transformOptions="none")}show(){this.autoZIndex&&ie.P9.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(ye){this.hide(),this.visibleChange.emit(!1),ye.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.container.style.zIndex)-1),K.p.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",ye=>{this.dismissible&&this.close(ye)})),document.body.appendChild(this.mask),this.blockScroll&&K.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(K.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyModal.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyModal(){this.unbindMaskClickListener(),this.mask&&document.body.removeChild(this.mask),this.blockScroll&&K.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(ye){"visible"===ye.toState&&(this.container=ye.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(ye){"void"===ye.toState&&(this.hide(),ie.P9.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):K.p.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",be=>{27==be.which&&parseInt(this.container.style.zIndex)===ie.P9.get(this.container)&&this.close(be)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.el.nativeElement.appendChild(this.container),this.container&&this.autoZIndex&&ie.P9.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}}return Ve.\u0275fac=function(ye){return new(ye||Ve)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(Y.b4))},Ve.\u0275cmp=_.Xpm({type:Ve,selectors:[["p-sidebar"]],contentQueries:function(ye,be,Me){if(1&ye&&_.Suo(Me,Y.jx,4),2&ye){let Ce;_.iGM(Ce=_.CRH())&&(be.templates=Ce)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:_t,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle"],["container",""],[1,"p-sidebar-header"],[4,"ngTemplateOutlet"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[1,"p-sidebar-footer"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[1,"p-sidebar-close-icon","pi","pi-times"]],template:function(ye,be){1&ye&&(_.F$t(),_.YNc(0,ze,10,22,"div",0)),2&ye&&_.Q6J("ngIf",be.visible)},dependencies:[Z.mk,Z.O5,Z.tP,Z.PC,_e.H],styles:[".p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}\n"],encapsulation:2,data:{animation:[(0,E.X$)("panelState",[(0,E.eR)("void => visible",[(0,E._7)(tt)]),(0,E.eR)("visible => void",[(0,E._7)(Xe)])])]},changeDetection:0}),Ve})(),Ye=(()=>{class Ve{}return Ve.\u0275fac=function(ye){return new(ye||Ve)},Ve.\u0275mod=_.oAB({type:Ve}),Ve.\u0275inj=_.cJS({imports:[Z.ez,_e.T]}),Ve})()},982:(Gt,qe,U)=>{U.d(qe,{P9:()=>K,Th:()=>Z,gb:()=>_});class _{static equals(ie,he,pe){return pe?this.resolveFieldData(ie,pe)===this.resolveFieldData(he,pe):this.equalsByValue(ie,he)}static equalsByValue(ie,he){if(ie===he)return!0;if(ie&&he&&"object"==typeof ie&&"object"==typeof he){var se,me,ke,pe=Array.isArray(ie),ee=Array.isArray(he);if(pe&&ee){if((me=ie.length)!=he.length)return!1;for(se=me;0!=se--;)if(!this.equalsByValue(ie[se],he[se]))return!1;return!0}if(pe!=ee)return!1;var Ge=ie instanceof Date,ze=he instanceof Date;if(Ge!=ze)return!1;if(Ge&&ze)return ie.getTime()==he.getTime();var _t=ie instanceof RegExp,tt=he instanceof RegExp;if(_t!=tt)return!1;if(_t&&tt)return ie.toString()==he.toString();var Xe=Object.keys(ie);if((me=Xe.length)!==Object.keys(he).length)return!1;for(se=me;0!=se--;)if(!Object.prototype.hasOwnProperty.call(he,Xe[se]))return!1;for(se=me;0!=se--;)if(!this.equalsByValue(ie[ke=Xe[se]],he[ke]))return!1;return!0}return ie!=ie&&he!=he}static resolveFieldData(ie,he){if(ie&&he){if(this.isFunction(he))return he(ie);if(-1==he.indexOf("."))return ie[he];{let pe=he.split("."),ee=ie;for(let se=0,me=pe.length;se<me;++se){if(null==ee)return null;ee=ee[pe[se]]}return ee}}return null}static isFunction(ie){return!!(ie&&ie.constructor&&ie.call&&ie.apply)}static reorderArray(ie,he,pe){ie&&he!==pe&&(pe>=ie.length&&(pe%=ie.length,he%=ie.length),ie.splice(pe,0,ie.splice(he,1)[0]))}static insertIntoOrderedArray(ie,he,pe,ee){if(pe.length>0){let se=!1;for(let me=0;me<pe.length;me++)if(this.findIndexInList(pe[me],ee)>he){pe.splice(me,0,ie),se=!0;break}se||pe.push(ie)}else pe.push(ie)}static findIndexInList(ie,he){let pe=-1;if(he)for(let ee=0;ee<he.length;ee++)if(he[ee]==ie){pe=ee;break}return pe}static contains(ie,he){if(null!=ie&&he&&he.length)for(let pe of he)if(this.equals(ie,pe))return!0;return!1}static removeAccents(ie){return ie&&ie.search(/[\xC0-\xFF]/g)>-1&&(ie=ie.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),ie}static isEmpty(ie){return null==ie||""===ie||Array.isArray(ie)&&0===ie.length||!(ie instanceof Date)&&"object"==typeof ie&&0===Object.keys(ie).length}static isNotEmpty(ie){return!this.isEmpty(ie)}static compare(ie,he,pe,ee=1){let se=-1;const me=this.isEmpty(ie),ke=this.isEmpty(he);return se=me&&ke?0:me?ee:ke?-ee:"string"==typeof ie&&"string"==typeof he?ie.localeCompare(he,pe,{numeric:!0}):ie<he?-1:ie>he?1:0,se}static sort(ie,he,pe=1,ee,se=1){return(1===se?pe:se)*_.compare(ie,he,ee,pe)}static merge(ie,he){if(null!=ie||null!=he)return null!=ie&&"object"!=typeof ie||null!=he&&"object"!=typeof he?null!=ie&&"string"!=typeof ie||null!=he&&"string"!=typeof he?he||ie:[ie||"",he||""].join(" "):{...ie||{},...he||{}}}}var E=0;function Z(){return"pr_id_"+ ++E}var K=function _e(){let Y=[];const ee=se=>se&&parseInt(se.style.zIndex,10)||0;return{get:ee,set:(se,me,ke)=>{me&&(me.style.zIndex=String(((se,me)=>{let ke=Y.length>0?Y[Y.length-1]:{key:se,value:me},Ge=ke.value+(ke.key===se?0:me)+1;return Y.push({key:se,value:Ge}),Ge})(se,ke)))},clear:se=>{se&&((se=>{Y=Y.filter(me=>me.value!==se)})(ee(se)),se.style.zIndex="")},getCurrent:()=>Y.length>0?Y[Y.length-1].value:0}}()},5861:(Gt,qe,U)=>{function _(Z,_e,K,Y,ie,he,pe){try{var ee=Z[he](pe),se=ee.value}catch(me){return void K(me)}ee.done?_e(se):Promise.resolve(se).then(Y,ie)}function E(Z){return function(){var _e=this,K=arguments;return new Promise(function(Y,ie){var he=Z.apply(_e,K);function pe(se){_(he,Y,ie,pe,ee,"next",se)}function ee(se){_(he,Y,ie,pe,ee,"throw",se)}pe(void 0)})}}U.d(qe,{Z:()=>E})}},Gt=>{Gt(Gt.s=9500)}]);